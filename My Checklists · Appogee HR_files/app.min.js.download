!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k="".trim,l={},m="1.11.0",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray||function(a){return"array"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:k&&!k.call("\ufeffÂ ")?function(a){return null==a?"":k.call(a)}:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s="sizzle"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A="undefined",B=1<<31,C={}.hasOwnProperty,D=[],E=D.pop,F=D.push,G=D.push,H=D.slice,I=D.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},J="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",K="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",M=L.replace("w","w#"),N="\\["+K+"*("+L+")"+K+"*(?:([*^$|!~]?=)"+K+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+M+")|)|)"+K+"*\\]",O=":("+L+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+N.replace(3,8)+")*)|.*)\\)|)",P=new RegExp("^"+K+"+|((?:^|[^\\\\])(?:\\\\.)*)"+K+"+$","g"),Q=new RegExp("^"+K+"*,"+K+"*"),R=new RegExp("^"+K+"*([>+~]|"+K+")"+K+"*"),S=new RegExp("="+K+"*([^\\]'\"]*?)"+K+"*\\]","g"),T=new RegExp(O),U=new RegExp("^"+M+"$"),V={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L.replace("w","w*")+")"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+K+"*(even|odd|(([+-]|)(\\d*)n|)"+K+"*(?:([+-]|)"+K+"*(\\d+)|))"+K+"*\\)|)","i"),bool:new RegExp("^(?:"+J+")$","i"),needsContext:new RegExp("^"+K+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+K+"*((?:-\\d)?\\d*)"+K+"*\\)|)(?=[^-]|$)","i")},W=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$=/[+~]/,_=/'|\\/g,ab=new RegExp("\\\\([\\da-f]{1,6}"+K+"?|("+K+")|.)","ig"),bb=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)};try{G.apply(D=H.call(t.childNodes),t.childNodes),D[t.childNodes.length].nodeType}catch(cb){G={apply:D.length?function(a,b){F.apply(a,H.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function db(a,b,d,e){var f,g,h,i,j,m,p,q,u,v;if((b?b.ownerDocument||b:t)!==l&&k(b),b=b||l,d=d||[],!a||"string"!=typeof a)return d;if(1!==(i=b.nodeType)&&9!==i)return[];if(n&&!e){if(f=Z.exec(a))if(h=f[1]){if(9===i){if(g=b.getElementById(h),!g||!g.parentNode)return d;if(g.id===h)return d.push(g),d}else if(b.ownerDocument&&(g=b.ownerDocument.getElementById(h))&&r(b,g)&&g.id===h)return d.push(g),d}else{if(f[2])return G.apply(d,b.getElementsByTagName(a)),d;if((h=f[3])&&c.getElementsByClassName&&b.getElementsByClassName)return G.apply(d,b.getElementsByClassName(h)),d}if(c.qsa&&(!o||!o.test(a))){if(q=p=s,u=b,v=9===i&&a,1===i&&"object"!==b.nodeName.toLowerCase()){m=ob(a),(p=b.getAttribute("id"))?q=p.replace(_,"\\$&"):b.setAttribute("id",q),q="[id='"+q+"'] ",j=m.length;while(j--)m[j]=q+pb(m[j]);u=$.test(a)&&mb(b.parentNode)||b,v=m.join(",")}if(v)try{return G.apply(d,u.querySelectorAll(v)),d}catch(w){}finally{p||b.removeAttribute("id")}}}return xb(a.replace(P,"$1"),b,d,e)}function eb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function fb(a){return a[s]=!0,a}function gb(a){var b=l.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function hb(a,b){var c=a.split("|"),e=a.length;while(e--)d.attrHandle[c[e]]=b}function ib(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||B)-(~a.sourceIndex||B);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function jb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function kb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function lb(a){return fb(function(b){return b=+b,fb(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function mb(a){return a&&typeof a.getElementsByTagName!==A&&a}c=db.support={},f=db.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},k=db.setDocument=function(a){var b,e=a?a.ownerDocument||a:t,g=e.defaultView;return e!==l&&9===e.nodeType&&e.documentElement?(l=e,m=e.documentElement,n=!f(e),g&&g!==g.top&&(g.addEventListener?g.addEventListener("unload",function(){k()},!1):g.attachEvent&&g.attachEvent("onunload",function(){k()})),c.attributes=gb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=gb(function(a){return a.appendChild(e.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Y.test(e.getElementsByClassName)&&gb(function(a){return a.innerHTML="<div class='a'></div><div class='a i'></div>",a.firstChild.className="i",2===a.getElementsByClassName("i").length}),c.getById=gb(function(a){return m.appendChild(a).id=s,!e.getElementsByName||!e.getElementsByName(s).length}),c.getById?(d.find.ID=function(a,b){if(typeof b.getElementById!==A&&n){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ab,bb);return function(a){var c=typeof a.getAttributeNode!==A&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return typeof b.getElementsByTagName!==A?b.getElementsByTagName(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return typeof b.getElementsByClassName!==A&&n?b.getElementsByClassName(a):void 0},p=[],o=[],(c.qsa=Y.test(e.querySelectorAll))&&(gb(function(a){a.innerHTML="<select t=''><option selected=''></option></select>",a.querySelectorAll("[t^='']").length&&o.push("[*^$]="+K+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||o.push("\\["+K+"*(?:value|"+J+")"),a.querySelectorAll(":checked").length||o.push(":checked")}),gb(function(a){var b=e.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&o.push("name"+K+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||o.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),o.push(",.*:")})),(c.matchesSelector=Y.test(q=m.webkitMatchesSelector||m.mozMatchesSelector||m.oMatchesSelector||m.msMatchesSelector))&&gb(function(a){c.disconnectedMatch=q.call(a,"div"),q.call(a,"[s!='']:x"),p.push("!=",O)}),o=o.length&&new RegExp(o.join("|")),p=p.length&&new RegExp(p.join("|")),b=Y.test(m.compareDocumentPosition),r=b||Y.test(m.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},z=b?function(a,b){if(a===b)return j=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===e||a.ownerDocument===t&&r(t,a)?-1:b===e||b.ownerDocument===t&&r(t,b)?1:i?I.call(i,a)-I.call(i,b):0:4&d?-1:1)}:function(a,b){if(a===b)return j=!0,0;var c,d=0,f=a.parentNode,g=b.parentNode,h=[a],k=[b];if(!f||!g)return a===e?-1:b===e?1:f?-1:g?1:i?I.call(i,a)-I.call(i,b):0;if(f===g)return ib(a,b);c=a;while(c=c.parentNode)h.unshift(c);c=b;while(c=c.parentNode)k.unshift(c);while(h[d]===k[d])d++;return d?ib(h[d],k[d]):h[d]===t?-1:k[d]===t?1:0},e):l},db.matches=function(a,b){return db(a,null,null,b)},db.matchesSelector=function(a,b){if((a.ownerDocument||a)!==l&&k(a),b=b.replace(S,"='$1']"),!(!c.matchesSelector||!n||p&&p.test(b)||o&&o.test(b)))try{var d=q.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return db(b,l,null,[a]).length>0},db.contains=function(a,b){return(a.ownerDocument||a)!==l&&k(a),r(a,b)},db.attr=function(a,b){(a.ownerDocument||a)!==l&&k(a);var e=d.attrHandle[b.toLowerCase()],f=e&&C.call(d.attrHandle,b.toLowerCase())?e(a,b,!n):void 0;return void 0!==f?f:c.attributes||!n?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},db.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},db.uniqueSort=function(a){var b,d=[],e=0,f=0;if(j=!c.detectDuplicates,i=!c.sortStable&&a.slice(0),a.sort(z),j){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return i=null,a},e=db.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=db.selectors={cacheLength:50,createPseudo:fb,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ab,bb),a[3]=(a[4]||a[5]||"").replace(ab,bb),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||db.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&db.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return V.CHILD.test(a[0])?null:(a[3]&&void 0!==a[4]?a[2]=a[4]:c&&T.test(c)&&(b=ob(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ab,bb).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=w[a+" "];return b||(b=new RegExp("(^|"+K+")"+a+"("+K+"|$)"))&&w(a,function(a){return b.test("string"==typeof a.className&&a.className||typeof a.getAttribute!==A&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=db.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),t=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p])if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&t){k=q[s]||(q[s]={}),j=k[a]||[],n=j[0]===u&&j[1],m=j[0]===u&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if(1===l.nodeType&&++m&&l===b){k[a]=[u,n,m];break}}else if(t&&(j=(b[s]||(b[s]={}))[a])&&j[0]===u)m=j[1];else while(l=++n&&l&&l[p]||(m=n=0)||o.pop())if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(t&&((l[s]||(l[s]={}))[a]=[u,m]),l===b))break;return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||db.error("unsupported pseudo: "+a);return e[s]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?fb(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=I.call(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:fb(function(a){var b=[],c=[],d=g(a.replace(P,"$1"));return d[s]?fb(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:fb(function(a){return function(b){return db(a,b).length>0}}),contains:fb(function(a){return function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:fb(function(a){return U.test(a||"")||db.error("unsupported lang: "+a),a=a.replace(ab,bb).toLowerCase(),function(b){var c;do{if(c=n?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===m},focus:function(a){return a===l.activeElement&&(!l.hasFocus||l.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return X.test(a.nodeName)},input:function(a){return W.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:lb(function(){return[0]}),last:lb(function(a,b){return[b-1]}),eq:lb(function(a,b,c){return[0>c?c+b:c]}),even:lb(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:lb(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:lb(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:lb(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=jb(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=kb(b);function nb(){}nb.prototype=d.filters=d.pseudos,d.setFilters=new nb;function ob(a,b){var c,e,f,g,h,i,j,k=x[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){(!c||(e=Q.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=R.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(P," ")}),h=h.slice(c.length));for(g in d.filter)!(e=V[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?db.error(a):x(a,i).slice(0)}function pb(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function qb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=v++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[u,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(i=b[s]||(b[s]={}),(h=i[d])&&h[0]===u&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function rb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function sb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function tb(a,b,c,d,e,f){return d&&!d[s]&&(d=tb(d)),e&&!e[s]&&(e=tb(e,f)),fb(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||wb(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:sb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=sb(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?I.call(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=sb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):G.apply(g,r)})}function ub(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],i=g||d.relative[" "],j=g?1:0,k=qb(function(a){return a===b},i,!0),l=qb(function(a){return I.call(b,a)>-1},i,!0),m=[function(a,c,d){return!g&&(d||c!==h)||((b=c).nodeType?k(a,c,d):l(a,c,d))}];f>j;j++)if(c=d.relative[a[j].type])m=[qb(rb(m),c)];else{if(c=d.filter[a[j].type].apply(null,a[j].matches),c[s]){for(e=++j;f>e;e++)if(d.relative[a[e].type])break;return tb(j>1&&rb(m),j>1&&pb(a.slice(0,j-1).concat({value:" "===a[j-2].type?"*":""})).replace(P,"$1"),c,e>j&&ub(a.slice(j,e)),f>e&&ub(a=a.slice(e)),f>e&&pb(a))}m.push(c)}return rb(m)}function vb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,i,j,k){var m,n,o,p=0,q="0",r=f&&[],s=[],t=h,v=f||e&&d.find.TAG("*",k),w=u+=null==t?1:Math.random()||.1,x=v.length;for(k&&(h=g!==l&&g);q!==x&&null!=(m=v[q]);q++){if(e&&m){n=0;while(o=a[n++])if(o(m,g,i)){j.push(m);break}k&&(u=w)}c&&((m=!o&&m)&&p--,f&&r.push(m))}if(p+=q,c&&q!==p){n=0;while(o=b[n++])o(r,s,g,i);if(f){if(p>0)while(q--)r[q]||s[q]||(s[q]=E.call(j));s=sb(s)}G.apply(j,s),k&&!f&&s.length>0&&p+b.length>1&&db.uniqueSort(j)}return k&&(u=w,h=t),r};return c?fb(f):f}g=db.compile=function(a,b){var c,d=[],e=[],f=y[a+" "];if(!f){b||(b=ob(a)),c=b.length;while(c--)f=ub(b[c]),f[s]?d.push(f):e.push(f);f=y(a,vb(e,d))}return f};function wb(a,b,c){for(var d=0,e=b.length;e>d;d++)db(a,b[d],c);return c}function xb(a,b,e,f){var h,i,j,k,l,m=ob(a);if(!f&&1===m.length){if(i=m[0]=m[0].slice(0),i.length>2&&"ID"===(j=i[0]).type&&c.getById&&9===b.nodeType&&n&&d.relative[i[1].type]){if(b=(d.find.ID(j.matches[0].replace(ab,bb),b)||[])[0],!b)return e;a=a.slice(i.shift().value.length)}h=V.needsContext.test(a)?0:i.length;while(h--){if(j=i[h],d.relative[k=j.type])break;if((l=d.find[k])&&(f=l(j.matches[0].replace(ab,bb),$.test(i[0].type)&&mb(b.parentNode)||b))){if(i.splice(h,1),a=f.length&&pb(i),!a)return G.apply(e,f),e;break}}}return g(a,m)(f,b,!n,e,$.test(a)&&mb(b.parentNode)||b),e}return c.sortStable=s.split("").sort(z).join("")===s,c.detectDuplicates=!!j,k(),c.sortDetached=gb(function(a){return 1&a.compareDocumentPosition(l.createElement("div"))}),gb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||hb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&gb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||hb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),gb(function(a){return null==a.getAttribute("disabled")})||hb(J,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),db}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return n.inArray(a,b)>=0!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;e>b;b++)if(n.contains(d[b],this))return!0}));for(b=0;e>b;b++)n.find(a,d[b],c);return c=this.pushStack(e>1?n.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=a.document,A=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,B=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:A.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:z,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}if(d=z.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2])return y.find(a);this.length=1,this[0]=d}return this.context=z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};B.prototype=n.fn,y=n(z);var C=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!n(e).is(c)))1===e.nodeType&&d.push(e),e=e[b];return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b,c=n(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(n.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?n.inArray(this[0],n(a)):n.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function E(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return E(a,"nextSibling")},prev:function(a){return E(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return n.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(D[a]||(e=n.unique(e)),C.test(a)&&(e=e.reverse())),this.pushStack(e)}});var F=/\S+/g,G={};function H(a){var b=G[a]={};return n.each(a.match(F)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?G[a]||H(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++)if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&n.each(arguments,function(a,c){var d;while((d=n.inArray(c,h,d))>-1)h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return!i},fireWith:function(a,c){return!h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!d}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){if(a===!0?!--n.readyWait:!n.isReady){if(!z.body)return setTimeout(n.ready);n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(z,[n]),n.fn.trigger&&n(z).trigger("ready").off("ready"))}}});function J(){z.addEventListener?(z.removeEventListener("DOMContentLoaded",K,!1),a.removeEventListener("load",K,!1)):(z.detachEvent("onreadystatechange",K),a.detachEvent("onload",K))}function K(){(z.addEventListener||"load"===event.type||"complete"===z.readyState)&&(J(),n.ready())}n.ready.promise=function(b){if(!I)if(I=n.Deferred(),"complete"===z.readyState)setTimeout(n.ready);else if(z.addEventListener)z.addEventListener("DOMContentLoaded",K,!1),a.addEventListener("load",K,!1);else{z.attachEvent("onreadystatechange",K),a.attachEvent("onload",K);var c=!1;try{c=null==a.frameElement&&z.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!n.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}J(),n.ready()}}()}return I.promise(b)};var L="undefined",M;for(M in n(l))break;l.ownLast="0"!==M,l.inlineBlockNeedsLayout=!1,n(function(){var a,b,c=z.getElementsByTagName("body")[0];c&&(a=z.createElement("div"),a.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",b=z.createElement("div"),c.appendChild(a).appendChild(b),typeof b.style.zoom!==L&&(b.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(l.inlineBlockNeedsLayout=3===b.offsetWidth)&&(c.style.zoom=1)),c.removeChild(a),a=b=null)}),function(){var a=z.createElement("div");if(null==l.deleteExpando){l.deleteExpando=!0;try{delete a.test}catch(b){l.deleteExpando=!1}}a=null}(),n.acceptData=function(a){var b=n.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;function P(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(O,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c}catch(e){}n.data(a,b,c)}else c=void 0}return c}function Q(a){var b;for(b in a)if(("data"!==b||!n.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function R(a,b,d,e){if(n.acceptData(a)){var f,g,h=n.expando,i=a.nodeType,j=i?n.cache:a,k=i?a[h]:a[h]&&h
;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b)return k||(k=i?a[h]=c.pop()||n.guid++:h),j[k]||(j[k]=i?{}:{toJSON:n.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=n.extend(j[k],b):j[k].data=n.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[n.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[n.camelCase(b)])):f=g,f}}function S(a,b,c){if(n.acceptData(a)){var d,e,f=a.nodeType,g=f?n.cache:a,h=f?a[n.expando]:n.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){n.isArray(b)?b=b.concat(n.map(b,n.camelCase)):b in d?b=[b]:(b=n.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--)delete d[b[e]];if(c?!Q(d):!n.isEmptyObject(d))return}(c||(delete g[h].data,Q(g[h])))&&(f?n.cleanData([a],!0):l.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}n.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?n.cache[a[n.expando]]:a[n.expando],!!a&&!Q(a)},data:function(a,b,c){return R(a,b,c)},removeData:function(a,b){return S(a,b)},_data:function(a,b,c){return R(a,b,c,!0)},_removeData:function(a,b){return S(a,b,!0)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=n.data(f),1===f.nodeType&&!n._data(f,"parsedAttrs"))){c=g.length;while(c--)d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d]));n._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){n.data(this,a)}):arguments.length>1?this.each(function(){n.data(this,a,b)}):f?P(f,a,n.data(f,a)):void 0},removeData:function(a){return this.each(function(){n.removeData(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=n._data(a,b),c&&(!d||n.isArray(c)?d=n._data(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return n._data(a,c)||n._data(a,c,{empty:n.Callbacks("once memory").add(function(){n._removeData(a,b+"queue"),n._removeData(a,c)})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=n._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var T=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},W=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},X=/^(?:checkbox|radio)$/i;!function(){var a=z.createDocumentFragment(),b=z.createElement("div"),c=z.createElement("input");if(b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a>",l.leadingWhitespace=3===b.firstChild.nodeType,l.tbody=!b.getElementsByTagName("tbody").length,l.htmlSerialize=!!b.getElementsByTagName("link").length,l.html5Clone="<:nav></:nav>"!==z.createElement("nav").cloneNode(!0).outerHTML,c.type="checkbox",c.checked=!0,a.appendChild(c),l.appendChecked=c.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,a.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,l.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){l.noCloneEvent=!1}),b.cloneNode(!0).click()),null==l.deleteExpando){l.deleteExpando=!0;try{delete b.test}catch(d){l.deleteExpando=!1}}a=b=c=null}(),function(){var b,c,d=z.createElement("div");for(b in{submit:!0,change:!0,focusin:!0})c="on"+b,(l[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),l[b+"Bubbles"]=d.attributes[c].expando===!1);d=null}();var Y=/^(?:input|select|textarea)$/i,Z=/^key/,$=/^(?:mouse|contextmenu)|click/,_=/^(?:focusinfocus|focusoutblur)$/,ab=/^([^.]*)(?:\.(.+)|)$/;function bb(){return!0}function cb(){return!1}function db(){try{return z.activeElement}catch(a){}}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=n.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof n===L||a&&n.event.triggered===a.type?void 0:n.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(F)||[""],h=b.length;while(h--)f=ab.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=n.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=n.event.special[o]||{},l=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},i),(m=g[o])||(m=g[o]=[],m.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,l):m.push(l),n.event.global[o]=!0);a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=n.hasData(a)&&n._data(a);if(r&&(k=r.events)){b=(b||"").match(F)||[""],j=b.length;while(j--)if(h=ab.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;while(f--)g=m[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete k[o])}else for(o in k)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(k)&&(delete r.handle,n._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,m,o=[d||z],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||z,3!==d.nodeType&&8!==d.nodeType&&!_.test(p+n.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[n.expando]?b:new n.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),k=n.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!n.isWindow(d)){for(i=k.delegateType||p,_.test(i+p)||(h=h.parentNode);h;h=h.parentNode)o.push(h),l=h;l===(d.ownerDocument||z)&&o.push(l.defaultView||l.parentWindow||a)}m=0;while((h=o[m++])&&!b.isPropagationStopped())b.type=m>1?i:k.bindType||p,f=(n._data(h,"events")||{})[b.type]&&n._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&n.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault());if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&n.acceptData(d)&&g&&d[p]&&!n.isWindow(d)){l=d[g],l&&(d[g]=null),n.event.triggered=p;try{d[p]()}catch(r){}n.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(n._data(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped())(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((n.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!=this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++)d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?n(c,this).index(i)>=0:n.find(c,this,null,[i]).length),e[c]&&e.push(d);e.length&&g.push({elem:i,handlers:e})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=$.test(e)?this.mouseHooks:Z.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;while(b--)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||z),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||z,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==db()&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===db()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return n.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=z.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===L&&(a[d]=null),a.detachEvent(d,c))},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&(a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault())?bb:cb):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:cb,isPropagationStopped:cb,isImmediatePropagationStopped:cb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=bb,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=bb,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bb,this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),l.submitBubbles||(n.event.special.submit={setup:function(){return n.nodeName(this,"form")?!1:void n.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=n.nodeName(b,"input")||n.nodeName(b,"button")?b.form:void 0;c&&!n._data(c,"submitBubbles")&&(n.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),n._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&n.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return n.nodeName(this,"form")?!1:void n.event.remove(this,"._submit")}}),l.changeBubbles||(n.event.special.change={setup:function(){return Y.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(n.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),n.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),n.event.simulate("change",this,a,!0)})),!1):void n.event.add(this,"beforeactivate._change",function(a){var b=a.target;Y.test(b.nodeName)&&!n._data(b,"changeBubbles")&&(n.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||n.event.simulate("change",this.parentNode,a,!0)}),n._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return n.event.remove(this,"._change"),!Y.test(this.nodeName)}}),l.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=n._data(d,b);e||d.addEventListener(a,c,!0),n._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=n._data(d,b)-1;e?n._data(d,b,e):(d.removeEventListener(a,c,!0),n._removeData(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a)this.on(f,b,c,a[f],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=cb;else if(!d)return this;return 1===e&&(g=d,d=function(a){return n().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=cb),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});function eb(a){var b=fb.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}var fb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gb=/ jQuery\d+="(?:null|\d+)"/g,hb=new RegExp("<(?:"+fb+")[\\s/>]","i"),ib=/^\s+/,jb=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kb=/<([\w:]+)/,lb=/<tbody/i,mb=/<|&#?\w+;/,nb=/<(?:script|style|link)/i,ob=/checked\s*(?:[^=]|=\s*.checked.)/i,pb=/^$|\/(?:java|ecma)script/i,qb=/^true\/(.*)/,rb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,sb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:l.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},tb=eb(z),ub=tb.appendChild(z.createElement("div"));sb.optgroup=sb.option,sb.tbody=sb.tfoot=sb.colgroup=sb.caption=sb.thead,sb.th=sb.td;function vb(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==L?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==L?a.querySelectorAll(b||"*"):void 0;if(!f)for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++)!b||n.nodeName(d,b)?f.push(d):n.merge(f,vb(d,b));return void 0===b||b&&n.nodeName(a,b)?n.merge([a],f):f}function wb(a){X.test(a.type)&&(a.defaultChecked=a.checked)}function xb(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function yb(a){return a.type=(null!==n.find.attr(a,"type"))+"/"+a.type,a}function zb(a){var b=qb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function Ab(a,b){for(var c,d=0;null!=(c=a[d]);d++)n._data(c,"globalEval",!b||n._data(b[d],"globalEval"))}function Bb(a,b){if(1===b.nodeType&&n.hasData(a)){var c,d,e,f=n._data(a),g=n._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)n.event.add(b,c,h[c][d])}g.data&&(g.data=n.extend({},g.data))}}function Cb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!l.noCloneEvent&&b[n.expando]){e=n._data(b);for(d in e.events)n.removeEvent(b,d,e.handle);b.removeAttribute(n.expando)}"script"===c&&b.text!==a.text?(yb(b).text=a.text,zb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),l.html5Clone&&a.innerHTML&&!n.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&X.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}n.extend({clone:function(a,b,c){var d,e,f,g,h,i=n.contains(a.ownerDocument,a);if(l.html5Clone||n.isXMLDoc(a)||!hb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(ub.innerHTML=a.outerHTML,ub.removeChild(f=ub.firstChild)),!(l.noCloneEvent&&l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(d=vb(f),h=vb(a),g=0;null!=(e=h[g]);++g)d[g]&&Cb(e,d[g]);if(b)if(c)for(h=h||vb(a),d=d||vb(f),g=0;null!=(e=h[g]);g++)Bb(e,d[g]);else Bb(a,f);return d=vb(f,"script"),d.length>0&&Ab(d,!i&&vb(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,m=a.length,o=eb(b),p=[],q=0;m>q;q++)if(f=a[q],f||0===f)if("object"===n.type(f))n.merge(p,f.nodeType?[f]:f);else if(mb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(kb.exec(f)||["",""])[1].toLowerCase(),k=sb[i]||sb._default,h.innerHTML=k[1]+f.replace(jb,"<$1></$2>")+k[2],e=k[0];while(e--)h=h.lastChild;if(!l.leadingWhitespace&&ib.test(f)&&p.push(b.createTextNode(ib.exec(f)[0])),!l.tbody){f="table"!==i||lb.test(f)?"<table>"!==k[1]||lb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--)n.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}n.merge(p,h.childNodes),h.textContent="";while(h.firstChild)h.removeChild(h.firstChild);h=o.lastChild}else p.push(b.createTextNode(f));h&&o.removeChild(h),l.appendChecked||n.grep(vb(p,"input"),wb),q=0;while(f=p[q++])if((!d||-1===n.inArray(f,d))&&(g=n.contains(f.ownerDocument,f),h=vb(o.appendChild(f),"script"),g&&Ab(h),c)){e=0;while(f=h[e++])pb.test(f.type||"")&&c.push(f)}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=n.expando,j=n.cache,k=l.deleteExpando,m=n.event.special;null!=(d=a[h]);h++)if((b||n.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events)for(e in g.events)m[e]?n.event.remove(d,e):n.removeEvent(d,e,g.handle);j[f]&&(delete j[f],k?delete d[i]:typeof d.removeAttribute!==L?d.removeAttribute(i):d[i]=null,c.push(f))}}}),n.fn.extend({text:function(a){return W(this,function(a){return void 0===a?n.text(this):this.empty().append((this[0]&&this[0].ownerDocument||z).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=xb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(vb(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&Ab(vb(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&n.cleanData(vb(a,!1));while(a.firstChild)a.removeChild(a.firstChild);a.options&&n.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return W(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(gb,""):void 0;if(!("string"!=typeof a||nb.test(a)||!l.htmlSerialize&&hb.test(a)||!l.leadingWhitespace&&ib.test(a)||sb[(kb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(jb,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(vb(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(vb(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,k=this.length,m=this,o=k-1,p=a[0],q=n.isFunction(p);if(q||k>1&&"string"==typeof p&&!l.checkClone&&ob.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(k&&(i=n.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=n.map(vb(i,"script"),yb),f=g.length;k>j;j++)d=i,j!==o&&(d=n.clone(d,!0,!0),f&&n.merge(g,vb(d,"script"))),b.call(this[j],d,j);if(f)for(h=g[g.length-1].ownerDocument,n.map(g,zb),j=0;f>j;j++)d=g[j],pb.test(d.type||"")&&!n._data(d,"globalEval")&&n.contains(h,d)&&(d.src?n._evalUrl&&n._evalUrl(d.src):n.globalEval((d.text||d.textContent||d.innerHTML||"").replace(rb,"")));i=c=null}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=0,e=[],g=n(a),h=g.length-1;h>=d;d++)c=d===h?this:this.clone(!0),n(g[d])[b](c),f.apply(e,c.get());return this.pushStack(e)}});var Db,Eb={};function Fb(b,c){var d=n(c.createElement(b)).appendTo(c.body),e=a.getDefaultComputedStyle?a.getDefaultComputedStyle(d[0]).display:n.css(d[0],"display");return d.detach(),e}function Gb(a){var b=z,c=Eb[a];return c||(c=Fb(a,b),"none"!==c&&c||(Db=(Db||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Db[0].contentWindow||Db[0].contentDocument).document,b.write(),b.close(),c=Fb(a,b),Db.detach()),Eb[a]=c),c}!function(){var a,b,c=z.createElement("div"),d="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=c.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(a.style.opacity),l.cssFloat=!!a.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===c.style.backgroundClip,a=c=null,l.shrinkWrapBlocks=function(){var a,c,e,f;if(null==b){if(a=z.getElementsByTagName("body")[0],!a)return;f="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",c=z.createElement("div"),e=z.createElement("div"),a.appendChild(c).appendChild(e),b=!1,typeof e.style.zoom!==L&&(e.style.cssText=d+";width:1px;padding:1px;zoom:1",e.innerHTML="<div></div>",e.firstChild.style.width="5px",b=3!==e.offsetWidth),a.removeChild(c),a=c=e=null}return b}}();var Hb=/^margin/,Ib=new RegExp("^("+T+")(?!px)[a-z%]+$","i"),Jb,Kb,Lb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Jb=function(a){return a.ownerDocument.defaultView.getComputedStyle(a,null)},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),Ib.test(g)&&Hb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):z.documentElement.currentStyle&&(Jb=function(a){return a.currentStyle},Kb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Jb(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Ib.test(g)&&!Lb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Mb(a,b){return{get:function(){var c=a();if(null!=c)return c?void delete this.get:(this.get=b).apply(this,arguments)}}}!function(){var b,c,d,e,f,g,h=z.createElement("div"),i="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",j="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";h.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",b=h.getElementsByTagName("a")[0],b.style.cssText="float:left;opacity:.5",l.opacity=/^0.5/.test(b.style.opacity),l.cssFloat=!!b.style.cssFloat,h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,b=h=null,n.extend(l,{reliableHiddenOffsets:function(){if(null!=c)return c;var a,b,d,e=z.createElement("div"),f=z.getElementsByTagName("body")[0];if(f)return e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=z.createElement("div"),a.style.cssText=i,f.appendChild(a).appendChild(e),e.innerHTML="<table><tr><td></td><td>t</td></tr></table>",b=e.getElementsByTagName("td"),b[0].style.cssText="padding:0;margin:0;border:0;display:none",d=0===b[0].offsetHeight,b[0].style.display="",b[1].style.display="none",c=d&&0===b[0].offsetHeight,f.removeChild(a),e=f=null,c},boxSizing:function(){return null==d&&k(),d},boxSizingReliable:function(){return null==e&&k(),e},pixelPosition:function(){return null==f&&k(),f},reliableMarginRight:function(){var b,c,d,e;if(null==g&&a.getComputedStyle){if(b=z.getElementsByTagName("body")[0],!b)return;c=z.createElement("div"),d=z.createElement("div"),c.style.cssText=i,b.appendChild(c).appendChild(d),e=d.appendChild(z.createElement("div")),e.style.cssText=d.style.cssText=j,e.style.marginRight=e.style.width="0",d.style.width="1px",g=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight),b.removeChild(c)}return g}});function k(){var b,c,h=z.getElementsByTagName("body")[0];h&&(b=z.createElement("div"),c=z.createElement("div"),b.style.cssText=i,h.appendChild(b).appendChild(c),c.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",n.swap(h,null!=h.style.zoom?{zoom:1}:{},function(){d=4===c.offsetWidth}),e=!0,f=!1,g=!0,a.getComputedStyle&&(f="1%"!==(a.getComputedStyle(c,null)||{}).top,e="4px"===(a.getComputedStyle(c,null)||{width:"4px"}).width),h.removeChild(b),c=h=null)}}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Nb=/alpha\([^)]*\)/i,Ob=/opacity\s*=\s*([^)]*)/,Pb=/^(none|table(?!-c[ea]).+)/,Qb=new RegExp("^("+T+")(.*)$","i"),Rb=new RegExp("^([+-])=("+T+")","i"),Sb={position:"absolute",visibility:"hidden",display:"block"},Tb={letterSpacing:0,fontWeight:400},Ub=["Webkit","O","Moz","ms"];function Vb(a,b){if(b in a)return b;var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Ub.length;while(e--)if(b=Ub[e]+c,b in a)return b;return d}function Wb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=n._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=n._data(d,"olddisplay",Gb(d.nodeName)))):f[g]||(e=V(d),(c&&"none"!==c||!e)&&n._data(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Xb(a,b,c){var d=Qb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Yb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Zb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Jb(a),g=l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Kb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ib.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Yb(a,b,c||(g?"border":"content"),d,f)+"px"}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Kb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:l.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;if(b=n.cssProps[h]||(n.cssProps[h]=Vb(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c)return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b];if(f=typeof c,"string"===f&&(e=Rb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set"in g&&void 0===(c=g.set(a,c,d)))))try{i[b]="",i[b]=c}catch(j){}}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Vb(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Kb(a,b,d)),"normal"===f&&b in Tb&&(f=Tb[b]),""===c||c?(e=parseFloat(f),c===!0||n.isNumeric(e)?e||0:f):f}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?0===a.offsetWidth&&Pb.test(n.css(a,"display"))?n.swap(a,Sb,function(){return Zb(a,b,d)}):Zb(a,b,d):void 0},set:function(a,c,d){var e=d&&Jb(a);return Xb(a,c,d?Yb(a,b,d,l.boxSizing()&&"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),l.opacity||(n.cssHooks.opacity={get:function(a,b){return Ob.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=n.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===n.trim(f.replace(Nb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Nb.test(f)?f.replace(Nb,e):f+" "+e)}}),n.cssHooks.marginRight=Mb(l.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},Kb,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){
n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Hb.test(a)||(n.cssHooks[a+b].set=Xb)}),n.fn.extend({css:function(a,b){return W(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Jb(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Wb(this,!0)},hide:function(){return Wb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function $b(a,b,c,d,e){return new $b.prototype.init(a,b,c,d,e)}n.Tween=$b,$b.prototype={constructor:$b,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=$b.propHooks[this.prop];return a&&a.get?a.get(this):$b.propHooks._default.get(this)},run:function(a){var b,c=$b.propHooks[this.prop];return this.pos=b=this.options.duration?n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):$b.propHooks._default.set(this),this}},$b.prototype.init.prototype=$b.prototype,$b.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},$b.propHooks.scrollTop=$b.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=$b.prototype.init,n.fx.step={};var _b,ac,bc=/^(?:toggle|show|hide)$/,cc=new RegExp("^(?:([+-])=|)("+T+")([a-z%]*)$","i"),dc=/queueHooks$/,ec=[jc],fc={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=cc.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&cc.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,n.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function gc(){return setTimeout(function(){_b=void 0}),_b=n.now()}function hc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=U[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function ic(a,b,c){for(var d,e=(fc[b]||[]).concat(fc["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function jc(a,b,c){var d,e,f,g,h,i,j,k,m=this,o={},p=a.style,q=a.nodeType&&V(a),r=n._data(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,m.always(function(){m.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=n.css(a,"display"),k=Gb(a.nodeName),"none"===j&&(j=k),"inline"===j&&"none"===n.css(a,"float")&&(l.inlineBlockNeedsLayout&&"inline"!==k?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",l.shrinkWrapBlocks()||m.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],bc.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d])continue;q=!0}o[d]=r&&r[d]||n.style(a,d)}if(!n.isEmptyObject(o)){r?"hidden"in r&&(q=r.hidden):r=n._data(a,"fxshow",{}),f&&(r.hidden=!q),q?n(a).show():m.done(function(){n(a).hide()}),m.done(function(){var b;n._removeData(a,"fxshow");for(b in o)n.style(a,b,o[b])});for(d in o)g=ic(q?r[d]:0,d,m),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function kc(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function lc(a,b,c){var d,e,f=0,g=ec.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=_b||gc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:_b||gc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(kc(k,j.opts.specialEasing);g>f;f++)if(d=ec[f].call(j,a,k,j.opts))return d;return n.map(k,ic,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(lc,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],fc[c]=fc[c]||[],fc[c].unshift(b)},prefilter:function(a,b){b?ec.unshift(a):ec.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=lc(this,n.extend({},a),f);(e||n._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=n._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&dc.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=n._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(hc(b,!0),a,d,e)}}),n.each({slideDown:hc("show"),slideUp:hc("hide"),slideToggle:hc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=n.timers,c=0;for(_b=n.now();c<b.length;c++)a=b[c],a()||b[c]!==a||b.splice(c--,1);b.length||n.fx.stop(),_b=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){ac||(ac=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(ac),ac=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e=z.createElement("div");e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=e.getElementsByTagName("a")[0],c=z.createElement("select"),d=c.appendChild(z.createElement("option")),b=e.getElementsByTagName("input")[0],a.style.cssText="top:1px",l.getSetAttribute="t"!==e.className,l.style=/top/.test(a.getAttribute("style")),l.hrefNormalized="/a"===a.getAttribute("href"),l.checkOn=!!b.value,l.optSelected=d.selected,l.enctype=!!z.createElement("form").enctype,c.disabled=!0,l.optDisabled=!d.disabled,b=z.createElement("input"),b.setAttribute("value",""),l.input=""===b.getAttribute("value"),b.value="t",b.setAttribute("type","radio"),l.radioValue="t"===b.value,a=b=c=d=e=null}();var mc=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(mc,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.text(a)}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(l.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)if(d=e[g],n.inArray(n.valHooks.option.get(d),f)>=0)try{d.selected=c=!0}catch(h){d.scrollHeight}else d.selected=!1;return c||(a.selectedIndex=-1),e}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var nc,oc,pc=n.expr.attrHandle,qc=/^(?:checked|selected)$/i,rc=l.getSetAttribute,sc=l.input;n.fn.extend({attr:function(a,b){return W(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===L?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?oc:nc)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(F);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)?sc&&rc||!qc.test(c)?a[d]=!1:a[n.camelCase("default-"+c)]=a[d]=!1:n.attr(a,c,""),a.removeAttribute(rc?c:d)},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),oc={set:function(a,b,c){return b===!1?n.removeAttr(a,c):sc&&rc||!qc.test(c)?a.setAttribute(!rc&&n.propFix[c]||c,c):a[n.camelCase("default-"+c)]=a[c]=!0,c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=pc[b]||n.find.attr;pc[b]=sc&&rc||!qc.test(b)?function(a,b,d){var e,f;return d||(f=pc[b],pc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,pc[b]=f),e}:function(a,b,c){return c?void 0:a[n.camelCase("default-"+b)]?b.toLowerCase():null}}),sc&&rc||(n.attrHooks.value={set:function(a,b,c){return n.nodeName(a,"input")?void(a.defaultValue=b):nc&&nc.set(a,b,c)}}),rc||(nc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},pc.id=pc.name=pc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},n.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:nc.set},n.attrHooks.contenteditable={set:function(a,b,c){nc.set(a,""===b?!1:b,c)}},n.each(["width","height"],function(a,b){n.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),l.style||(n.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var tc=/^(?:input|select|textarea|button|object)$/i,uc=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return W(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return a=n.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),n.extend({propFix:{for:"htmlFor",class:"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):tc.test(a.nodeName)||uc.test(a.nodeName)&&a.href?0:-1}}}}),l.hrefNormalized||n.each(["href","src"],function(a,b){n.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this}),l.enctype||(n.propFix.enctype="encoding");var vc=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):" ")){f=0;while(e=b[f++])d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(j)for(b=(a||"").match(F)||[];i>h;h++)if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(vc," "):"")){f=0;while(e=b[f++])while(d.indexOf(" "+e+" ")>=0)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=n(this),f=a.match(F)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else(c===L||"boolean"===c)&&(this.className&&n._data(this,"__className__",this.className),this.className=this.className||a===!1?"":n._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(vc," ").indexOf(b)>=0)return!0;return!1}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var wc=n.now(),xc=/\?/,yc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;n.parseJSON=function(b){if(a.JSON&&a.JSON.parse)return a.JSON.parse(b+"");var c,d=null,e=n.trim(b+"");return e&&!n.trim(e.replace(yc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():n.error("Invalid JSON: "+b)},n.parseXML=function(b){var c,d;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var zc,Ac,Bc=/#.*$/,Cc=/([?&])_=[^&]*/,Dc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ec=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Fc=/^(?:GET|HEAD)$/,Gc=/^\/\//,Hc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Ic={},Jc={},Kc="*/".concat("*");try{Ac=location.href}catch(Lc){Ac=z.createElement("a"),Ac.href="",Ac=Ac.href}zc=Hc.exec(Ac.toLowerCase())||[];function Mc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(F)||[];if(n.isFunction(c))while(d=f[e++])"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function Nc(a,b,c,d){var e={},f=a===Jc;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Oc(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(d in b)void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d]);return c&&n.extend(!0,a,c),a}function Pc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"));if(e)for(g in h)if(h[g]&&h[g].test(e)){i.unshift(g);break}if(i[0]in c)f=i[0];else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Qc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ac,type:"GET",isLocal:Ec.test(zc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Oc(Oc(a,n.ajaxSettings),b):Oc(n.ajaxSettings,a)},ajaxPrefilter:Mc(Ic),ajaxTransport:Mc(Jc),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Dc.exec(f))j[b[1].toLowerCase()]=b[2]}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||Ac)+"").replace(Bc,"").replace(Gc,zc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(F)||[""],null==k.crossDomain&&(c=Hc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===zc[1]&&c[2]===zc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(zc[3]||("http:"===zc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),Nc(Ic,k,b,v),2===t)return v;h=k.global,h&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Fc.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(xc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Cc.test(e)?e.replace(Cc,"$1_="+wc++):e+(xc.test(e)?"&":"?")+"_="+wc++)),k.ifModified&&(n.lastModified[e]&&v.setRequestHeader("If-Modified-Since",n.lastModified[e]),n.etag[e]&&v.setRequestHeader("If-None-Match",n.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Kc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers)v.setRequestHeader(d,k.headers[d]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(d in{success:1,error:1,complete:1})v[d](k[d]);if(i=Nc(Jc,k,b,v)){v.readyState=1,h&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Pc(k,v,c)),u=Qc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(n.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},n.fn.extend({wrapAll:function(a){if(n.isFunction(a))return this.each(function(b){n(this).wrapAll(a.call(this,b))});if(this[0]){var b=n(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!l.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||n.css(a,"display"))},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var Rc=/%20/g,Sc=/\[\]$/,Tc=/\r?\n/g,Uc=/^(?:submit|button|image|reset|file)$/i,Vc=/^(?:input|select|textarea|keygen)/i;function Wc(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Sc.test(a)?d(a,e):Wc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Wc(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Wc(c,a[c],b,e);return d.join("&").replace(Rc,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Vc.test(this.nodeName)&&!Uc.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Tc,"\r\n")}}):{name:b.name,value:c.replace(Tc,"\r\n")}}).get()}}),n.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&$c()||_c()}:$c;var Xc=0,Yc={},Zc=n.ajaxSettings.xhr();a.ActiveXObject&&n(a).on("unload",function(){for(var a in Yc)Yc[a](void 0,!0)}),l.cors=!!Zc&&"withCredentials"in Zc,Zc=l.ajax=!!Zc,Zc&&n.ajaxTransport(function(a){if(!a.crossDomain||l.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Xc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)void 0!==c[e]&&f.setRequestHeader(e,c[e]+"");f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState))if(delete Yc[g],b=void 0,f.onreadystatechange=n.noop,e)4!==f.readyState&&f.abort();else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Yc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function $c(){try{return new a.XMLHttpRequest}catch(b){}}function _c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=z.head||n("head")[0]||z.documentElement;return{send:function(d,e){b=z.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var ad=[],bd=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=ad.pop()||n.expando+"_"+wc++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(bd.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&bd.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(bd,"$1"+e):b.jsonp!==!1&&(b.url+=(xc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,ad.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||z;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var cd=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&cd)return cd.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=a.slice(h,a.length),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&n.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var dd=a.document.documentElement;function ed(a){return n.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&n.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f)return b=f.documentElement,n.contains(b,e)?(typeof e.getBoundingClientRect!==L&&(d=e.getBoundingClientRect()),c=ed(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===n.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(c=a.offset()),c.top+=n.css(a[0],"borderTopWidth",!0),c.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-n.css(d,"marginTop",!0),left:b.left-c.left-n.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||dd;while(a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position"))a=a.offsetParent;return a||dd})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);n.fn[a]=function(d){return W(this,function(a,d,e){var f=ed(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void(f?f.scrollTo(c?n(f).scrollLeft():e,c?e:n(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Mb(l.pixelPosition,function(a,c){return c?(c=Kb(a,b),Ib.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return W(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)
},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var fd=a.jQuery,gd=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=gd),b&&a.jQuery===n&&(a.jQuery=fd),n},typeof b===L&&(a.jQuery=a.$=n),n});(function(t,e){function i(e,i){var n,o,a,r=e.nodeName.toLowerCase();return"area"===r?(n=e.parentNode,o=n.name,e.href&&o&&"map"===n.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&s(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&s(e)}function s(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var n=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,s){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),s&&s.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var s,n,o=t(this[0]);o.length&&o[0]!==document;){if(s=o.css("position"),("absolute"===s||"relative"===s||"fixed"===s)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,s){return!!t.data(e,s[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var s=t.attr(e,"tabindex"),n=isNaN(s);return(n||s>=0)&&i(e,!n)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,s){function n(e,i,s,n){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),n&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===s?["Left","Right"]:["Top","Bottom"],a=s.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+s]=function(i){return i===e?r["inner"+s].call(this):this.each(function(){t(this).css(a,n(this,i)+"px")})},t.fn["outer"+s]=function(e,i){return"number"!=typeof e?r["outer"+s].call(this,e):this.each(function(){t(this).css(a,n(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,s){var n,o=t.ui[e].prototype;for(n in s)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([i,s[n]])},call:function(t,e,i){var s,n=t.plugins[e];if(n&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(s=0;n.length>s;s++)t.options[n[s][0]]&&n[s][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var s=i&&"left"===i?"scrollLeft":"scrollTop",n=!1;return e[s]>0?!0:(e[s]=1,n=e[s]>0,e[s]=0,n)}})})(jQuery),function(t,e){var i=0,s=Array.prototype.slice,n=t.cleanData;t.cleanData=function(e){for(var i,s=0;null!=(i=e[s]);s++)try{t(i).triggerHandler("remove")}catch(o){}n(e)},t.widget=function(i,s,n){var o,a,r,h,l={},c=i.split(".")[0];i=i.split(".")[1],o=c+"-"+i,n||(n=s,s=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[c]=t[c]||{},a=t[c][i],r=t[c][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),h=new s,h.options=t.widget.extend({},h.options),t.each(n,function(i,n){return t.isFunction(n)?(l[i]=function(){var t=function(){return s.prototype[i].apply(this,arguments)},e=function(t){return s.prototype[i].apply(this,t)};return function(){var i,s=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=n.apply(this,arguments),this._super=s,this._superApply=o,i}}(),e):(l[i]=n,e)}),r.prototype=t.widget.extend(h,{widgetEventPrefix:a?h.widgetEventPrefix:i},l,{constructor:r,namespace:c,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,r,i._proto)}),delete a._childConstructors):s._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var n,o,a=s.call(arguments,1),r=0,h=a.length;h>r;r++)for(n in a[r])o=a[r][n],a[r].hasOwnProperty(n)&&o!==e&&(i[n]=t.isPlainObject(o)?t.isPlainObject(i[n])?t.widget.extend({},i[n],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,n){var o=n.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,h=s.call(arguments,1),l=this;return a=!r&&h.length?t.widget.extend.apply(null,[a].concat(h)):a,r?this.each(function(){var s,n=t.data(this,o);return n?t.isFunction(n[a])&&"_"!==a.charAt(0)?(s=n[a].apply(n,h),s!==n&&s!==e?(l=s&&s.jquery?l.pushStack(s.get()):s,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new n(a,this))}),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,s){var n,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},n=i.split("."),i=n.shift(),n.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;n.length-1>a;a++)o[n[a]]=o[n[a]]||{},o=o[n[a]];if(i=n.pop(),s===e)return o[i]===e?null:o[i];o[i]=s}else{if(s===e)return this.options[i]===e?null:this.options[i];r[i]=s}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,s,n){var o,a=this;"boolean"!=typeof i&&(n=s,s=i,i=!1),n?(s=o=t(s),this.bindings=this.bindings.add(s)):(n=s,s=this.element,o=this.widget()),t.each(n,function(n,r){function h(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(h.guid=r.guid=r.guid||h.guid||t.guid++);var l=n.match(/^(\w+)\s*(.*)$/),c=l[1]+a.eventNamespace,u=l[2];u?o.delegate(u,c,h):s.bind(c,h)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,n=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return s._mouseMove(t)},this._mouseUpDelegate=function(t){return s._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var s=this._uiHash();if(this._trigger("drag",e,s)===!1)return this._mouseUp({}),!1;this.position=s.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,s=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(s=t.ui.ddmanager.drop(this,e)),this.dropped&&(s=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!s||"valid"===this.options.revert&&s||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,s)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;return n.containment?"window"===n.containment?(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):"document"===n.containment?(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],undefined):n.containment.constructor===Array?(this.containment=n.containment,undefined):("parent"===n.containment&&(n.containment=this.helper[0].parentNode),i=t(n.containment),s=i[0],s&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(s.scrollWidth,s.offsetWidth):s.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(s.scrollHeight,s.offsetHeight):s.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i),undefined):(this.containment=null,undefined)},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*s}},_generatePosition:function(e){var i,s,n,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(s=this.relative_container.offset(),i=[this.containment[0]+s.left,this.containment[1]+s.top,this.containment[2]+s.left,this.containment[3]+s.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(h=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(l=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(h=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(l=i[3]+this.offset.click.top)),a.grid&&(n=a.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,l=i?n-this.offset.click.top>=i[1]||n-this.offset.click.top>i[3]?n:n-this.offset.click.top>=i[1]?n-a.grid[1]:n+a.grid[1]:n,o=a.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,h=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,s){return s=s||this._uiHash(),t.ui.plugin.call(this,e,[i,s]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,s)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var s=t(this).data("ui-draggable"),n=s.options,o=t.extend({},i,{item:s.element});s.sortables=[],t(n.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(s.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var s=t(this).data("ui-draggable"),n=t.extend({},i,{item:s.element});t.each(s.sortables,function(){this.instance.isOver?(this.instance.isOver=0,s.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===s.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(e,i){var s=t(this).data("ui-draggable"),n=this;t.each(s.sortables,function(){var o=!1,a=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(n).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",e),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",e),s.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("opacity")&&(n._opacity=s.css("opacity")),s.css("opacity",n.opacity)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),s=i.options,n=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(s.axis&&"x"===s.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-i.overflowOffset.top<s.scrollSensitivity&&(i.scrollParent[0].scrollTop=n=i.scrollParent[0].scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-i.overflowOffset.left<s.scrollSensitivity&&(i.scrollParent[0].scrollLeft=n=i.scrollParent[0].scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(document).scrollTop()<s.scrollSensitivity?n=t(document).scrollTop(t(document).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<s.scrollSensitivity&&(n=t(document).scrollTop(t(document).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(document).scrollLeft()<s.scrollSensitivity?n=t(document).scrollLeft(t(document).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<s.scrollSensitivity&&(n=t(document).scrollLeft(t(document).scrollLeft()+s.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),s=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:s.top,left:s.left})})},drag:function(e,i){var s,n,o,a,r,h,l,c,u,d,p=t(this).data("ui-draggable"),f=p.options,g=f.snapTolerance,m=i.offset.left,v=m+p.helperProportions.width,_=i.offset.top,b=_+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,h=r+p.snapElements[u].width,l=p.snapElements[u].top,c=l+p.snapElements[u].height,r-g>v||m>h+g||l-g>b||_>c+g||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(s=g>=Math.abs(l-b),n=g>=Math.abs(c-_),o=g>=Math.abs(r-v),a=g>=Math.abs(h-m),s&&(i.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h}).left-p.margins.left)),d=s||n||o||a,"outer"!==f.snapMode&&(s=g>=Math.abs(l-_),n=g>=Math.abs(c-b),o=g>=Math.abs(r-m),a=g>=Math.abs(h-v),s&&(i.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:h-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(s||n||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=s||n||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,s=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});s.length&&(e=parseInt(t(s[0]).css("zIndex"),10)||0,t(s).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+s.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var s=t(i.helper),n=t(this).data("ui-draggable").options;s.css("zIndex")&&(n._zIndex=s.css("zIndex")),s.css("zIndex",n.zIndex)},stop:function(e,i){var s=t(this).data("ui-draggable").options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}})}(jQuery),function(t){function e(t,e,i){
return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var s=i||t.ui.ddmanager.current,n=!1;return s&&(s.currentItem||s.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===s.options.scope&&e.accept.call(e.element[0],s.currentItem||s.element)&&t.ui.intersect(s,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(n=!0,!1):undefined}),n?!1:this.accept.call(this.element[0],s.currentItem||s.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(s)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,s){if(!i.offset)return!1;var n,o,a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,h=(t.positionAbs||t.position.absolute).top,l=h+t.helperProportions.height,c=i.offset.left,u=c+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(s){case"fit":return a>=c&&u>=r&&h>=d&&p>=l;case"intersect":return a+t.helperProportions.width/2>c&&u>r-t.helperProportions.width/2&&h+t.helperProportions.height/2>d&&p>l-t.helperProportions.height/2;case"pointer":return n=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,d,i.proportions.height)&&e(n,c,i.proportions.width);case"touch":return(h>=d&&p>=h||l>=d&&p>=l||d>h&&l>p)&&(a>=c&&u>=a||r>=c&&u>=r||c>a&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var s,n,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(s=0;o.length>s;s++)if(!(o[s].options.disabled||e&&!o[s].accept.call(o[s].element[0],e.currentItem||e.element))){for(n=0;r.length>n;n++)if(r[n]===o[s].element[0]){o[s].proportions.height=0;continue t}o[s].visible="none"!==o[s].element.css("display"),o[s].visible&&("mousedown"===a&&o[s]._activate.call(o[s],i),o[s].offset=o[s].element.offset(),o[s].proportions={width:o[s].element[0].offsetWidth,height:o[s].element[0].offsetHeight})}},drop:function(e,i){var s=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(s=this._drop.call(this,i)||s),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),s},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var s,n,o,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(n=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===n}),o.length&&(s=t.data(o[0],"ui-droppable"),s.greedyChild="isover"===r)),s&&"isover"===r&&(s.isover=!1,s.isout=!0,s._out.call(s,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),s&&"isout"===r&&(s.isout=!1,s.isover=!0,s._over.call(s,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,s,n,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)s=t.trim(e[i]),o="ui-resizable-"+s,n=t("<div class='ui-resizable-handle "+o+"'></div>"),n.css({zIndex:r.zIndex}),"se"===s&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[s]=".ui-resizable-"+s,this.element.append(n);this._renderAxis=function(e){var i,s,n,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(s=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?s.outerHeight():s.outerWidth(),n=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(n,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,s,n=!1;for(i in this.handles)s=t(this.handles[i])[0],(s===e.target||t.contains(s,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(i){var s,n,o,a=this.options,r=this.element.position(),h=this.element;return this.resizing=!0,/absolute/.test(h.css("position"))?h.css({position:"absolute",top:h.css("top"),left:h.css("left")}):h.is(".ui-draggable")&&h.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),s=e(this.helper.css("left")),n=e(this.helper.css("top")),a.containment&&(s+=t(a.containment).scrollLeft()||0,n+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:s,top:n},this.size=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalSize=this._helper?{width:h.outerWidth(),height:h.outerHeight()}:{width:h.width(),height:h.height()},this.originalPosition={left:s,top:n},this.sizeDiff={width:h.outerWidth()-h.width(),height:h.outerHeight()-h.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),h.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,s=this.helper,n={},o=this.originalMousePosition,a=this.axis,r=this.position.top,h=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==h&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),s.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,s,n,o,a,r,h,l=this.options,c=this;return this._helper&&(i=this._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),n=s&&t.ui.hasScroll(i[0],"left")?0:c.sizeDiff.height,o=s?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,h=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(t.extend(a,{top:h,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,s,n,o,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,n=a.minWidth/this.aspectRatio,s=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),n>a.minHeight&&(a.minHeight=n),a.maxWidth>s&&(a.maxWidth=s),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,s=this.size,n=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(s.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(s.height-t.height),t.left=e.left+(s.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,s=this.axis,n=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,h=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(s),u=/nw|ne|n/.test(s);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&c&&(t.left=h-e.minWidth),n&&c&&(t.left=h-e.maxWidth),r&&u&&(t.top=l-e.minHeight),o&&u&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,s,n,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(n=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[n.css("borderTopWidth"),n.css("borderRightWidth"),n.css("borderBottomWidth"),n.css("borderLeftWidth")],s=[n.css("paddingTop"),n.css("paddingRight"),n.css("paddingBottom"),n.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(s[e],10)||0);n.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,s=this.originalPosition;return{left:s.left+e,width:i.width-e}},n:function(t,e,i){var s=this.originalSize,n=this.originalPosition;return{top:n.top+i,height:s.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},sw:function(e,i,s){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,s]))},ne:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,s]))},nw:function(e,i,s){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,s]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),s=i.options,n=i._proportionallyResizeElements,o=n.length&&/textarea/i.test(n[0].nodeName),a=o&&t.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,h={width:i.size.width-r,height:i.size.height-a},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(h,c&&l?{top:c,left:l}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&t(n[0]).css({width:s.width,height:s.height}),i._updateCache(s),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,s,n,o,a,r,h,l=t(this).data("ui-resizable"),c=l.options,u=l.element,d=c.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(l.containerElement=t(p),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),s=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){s[t]=e(i.css("padding"+n))}),l.containerOffset=i.offset(),l.containerPosition=i.position(),l.containerSize={height:i.innerHeight()-s[3],width:i.innerWidth()-s[1]},n=l.containerOffset,o=l.containerSize.height,a=l.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,h=t.ui.hasScroll(p)?p.scrollHeight:o,l.parentData={element:p,left:n.left,top:n.top,width:r,height:h}))},resize:function(e){var i,s,n,o,a=t(this).data("ui-resizable"),r=a.options,h=a.containerOffset,l=a.position,c=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=h),l.left<(a._helper?h.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-h.left:a.position.left-u.left),c&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?h.left:0),l.top<(a._helper?h.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-h.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?h.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),s=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-h.top)+a.sizeDiff.height),n=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),n&&o&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,c&&(a.size.height=a.size.width/a.aspectRatio)),s+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-s,c&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.containerOffset,n=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),h=a.outerWidth()-e.sizeDiff.width,l=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-n.left-s.left,width:h,height:l})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?s(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],s(i.alsoResize)):t.each(i.alsoResize,function(t){s(t)})},resize:function(e,i){var s=t(this).data("ui-resizable"),n=s.options,o=s.originalSize,a=s.originalPosition,r={height:s.size.height-o.height||0,width:s.size.width-o.width||0,top:s.position.top-a.top||0,left:s.position.left-a.left||0},h=function(e,s){t(e).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),o={},a=s&&s.length?s:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(n[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof n.alsoResize||n.alsoResize.nodeType?h(n.alsoResize):t.each(n.alsoResize,function(t,e){h(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:s.height,width:s.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,s=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,h=r[0]||1,l=r[1]||1,c=Math.round((s.width-n.width)/h)*h,u=Math.round((s.height-n.height)/l)*l,d=n.width+c,p=n.height+u,f=i.maxWidth&&d>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,m=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,m&&(d+=h),v&&(p+=l),f&&(d-=h),g&&(p-=l),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-c):(e.size.width=d,e.size.height=p,e.position.top=o.top-u,e.position.left=o.left-c)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,s=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(s.filter,this.element[0]),this._trigger("start",e),t(s.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),s.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var s=t.data(this,"selectable-item");s.startselected=!0,e.metaKey||e.ctrlKey||(s.$element.removeClass("ui-selected"),s.selected=!1,s.$element.addClass("ui-unselecting"),s.unselecting=!0,i._trigger("unselecting",e,{unselecting:s.element}))}),t(e.target).parents().addBack().each(function(){var s,n=t.data(this,"selectable-item");return n?(s=!e.metaKey&&!e.ctrlKey||!n.$element.hasClass("ui-selected"),n.$element.removeClass(s?"ui-unselecting":"ui-selected").addClass(s?"ui-selecting":"ui-unselecting"),n.unselecting=!s,n.selecting=s,n.selected=s,s?i._trigger("selecting",e,{selecting:n.element}):i._trigger("unselecting",e,{unselecting:n.element}),!1):undefined}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,s=this,n=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,h=e.pageY;return o>r&&(i=r,r=o,o=i),a>h&&(i=h,h=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:h-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),l=!1;i&&i.element!==s.element[0]&&("touch"===n.tolerance?l=!(i.left>r||o>i.right||i.top>h||a>i.bottom):"fit"===n.tolerance&&(l=i.left>o&&r>i.right&&i.top>a&&h>i.bottom),l?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,s._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),s._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,s._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-unselecting"),s.unselecting=!1,s.startselected=!1,i._trigger("unselected",e,{unselected:s.element})}),t(".ui-selecting",this.element[0]).each(function(){var s=t.data(this,"selectable-item");s.$element.removeClass("ui-selecting").addClass("ui-selected"),s.selecting=!1,s.selected=!0,s.startselected=!0,i._trigger("selected",e,{selected:s.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var s=null,n=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(s=t(this),!1):undefined}),t.data(e.target,o.widgetName+"-item")===o&&(s=t(e.target)),s?!this.options.handle||i||(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(n=!0)}),n)?(this.currentItem=s,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(e,i,s){var n,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(n=this.containers.length-1;n>=0;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,n,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),
e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],n=s.item[0],o=this._intersectsWithPointer(s),o&&s.instance===this.currentContainer&&n!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==n&&!t.contains(this.placeholder[0],n)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],n):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,n=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,n=s+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,h=r+t.height,l=this.offset.click.top,c=this.offset.click.left,u="x"===this.options.axis||s+l>r&&h>s+l,d="y"===this.options.axis||e+c>o&&a>e+c,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&s+this.helperProportions.height/2>r&&h>n-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),n=i&&s,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return n?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),s=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&s||"left"===o&&!s:n&&("down"===n&&i||"up"===n&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,s,n,o,a=[],r=[],h=this._connectWith();if(h&&e)for(i=h.length-1;i>=0;i--)for(n=t(h[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&r.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,n,o,a,r,h,l,c=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=t(d[i]),s=n.length-1;s>=0;s--)o=t.data(n[s],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],s=0,l=r.length;l>s;s++)h=t(r[s]),h.data(this.widgetName+"-item",a),c.push({item:h,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,n,o;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=n.outerWidth(),s.height=n.outerHeight()),o=n.offset(),s.left=o.left,s.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),n=t("<"+s+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===s?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}):"img"===s&&n.attr("src",e.currentItem.attr("src")),i||n.css("visibility","hidden"),n},update:function(t,n){(!i||s.forcePlaceholderSize)&&(n.height()||n.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),n.width()||n.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_contactContainers:function(s){var n,o,a,r,h,l,c,u,d,p,f=null,g=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&t.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],g=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",s,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[g].containerCache.over||(this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),h=p?"left":"top",l=p?"width":"height",c=this.positionAbs[h]+this.offset.click[h],o=this.items.length-1;o>=0;o--)t.contains(this.containers[g].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[h],d=!1,Math.abs(u-c)>Math.abs(u+this.items[o][l]-c)&&(d=!0,u+=this.items[o][l]),a>Math.abs(u-c)&&(a=Math.abs(u-c),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[g])return;r?this._rearrange(s,r,null,!0):this._rearrange(s,null,this.containers[g].element,!0),this._trigger("change",s,this._uiHash()),this.containers[g]._trigger("change",s,this._uiHash(this)),this.currentContainer=this.containers[g],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[g]._trigger("over",s,this._uiHash(this)),this.containers[g].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!s[0].style.width||i.forceHelperSize)&&s.width(this.currentItem.width()),(!s[0].style.height||i.forceHelperSize)&&s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),("document"===n.containment||"window"===n.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=t(n.containment)[0],i=t(n.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*s}},_generatePosition:function(e){var i,s,n=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,h=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),n.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/n.grid[1])*n.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-n.grid[1]:i+n.grid[1]:i,s=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-n.grid[0]:s+n.grid[0]:s)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():h?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():h?0:r.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var n=this.counter;this._delay(function(){n===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){this.reverting=!1;var i,s=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&s.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||s.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(s.push(function(t){this._trigger("remove",t,this._uiHash())}),s.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),s.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||s.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(s.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;s.length>i;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;s.length>i;i++)s[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var s=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=s.floor?~~t:parseFloat(t),isNaN(t)?e.def:s.mod?(t+s.mod)%s.mod:0>t?0:t>s.max?s.max:t)}function s(i){var s=l(),n=s._rgba=[];return i=i.toLowerCase(),f(h,function(t,o){var a,r=o.re.exec(i),h=r&&o.parse(r),l=o.space||"rgba";return h?(a=s[l](h),s[c[l].cache]=a[c[l].cache],n=s._rgba=a._rgba,!1):e}),n.length?("0,0,0,0"===n.join()&&t.extend(n,o.transparent),s):o[i]}function n(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,h=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],l=t.Color=function(e,i,s,n){return new t.Color.fn.parse(e,i,s,n)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=l.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(c,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),l.fn=t.extend(l.prototype,{parse:function(n,a,r,h){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(a),a=e);var u=this,d=t.type(n),p=this._rgba=[];return a!==e&&(n=[n,a,r,h],d="array"),"string"===d?this.parse(s(n)||o._default):"array"===d?(f(c.rgba.props,function(t,e){p[e.idx]=i(n[e.idx],e)}),this):"object"===d?(n instanceof l?f(c,function(t,e){n[e.cache]&&(u[e.cache]=n[e.cache].slice())}):f(c,function(e,s){var o=s.cache;f(s.props,function(t,e){if(!u[o]&&s.to){if("alpha"===t||null==n[t])return;u[o]=s.to(u._rgba)}u[o][e.idx]=i(n[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,s.from&&(u._rgba=s.from(u[o])))}),this):e},is:function(t){var i=l(t),s=!0,n=this;return f(c,function(t,o){var a,r=i[o.cache];return r&&(a=n[o.cache]||o.to&&o.to(n._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?s=r[i.idx]===a[i.idx]:e})),s}),s},_space:function(){var t=[],e=this;return f(c,function(i,s){e[s.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var s=l(t),n=s._space(),o=c[n],a=0===this.alpha()?l("transparent"):this,r=a[o.cache]||o.to(a._rgba),h=r.slice();return s=s[o.cache],f(o.props,function(t,n){var o=n.idx,a=r[o],l=s[o],c=u[n.type]||{};null!==l&&(null===a?h[o]=l:(c.mod&&(l-a>c.mod/2?a+=c.mod:a-l>c.mod/2&&(a-=c.mod)),h[o]=i((l-a)*e+a,n)))}),this[n](h)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),s=i.pop(),n=l(e)._rgba;return l(t.map(i,function(t,e){return(1-s)*n[e]+s*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),s=i.pop();return e&&i.push(~~(255*s)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),l.fn.parse.prototype=l.fn,c.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,s=t[0]/255,n=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(s,n,o),h=Math.min(s,n,o),l=r-h,c=r+h,u=.5*c;return e=h===r?0:s===r?60*(n-o)/l+360:n===r?60*(o-s)/l+120:60*(s-n)/l+240,i=0===l?0:.5>=u?l/c:l/(2-c),[Math.round(e)%360,i,u,null==a?1:a]},c.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],s=t[2],o=t[3],a=.5>=s?s*(1+i):s+i-s*i,r=2*s-a;return[Math.round(255*n(r,a,e+1/3)),Math.round(255*n(r,a,e)),Math.round(255*n(r,a,e-1/3)),o]},f(c,function(s,n){var o=n.props,a=n.cache,h=n.to,c=n.from;l.fn[s]=function(s){if(h&&!this[a]&&(this[a]=h(this._rgba)),s===e)return this[a].slice();var n,r=t.type(s),u="array"===r||"object"===r?s:arguments,d=this[a].slice();return f(o,function(t,e){var s=u["object"===r?t:e.idx];null==s&&(s=d[e.idx]),d[e.idx]=i(s,e)}),c?(n=l(c(d)),n[a]=d,n):l(d)},f(o,function(e,i){l.fn[e]||(l.fn[e]=function(n){var o,a=t.type(n),h="alpha"===e?this._hsla?"hsla":"rgba":s,l=this[h](),c=l[i.idx];return"undefined"===a?c:("function"===a&&(n=n.call(this,c),a=t.type(n)),null==n&&i.empty?this:("string"===a&&(o=r.exec(n),o&&(n=c+parseFloat(o[2])*("+"===o[1]?1:-1))),l[i.idx]=n,this[h](l)))})})}),l.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,n){var o,a,r="";if("transparent"!==n&&("string"!==t.type(n)||(o=s(n)))){if(n=l(o||n),!d.rgba&&1!==n._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(h){}n=n.blend(r&&"transparent"!==r?r:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(h){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=l(e.elem,i),e.end=l(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},l.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,s){e["border"+s+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,s,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(n&&n.length&&n[0]&&n[n[0]])for(s=n.length;s--;)i=n[s],"string"==typeof n[i]&&(o[t.camelCase(i)]=n[i]);else for(i in n)"string"==typeof n[i]&&(o[i]=n[i]);return o}function s(e,i){var s,n,a={};for(s in i)n=i[s],e[s]!==n&&(o[s]||(t.fx.step[s]||!isNaN(parseFloat(n)))&&(a[s]=n));return a}var n=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,r){var h=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",l=h.children?a.find("*").addBack():a;l=l.map(function(){var e=t(this);return{el:e,start:i(this)}}),o=function(){t.each(n,function(t,i){e[i]&&a[i+"Class"](e[i])})},o(),l=l.map(function(){return this.end=i(this.el[0]),this.diff=s(this.start,this.end),this}),a.attr("class",r),l=l.map(function(){var e=this,i=t.Deferred(),s=t.extend({},h,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,s),i.promise()}),t.when.apply(t,l.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),h.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,s,n,o){return s?t.effects.animateClass.call(this,{add:i},s,n,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,s,n,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},s,n,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(s,n,o,a,r){return"boolean"==typeof n||n===e?o?t.effects.animateClass.call(this,n?{add:s}:{remove:s},o,a,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:s},n,o,a)}}(t.fn.toggleClass),switchClass:function(e,i,s,n,o){return t.effects.animateClass.call(this,{add:i,remove:e},s,n,o)}})}(),function(){function s(e,i,s,n){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(n=i,s=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(n=s,s=i,i={}),t.isFunction(s)&&(n=s,s=null),i&&t.extend(e,i),s=s||i.duration,e.duration=t.fx.off?0:"number"==typeof s?s:s in t.fx.speeds?t.fx.speeds[s]:t.fx.speeds._default,e.complete=n||i.complete,e}function n(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var s=0;e.length>s;s++)null!==e[s]&&t.data(i+e[s],t[0].style[e[s]])},restore:function(t,s){var n,o;for(o=0;s.length>o;o++)null!==s[o]&&(n=t.data(i+s[o]),n===e&&(n=""),t.css(s[o],n))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,s;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":s=0;break;case"center":s=.5;break;case"right":s=1;break;default:s=t[1]/e.width}return{x:s,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},s=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),n={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(s),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),s=e.parent(),"static"===e.css("position")?(s.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,s){i[s]=e.css(s),isNaN(parseInt(i[s],10))&&(i[s]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(n),s.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,s,n){return n=n||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(n[i]=o[0]*s+o[1])}),n}}),t.fn.extend({effect:function(){function e(e){function s(){t.isFunction(o)&&o.call(n[0]),t.isFunction(e)&&e()}var n=t(this),o=i.complete,r=i.mode;(n.is(":hidden")?"hide"===r:"show"===r)?(n[r](),s()):a.call(n[0],i,s)}var i=s.apply(this,arguments),n=i.mode,o=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?n?this[n](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=s.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),s=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(s=[parseFloat(i),e])}),s}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=0,i={},s={}
;i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",s.height=s.paddingTop=s.paddingBottom=s.borderTopWidth=s.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?(this._activate(e),undefined):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),"disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e),undefined)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,s=this.headers.length,n=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(n+1)%s];break;case i.LEFT:case i.UP:o=this.headers[(n-1+s)%s];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[s-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,s=this.options,n=s.heightStyle,o=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(s.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),s=i.attr("id"),n=i.next(),o=n.attr("id");s||(s=a+"-header-"+e,i.attr("id",s)),o||(o=a+"-panel-"+e,n.attr("id",o)),i.attr("aria-controls",o),n.attr("aria-labelledby",s)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(s.event),"fill"===n?(i=o.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n[0]===s[0],a=o&&i.collapsible,r=a?t():n.next(),h=s.next(),l={oldHeader:s,oldPanel:h,newHeader:a?t():n,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,l)===!1||(i.active=a?!1:this.headers.index(n),this.active=o?t():n,this._toggle(l),s.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,s=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=s,this.options.animate?this._animate(i,s,e):(s.hide(),i.show(),this._toggleComplete(e)),s.attr({"aria-expanded":"false","aria-hidden":"true"}),s.prev().attr("aria-selected","false"),i.length&&s.length?s.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,n){var o,a,r,h=this,l=0,c=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=c&&u.down||u,p=function(){h._toggleComplete(n)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),t.hide().animate(s,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?l+=i.now:"content"!==h.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-l),l=0)}}),undefined):e.animate(i,r,a,p):t.animate(s,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,a="input"===n;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,i=!0,undefined;e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,(!this.isMultiLine||this.menu.element.is(":visible"))&&s.preventDefault(),undefined;if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(t){return s?(s=!1,t.preventDefault(),undefined):(this._searchTimeout(t),undefined)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,undefined):(clearTimeout(this.searching),this.close(t),this._change(t),undefined)}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(s){s.target===e.element[0]||s.target===i||t.contains(i,s.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)}),undefined;var s=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:s})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value):this.liveRegion.text(s.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){n(t)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):undefined},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(s){i===e&&t.__response(s),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),this.menu.blur(),undefined):(this.menu[t](e),undefined):(this.search(null,e),undefined)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return s.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,s,n,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",h=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},l=function(e){var i=e.name,s=e.form,n=t([]);return i&&(i=i.replace(/'/g,"\\'"),n=s?t(s).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),n};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,h),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,c="checkbox"===this.type||"radio"===this.type,u=c?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(d)}),c&&(this.element.bind("change"+this.eventNamespace,function(){n||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(n=!1,i=t.pageX,s=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||s!==t.pageY)&&(n=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||n?!1:undefined}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||n)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];l(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,a.document.one("mouseup",function(){e=null}),undefined)}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:(t(this).removeClass("ui-state-active"),undefined)}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"),undefined)}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1),undefined):(this._resetButton(),undefined)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?l(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return this.options.label&&this.element.val(this.options.label),undefined;var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),s=this.options.icons,n=s.primary&&s.secondary,o=[];s.primary||s.secondary?(this.options.text&&o.push("ui-button-text-icon"+(n?"s":s.primary?"-primary":"-secondary")),s.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+s.primary+"'></span>"),s.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+s.secondary+"'></span>"),this.options.text||(o.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=s(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function s(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function n(e,i){t.extend(e,i);for(var s in i)null==i[s]&&(e[s]=i[s]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return n(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var s,n,o;s=e.nodeName.toLowerCase(),n="div"===s||"span"===s,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),n),o.settings=t.extend({},i||{}),"input"===s?this._connectDatepicker(e,o):n&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var n=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?s(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var s=t(e);i.append=t([]),i.trigger=t([]),s.hasClass(this.markerClassName)||(this._attachments(s,i),s.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var s,n,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),s=this._get(i,"showOn"),("focus"===s||"both"===s)&&e.focus(this._showDatepicker),("button"===s||"both"===s)&&(n=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:n,title:n}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:n,title:n}):n)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,s,n,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,s=0,n=0;t.length>n;n++)t[n].length>i&&(i=t[n].length,s=n);return s},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var s=t(e);s.hasClass(this.markerClassName)||(s.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,s,o,r){var h,l,c,u,d,p=this._dialogInst;return p||(this.uuid+=1,h="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+h+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),n(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+u,c/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=s,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,s=t(e),n=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(n.append.remove(),n.trigger.remove(),s.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&s.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().removeClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,s,n=t(e),o=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(s=n.children("."+this._inlineClass),s.children().addClass("ui-state-disabled"),s.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,s,o){var a,r,h,l,c=this._getInst(i);return 2===arguments.length&&"string"==typeof s?"defaults"===s?t.extend({},t.datepicker._defaults):c?"all"===s?t.extend({},c.settings):this._get(c,s):null:(a=s||{},"string"==typeof s&&(a={},a[s]=o),c&&(this._curInst===c&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),h=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),n(c.settings,a),null!==h&&a.dateFormat!==e&&a.minDate===e&&(c.settings.minDate=this._formatDate(c,h)),
null!==l&&a.dateFormat!==e&&a.maxDate===e&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),c),this._autoSize(c),this._setDate(c,r),this._updateAlternate(c),this._updateDatepicker(c)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,s,n,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return n=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),n[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,n[0]),i=t.datepicker._get(o,"onSelect"),i?(s=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[s,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var s,n,o=t.datepicker._getInst(i.target);return t.datepicker._get(o,"constrainInput")?(s=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),n=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">n||!s||s.indexOf(n)>-1):e},_doKeyUp:function(e){var i,s=t.datepicker._getInst(e.target);if(s.input.val()!==s.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(s,"dateFormat"),s.input?s.input.val():null,t.datepicker._getFormatConfig(s)),i&&(t.datepicker._setDateFromField(s),t.datepicker._updateAlternate(s),t.datepicker._updateDatepicker(s))}catch(n){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,s,o,a,r,h,l;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),s=t.datepicker._get(i,"beforeShow"),o=s?s.apply(e,[e,i]):{},o!==!1&&(n(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(h=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[h]?i.dpDiv.show(h,t.datepicker._get(i,"showOptions"),l):i.dpDiv[h||"show"](h?l:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,s=this._getNumberOfMonths(e),n=s[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",a*n+"em"),e.dpDiv[(1!==s[0]||1!==s[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,s){var n=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,h=document.documentElement.clientWidth+(s?0:t(document).scrollLeft()),l=document.documentElement.clientHeight+(s?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?n-a:0,i.left-=s&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=s&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+n>h&&h>n?Math.abs(i.left+n-h):0),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,s=this._getInst(e),n=this._get(s,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,s,n,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),s=this._get(r,"duration"),n=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),s,n):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?s:null,n),i||n(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),s=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==s)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,s){var n=t(e),o=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(o,i+("M"===s?this._get(o,"showCurrentAtPos"):0),s),this._updateDatepicker(o))},_gotoToday:function(e){var i,s=t(e),n=this._getInst(s[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(i=new Date,n.selectedDay=i.getDate(),n.drawMonth=n.selectedMonth=i.getMonth(),n.drawYear=n.selectedYear=i.getFullYear()),this._notifyChange(n),this._adjustDate(s)},_selectMonthYear:function(e,i,s){var n=t(e),o=this._getInst(n[0]);o["selected"+("M"===s?"Month":"Year")]=o["draw"+("M"===s?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(n)},_selectDay:function(e,i,s,n){var o,a=t(e);t(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",n).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=s,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var s,n=t(e),o=this._getInst(n[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),s=this._get(o,"onSelect"),s?s.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,s,n,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),s=this._getDate(e),n=this.formatDate(i,s,this._getFormatConfig(e)),t(o).each(function(){t(this).val(n)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,s,n){if(null==i||null==s)throw"Invalid arguments";if(s="object"==typeof s?""+s:s+"",""===s)return null;var o,a,r,h,l=0,c=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),d=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,p=(n?n.dayNames:null)||this._defaults.dayNames,f=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,g=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,v=-1,_=-1,b=-1,y=!1,w=function(t){var e=i.length>o+1&&i.charAt(o+1)===t;return e&&o++,e},k=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,n=RegExp("^\\d{1,"+i+"}"),o=s.substring(l).match(n);if(!o)throw"Missing number at position "+l;return l+=o[0].length,parseInt(o[0],10)},x=function(i,n,o){var a=-1,r=t.map(w(i)?o:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,i){var n=i[1];return s.substr(l,n.length).toLowerCase()===n.toLowerCase()?(a=i[0],l+=n.length,!1):e}),-1!==a)return a+1;throw"Unknown name at position "+l},D=function(){if(s.charAt(l)!==i.charAt(o))throw"Unexpected literal at position "+l;l++};for(o=0;i.length>o;o++)if(y)"'"!==i.charAt(o)||w("'")?D():y=!1;else switch(i.charAt(o)){case"d":_=k("d");break;case"D":x("D",d,p);break;case"o":b=k("o");break;case"m":v=k("m");break;case"M":v=x("M",f,g);break;case"y":m=k("y");break;case"@":h=new Date(k("@")),m=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();break;case"!":h=new Date((k("!")-this._ticksTo1970)/1e4),m=h.getFullYear(),v=h.getMonth()+1,_=h.getDate();break;case"'":w("'")?D():y=!0;break;default:D()}if(s.length>l&&(r=s.substr(l),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=m?0:-100)),b>-1)for(v=1,_=b;;){if(a=this._getDaysInMonth(m,v-1),a>=_)break;v++,_-=a}if(h=this._daylightSavingAdjust(new Date(m,v-1,_)),h.getFullYear()!==m||h.getMonth()+1!==v||h.getDate()!==_)throw"Invalid date";return h},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:1e7*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var s,n=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,h=function(e){var i=t.length>s+1&&t.charAt(s+1)===e;return i&&s++,i},l=function(t,e,i){var s=""+e;if(h(t))for(;i>s.length;)s="0"+s;return s},c=function(t,e,i,s){return h(t)?s[e]:i[e]},u="",d=!1;if(e)for(s=0;t.length>s;s++)if(d)"'"!==t.charAt(s)||h("'")?u+=t.charAt(s):d=!1;else switch(t.charAt(s)){case"d":u+=l("d",e.getDate(),2);break;case"D":u+=c("D",e.getDay(),n,o);break;case"o":u+=l("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",e.getMonth()+1,2);break;case"M":u+=c("M",e.getMonth(),a,r);break;case"y":u+=h("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=t.charAt(s)}return u},_possibleChars:function(t){var e,i="",s=!1,n=function(i){var s=t.length>e+1&&t.charAt(e+1)===i;return s&&e++,s};for(e=0;t.length>e;e++)if(s)"'"!==t.charAt(e)||n("'")?i+=t.charAt(e):s=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":n("'")?i+="'":s=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),s=t.lastVal=t.input?t.input.val():null,n=this._getDefaultDate(t),o=n,a=this._getFormatConfig(t);try{o=this.parseDate(i,s,a)||n}catch(r){s=e?"":s}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=s?o.getDate():0,t.currentMonth=s?o.getMonth():0,t.currentYear=s?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,s){var n=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(s){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=n.getFullYear(),a=n.getMonth(),r=n.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(i);l;){switch(l[2]||"d"){case"d":case"D":r+=parseInt(l[1],10);break;case"w":case"W":r+=7*parseInt(l[1],10);break;case"m":case"M":a+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(l[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}l=h.exec(i)}return new Date(o,a,r)},a=null==i||""===i?s:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?s:n(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?s:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var s=!e,n=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),n===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(s?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),s="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(s,-i,"M")},next:function(){t.datepicker._adjustDate(s,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(s)},selectDay:function(){return t.datepicker._selectDay(s,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(s,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(s,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,s,n,o,a,r,h,l,c,u,d,p,f,g,m,v,_,b,y,w,k,x,D,C,I,P,T,M,S,z,A,H,E,N,W,O,F,R,L=new Date,j=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),Y=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),V=this._get(t,"hideIfNoPrevNext"),K=this._get(t,"navigationAsDateFormat"),U=this._getNumberOfMonths(t),q=this._get(t,"showCurrentAtPos"),Q=this._get(t,"stepMonths"),X=1!==U[0]||1!==U[1],$=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),G=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-q,te=t.drawYear;if(0>Z&&(Z+=12,te--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-U[0]*U[1]+1,J.getDate())),e=G&&G>e?G:e;this._daylightSavingAdjust(new Date(te,Z,1))>e;)Z--,0>Z&&(Z=11,te--);for(t.drawMonth=Z,t.drawYear=te,i=this._get(t,"prevText"),i=K?this.formatDate(i,this._daylightSavingAdjust(new Date(te,Z-Q,1)),this._getFormatConfig(t)):i,s=this._canAdjustMonth(t,-1,te,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>":V?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"e":"w")+"'>"+i+"</span></a>",n=this._get(t,"nextText"),n=K?this.formatDate(n,this._daylightSavingAdjust(new Date(te,Z+Q,1)),this._getFormatConfig(t)):n,o=this._canAdjustMonth(t,1,te,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>":V?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(Y?"w":"e")+"'>"+n+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?$:j,a=K?this.formatDate(a,r,this._getFormatConfig(t)):a,h=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",l=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(Y?h:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(Y?"":h)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),g=this._get(t,"monthNamesShort"),m=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),_=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),y="",k=0;U[0]>k;k++){for(x="",this.maxRows=4,D=0;U[1]>D;D++){if(C=this._daylightSavingAdjust(new Date(te,Z,t.selectedDay)),I=" ui-corner-all",P="",X){if(P+="<div class='ui-datepicker-group",U[1]>1)switch(D){case 0:P+=" ui-datepicker-group-first",I=" ui-corner-"+(Y?"right":"left");break;case U[1]-1:P+=" ui-datepicker-group-last",I=" ui-corner-"+(Y?"left":"right");break;default:P+=" ui-datepicker-group-middle",I=""}P+="'>"}for(P+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+I+"'>"+(/all|left/.test(I)&&0===k?Y?o:s:"")+(/all|right/.test(I)&&0===k?Y?s:o:"")+this._generateMonthYearHeader(t,Z,te,G,J,k>0||D>0,f,g)+"</div><table class='ui-datepicker-calendar'><thead>"+"<tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)M=(w+c)%7,T+="<th"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+">"+"<span title='"+d[M]+"'>"+p[M]+"</span></th>";for(P+=T+"</tr></thead><tbody>",S=this._getDaysInMonth(te,Z),te===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,S)),z=(this._getFirstDayOfMonth(te,Z)-c+7)%7,A=Math.ceil((z+S)/7),H=X?this.maxRows>A?this.maxRows:A:A,this.maxRows=H,E=this._daylightSavingAdjust(new Date(te,Z,1-z)),N=0;H>N;N++){for(P+="<tr>",W=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(E)+"</td>":"",w=0;7>w;w++)O=m?m.apply(t.input?t.input[0]:null,[E]):[!0,""],F=E.getMonth()!==Z,R=F&&!_||!O[0]||G&&G>E||J&&E>J,W+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(E.getTime()===C.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===E.getTime()&&b.getTime()===C.getTime()?" "+this._dayOverClass:"")+(R?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+O[1]+(E.getTime()===$.getTime()?" "+this._currentClass:"")+(E.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(R?"":" data-handler='selectDay' data-event='click' data-month='"+E.getMonth()+"' data-year='"+E.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":R?"<span class='ui-state-default'>"+E.getDate()+"</span>":"<a class='ui-state-default"+(E.getTime()===j.getTime()?" ui-state-highlight":"")+(E.getTime()===$.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+E.getDate()+"</a>")+"</td>",E.setDate(E.getDate()+1),E=this._daylightSavingAdjust(E);P+=W+"</tr>"}Z++,Z>11&&(Z=0,te++),P+="</tbody></table>"+(X?"</div>"+(U[0]>0&&D===U[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),x+=P}y+=x}return y+=l,t._keyEvent=!1,y},_generateMonthYearHeader:function(t,e,i,s,n,o,a,r){var h,l,c,u,d,p,f,g,m=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",y="";if(o||!m)y+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(h=s&&s.getFullYear()===i,l=n&&n.getFullYear()===i,y+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!h||c>=s.getMonth())&&(!l||n.getMonth()>=c)&&(y+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+r[c]+"</option>");y+="</select>"}if(_||(b+=y+(!o&&m&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),g=Math.max(f,p(u[1]||"")),f=s?Math.max(f,s.getFullYear()):f,g=n?Math.min(g,n.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";g>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!o&&m&&v?"":"&#xa0;")+y),b+="</div>"},_adjustInstDate:function(t,e,i){var s=t.drawYear+("Y"===i?e:0),n=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(s,n))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(s,n,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),s=this._getMinMaxDate(t,"max"),n=i&&i>e?i:e;return s&&n>s?s:n},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,s){var n=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,s+(0>e?e:n[0]*n[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,s,n=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,h=this._get(t,"yearRange");return h&&(i=h.split(":"),s=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=s),i[1].match(/[+\-].*/)&&(r+=s)),(!n||e.getTime()>=n.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,s){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var n=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(s,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),n,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?(this._moveToTop()&&this._focusTabbable(),undefined):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"),undefined)},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),this.close(e),undefined;if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),s=i.filter(":first"),n=i.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==s[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(s.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),
this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?(this.uiDialog.removeClass("ui-dialog-buttons"),undefined):(t.each(i,function(i,s){var n,o;s=t.isFunction(s)?{click:s,text:i}:s,s=t.extend({type:"button"},s),n=s.click,s.click=function(){n.apply(e.element[0],arguments)},o={icons:s.icons,text:s.showText},delete s.icons,delete s.showText,t("<button></button>",s).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog),undefined)},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(s,n){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",s,e(n))},drag:function(t,s){i._trigger("drag",t,e(s))},stop:function(n,o){s.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",n,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,s=this.options,n=s.resizable,o=this.uiDialog.css("position"),a="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:a,start:function(s,n){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",s,e(n))},resize:function(t,s){i._trigger("resize",t,e(s))},stop:function(n,o){s.height=t(this).height(),s.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",n,e(o))}}).css("position",o)},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(s){var n=this,o=!1,a={};t.each(s,function(t,s){n._setOption(t,s),t in e&&(o=!0),t in i&&(a[t]=s)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,s,n=this.uiDialog;"dialogClass"===t&&n.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=n.is(":data(ui-draggable)"),i&&!e&&n.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(s=n.is(":data(ui-resizable)"),s&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,s=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),s.minWidth>s.width&&(s.width=s.minWidth),t=this.uiDialog.css({height:"auto",width:s.width}).outerHeight(),e=Math.max(0,s.minHeight-t),i="number"==typeof s.maxHeight?Math.max(0,s.maxHeight-t):"none","auto"===s.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,s.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(s){e._allowInteraction(s)||(s.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,s=[],n=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(s=i.split?i.split(" "):[i[0],i[1]],1===s.length&&(s[1]=s[0]),t.each(["left","top"],function(t,e){+s[t]===s[t]&&(n[t]=s[t],s[t]=e)}),i={my:s[0]+(0>n[0]?n[0]:"+"+n[0])+" "+s[1]+(0>n[1]?n[1]:"+"+n[1]),at:s.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(s,n){var o,a,r,h=t(this),l=["position","top","bottom","left","right","height","width"],c=t.effects.setMode(h,s.mode||"hide"),u=s.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",g=i.test(u),m={},v="show"===c;h.parent().is(".ui-effects-wrapper")?t.effects.save(h.parent(),l):t.effects.save(h,l),h.show(),o=t.effects.createWrapper(h).css({overflow:"hidden"}),a=o[p](),r=parseFloat(o.css(f))||0,m[p]=v?a:0,g||(h.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),m[f]=v?r:a+r),v&&(o.css(p,0),g||o.css(f,r+a)),o.animate(m,{duration:s.duration,easing:s.easing,queue:!1,complete:function(){"hide"===c&&h.hide(),t.effects.restore(h,l),t.effects.removeWrapper(h),n()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"effect"),l="hide"===h,c="show"===h,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(c||l?1:0),g=e.duration/f,m=e.easing,v="up"===u||"down"===u?"top":"left",_="up"===u||"left"===u,b=a.queue(),y=b.length;for((c||l)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,_?2*-d:2*d).animate(o,g,m)),l&&(d/=Math.pow(2,p-1)),o={},o[v]=0,s=0;p>s;s++)n={},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m).animate(o,g,m),d=l?2*d:d/2;l&&(n={opacity:0},n[v]=(_?"-=":"+=")+d,a.animate(n,g,m)),a.queue(function(){l&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),y>1&&b.splice.apply(b,[1,0].concat(b.splice(y,f+1))),a.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(a,e.mode||"hide"),l="show"===h,c=e.direction||"vertical",u="vertical"===c,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(a,r),a.show(),s=t.effects.createWrapper(a).css({overflow:"hidden"}),n="IMG"===a[0].tagName?s:a,o=n[d](),l&&(n.css(d,0),n.css(p,o/2)),f[d]=l?o:0,f[p]=l?0:o/2,n.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){l||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(n,e.mode||"hide"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h?"pos":"neg",u={opacity:r?1:0};t.effects.save(n,o),n.show(),t.effects.createWrapper(n),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-s:s),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function s(){b.push(this),b.length===u*d&&n()}function n(){p.css({visibility:"visible"}),t(b).remove(),g||p.hide(),i()}var o,a,r,h,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),g="show"===f,m=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),_=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(h=m.top+o*_,c=o-(u-1)/2,a=0;d>a;a++)r=m.left+a*v,l=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*_}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:_,left:r+(g?l*v:0),top:h+(g?c*_:0),opacity:g?0:1}).animate({left:r+(g?0:l*v),top:h+(g?0:c*_),opacity:g?1:0},e.duration||500,e.easing,s)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"toggle");s.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var s,n,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),h="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),d=!!e.horizFirst,p=h!==d,f=p?["width","height"]:["height","width"],g=e.duration/2,m={},v={};t.effects.save(o,a),o.show(),s=t.effects.createWrapper(o).css({overflow:"hidden"}),n=p?[s.width(),s.height()]:[s.height(),s.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),h&&s.css(d?{height:0,width:c}:{height:c,width:0}),m[f[0]]=h?n[0]:c,v[f[1]]=h?n[1]:0,s.animate(m,g,e.easing).animate(v,g,e.easing,function(){l&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var s=t(this),n=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(s,e.mode||"show"),a={backgroundColor:s.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(s,n),s.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&s.hide(),t.effects.restore(s,n),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var s,n=t(this),o=t.effects.setMode(n,e.mode||"show"),a="show"===o,r="hide"===o,h=a||"hide"===o,l=2*(e.times||5)+(h?1:0),c=e.duration/l,u=0,d=n.queue(),p=d.length;for((a||!n.is(":visible"))&&(n.css("opacity",0).show(),u=1),s=1;l>s;s++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(function(){r&&n.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,l+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var s=t(this),n=t.effects.setMode(s,e.mode||"hide"),o="hide"===n,a=parseInt(e.percent,10)||150,r=a/100,h={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:i,percent:o?a:100,from:o?h:{height:h.height*r,width:h.width*r,outerHeight:h.outerHeight*r,outerWidth:h.outerWidth*r}}),s.effect(e)},t.effects.effect.scale=function(e,i){var s=t(this),n=t.extend(!0,{},e),o=t.effects.setMode(s,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",h=e.origin,l={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},c={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};n.effect="size",n.queue=!1,n.complete=i,"effect"!==o&&(n.origin=h||["middle","center"],n.restore=!0),n.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===o&&(n.from.opacity=0,n.to.opacity=1),"hide"===o&&(n.from.opacity=1,n.to.opacity=0)),s.effect(n)},t.effects.effect.size=function(e,i){var s,n,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],h=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,g=e.scale||"both",m=e.origin||["middle","center"],v=a.css("position"),_=f?r:h,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),s={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||s):(a.from=e.from||("show"===p?b:s),a.to=e.to||("hide"===p?b:s)),o={from:{y:a.from.height/s.height,x:a.from.width/s.width},to:{y:a.to.height/s.height,x:a.to.width/s.width}},("box"===g||"both"===g)&&(o.from.y!==o.to.y&&(_=_.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(_=_.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===g||"both"===g)&&o.from.y!==o.to.y&&(_=_.concat(c).concat(l),a.from=t.effects.setTransition(a,c,o.from.y,a.from),a.to=t.effects.setTransition(a,c,o.to.y,a.to)),t.effects.save(a,_),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),m&&(n=t.effects.getBaseline(m,s),a.from.top=(s.outerHeight-a.outerHeight())*n.y,a.from.left=(s.outerWidth-a.outerWidth())*n.x,a.to.top=(s.outerHeight-a.to.outerHeight)*n.y,a.to.left=(s.outerWidth-a.to.outerWidth)*n.x),a.css(a.from),("content"===g||"both"===g)&&(u=u.concat(["marginTop","marginBottom"]).concat(c),d=d.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),s={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,l),i.from={height:s.height*o.from.y,width:s.width*o.from.x,outerHeight:s.outerHeight*o.from.y,outerWidth:s.outerWidth*o.from.x},i.to={height:s.height*o.to.y,width:s.width*o.to.x,outerHeight:s.height*o.to.y,outerWidth:s.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,l)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,_),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var s=parseInt(i,10),n=t?a.to.left:a.to.top;return"auto"===i?n+"px":s+n+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",h=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},g={},m={},v=n.queue(),_=v.length;for(t.effects.save(n,o),n.show(),t.effects.createWrapper(n),f[d]=(p?"-=":"+=")+h,g[d]=(p?"+=":"-=")+2*h,m[d]=(p?"-=":"+=")+2*h,n.animate(f,u,e.easing),s=1;l>s;s++)n.animate(g,u,e.easing).animate(m,u,e.easing);n.animate(g,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}),_>1&&v.splice.apply(v,[1,0].concat(v.splice(_,c+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var s,n=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(n,e.mode||"show"),r="show"===a,h=e.direction||"left",l="up"===h||"down"===h?"top":"left",c="up"===h||"left"===h,u={};t.effects.save(n,o),n.show(),s=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(s)?"-"+s:-s:s),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+s,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&n.hide(),t.effects.restore(n,o),t.effects.removeWrapper(n),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var s=t(this),n=t(e.to),o="fixed"===n.css("position"),a=t("body"),r=o?a.scrollTop():0,h=o?a.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-h,height:n.innerHeight(),width:n.innerWidth()},u=s.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-h,height:s.innerHeight(),width:s.innerWidth(),position:o?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var s,n,o,a,r,h=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:h=!1,n=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===n?a=!0:o=n+o,r=RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),s=a&&-1!==s.index(this.active.next())?this.active.nextAll(".ui-menu-item"):s,s.length||(o=String.fromCharCode(e.keyCode),r=RegExp("^"+i(o),"i"),s=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),s.length?(this.focus(e,s),s.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}h&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,s=this.element.find(this.options.menus);s.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),s=e.prev("a"),n=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);s.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",s.attr("id"))}),e=s.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),s=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,s,n,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),0>n?this.activeMenu.scrollTop(o+n):n+r>a&&this.activeMenu.scrollTop(o+n-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this.activeMenu=s},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var s;this.active&&(s="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,s)},nextPage:function(e){var i,s,n;return this.active?(this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-s-n}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())),undefined):(this.next(e),undefined)},previousPage:function(e){var i,s,n;return this.active?(this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())),undefined):(this.next(e),undefined)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function s(e,i){return parseInt(t.css(e,i),10)||0}function n(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,h=Math.round,l=/left|center|right/,c=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,s,n=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=n.children()[0];return t("body").append(n),i=a.offsetWidth,n.css("overflow","scroll"),s=a.offsetWidth,i===s&&(s=n[0].clientWidth),n.remove(),o=i-s},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),s=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===s||"auto"===s&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:n?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),s=t.isWindow(i[0]);return{element:i,isWindow:s,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:s?i.width():i.outerWidth(),height:s?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,g,m,v,_,b=t(e.of),y=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(y),k=(e.collision||"flip").split(" "),x={};return _=n(b),b[0].preventDefault&&(e.at="left top"),p=_.width,g=_.height,m=_.offset,v=t.extend({},m),t.each(["my","at"],function(){var t,i,s=(e[this]||"").split(" ");1===s.length&&(s=l.test(s[0])?s.concat(["center"]):c.test(s[0])?["center"].concat(s):["center","center"]),s[0]=l.test(s[0])?s[0]:"center",s[1]=c.test(s[1])?s[1]:"center",t=u.exec(s[0]),i=u.exec(s[1]),x[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(s[0])[0],d.exec(s[1])[0]]}),1===k.length&&(k[1]=k[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=g:"center"===e.at[1]&&(v.top+=g/2),o=i(x.at,p,g),v.left+=o[0],v.top+=o[1],this.each(function(){var n,l,c=t(this),u=c.outerWidth(),d=c.outerHeight(),f=s(this,"marginLeft"),_=s(this,"marginTop"),D=u+f+s(this,"marginRight")+w.width,C=d+_+s(this,"marginBottom")+w.height,I=t.extend({},v),P=i(x.my,c.outerWidth(),c.outerHeight());"right"===e.my[0]?I.left-=u:"center"===e.my[0]&&(I.left-=u/2),"bottom"===e.my[1]?I.top-=d:"center"===e.my[1]&&(I.top-=d/2),I.left+=P[0],I.top+=P[1],t.support.offsetFractions||(I.left=h(I.left),I.top=h(I.top)),n={marginLeft:f,marginTop:_},t.each(["left","top"],function(i,s){t.ui.position[k[i]]&&t.ui.position[k[i]][s](I,{targetWidth:p,targetHeight:g,elemWidth:u,elemHeight:d,collisionPosition:n,collisionWidth:D,collisionHeight:C,offset:[o[0]+P[0],o[1]+P[1]],my:e.my,at:e.at,within:y,elem:c})}),e.using&&(l=function(t){var i=m.left-I.left,s=i+p-u,n=m.top-I.top,o=n+g-d,h={target:{element:b,left:m.left,top:m.top,width:p,height:g},element:{element:c,left:I.left,top:I.top,width:u,height:d},horizontal:0>s?"left":i>0?"right":"center",vertical:0>o?"top":n>0?"bottom":"middle"};u>p&&p>r(i+s)&&(h.horizontal="center"),d>g&&g>r(n+o)&&(h.vertical="middle"),h.important=a(r(i),r(s))>a(r(n),r(o))?"horizontal":"vertical",e.using.call(this,t,h)}),c.offset(t.extend(I,{using:l}))})},t.ui.position={fit:{left:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,r=t.left-e.collisionPosition.marginLeft,h=n-r,l=r+e.collisionWidth-o-n;e.collisionWidth>o?h>0&&0>=l?(i=t.left+h+e.collisionWidth-o-n,t.left+=h-i):t.left=l>0&&0>=h?n:h>l?n+o-e.collisionWidth:n:h>0?t.left+=h:l>0?t.left-=l:t.left=a(t.left-r,t.left)},top:function(t,e){var i,s=e.within,n=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,h=n-r,l=r+e.collisionHeight-o-n;e.collisionHeight>o?h>0&&0>=l?(i=t.top+h+e.collisionHeight-o-n,t.top+=h-i):t.top=l>0&&0>=h?n:h>l?n+o-e.collisionHeight:n:h>0?t.top+=h:l>0?t.top-=l:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,s,n=e.within,o=n.offset.left+n.scrollLeft,a=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,l=t.left-e.collisionPosition.marginLeft,c=l-h,u=l+e.collisionWidth-a-h,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>c?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||r(c)>i)&&(t.left+=d+p+f)):u>0&&(s=t.left-e.collisionPosition.marginLeft+d+p+f-h,(s>0||u>r(s))&&(t.left+=d+p+f))},top:function(t,e){var i,s,n=e.within,o=n.offset.top+n.scrollTop,a=n.height,h=n.isWindow?n.scrollTop:n.offset.top,l=t.top-e.collisionPosition.marginTop,c=l-h,u=l+e.collisionHeight-a-h,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,g=-2*e.offset[1];0>c?(s=t.top+p+f+g+e.collisionHeight-a-o,
t.top+p+f+g>c&&(0>s||r(c)>s)&&(t.top+=p+f+g)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+g-h,t.top+p+f+g>u&&(i>0||u>r(i))&&(t.top+=p+f+g))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,s,n,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),s={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(s,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in s)e.style[o]=s[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=t(r).offset().left,t.support.offsetFractions=n>10&&11>n,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,s=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=s.values&&s.values.length||1,n.length>i&&(n.slice(i).remove(),n=n.slice(0,i)),e=n.length;i>e;e++)a.push(o);this.handles=n.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,s,n,o,a,r,h,l,c=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},s=this._normValueFromMouse(i),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(s-c.values(e));(n>i||n===i&&(e===c._lastChangedValue||c.values(e)===u.min))&&(n=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),h=o.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-h.left-o.width()/2,top:e.pageY-h.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,s),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,s,n,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),s=i/e,s>1&&(s=1),0>s&&(s=0),"vertical"===this.orientation&&(s=1-s),n=this._valueMax()-this._valueMin(),o=this._valueMin()+s*n,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var s,n,o;this.options.values&&this.options.values.length?(s=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>s||1===e&&s>i)&&(i=s),i!==this.values(e)&&(n=this.values(),n[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:n}),s=this.values(e?0:1),o!==!1&&this.values(e,i,!0))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),this._change(null,0),undefined):this._value()},values:function(e,i){var s,n,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),this._change(null,e),undefined;if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(s=this.options.values,n=arguments[0],o=0;s.length>o;o+=1)s[o]=this._trimAlignValue(n[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var s,n=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(n=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),s=0;n>s;s+=1)this._change(null,s);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,s;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),s=0;i.length>s;s+=1)i[s]=this._trimAlignValue(i[s]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,s=t-i;return 2*Math.abs(i)>=e&&(s+=i>0?e:-e),parseFloat(s.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,s,n,o,a=this.options.range,r=this.options,h=this,l=this._animateOff?!1:r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(s){i=100*((h.values(s)-h._valueMin())/(h._valueMax()-h._valueMin())),c["horizontal"===h.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[l?"animate":"css"](c,r.animate),h.options.range===!0&&("horizontal"===h.orientation?(0===s&&h.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===s&&h.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===s&&h.range[l?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(s=this.value(),n=this._valueMin(),o=this._valueMax(),i=o!==n?100*((s-n)/(o-n)):0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var s,n,o,a,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),s=this._start(i,r),s===!1))return}switch(a=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-a)}this._slide(i,r,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,s){var n=i.attr(s);void 0!==n&&n.length&&(e[s]=n)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?(delete this.cancelBlur,void 0):(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t),void 0)},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=s,this._delay(function(){this.previous=s}))}var s;s=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:(this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e),void 0):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,s=t.ui.keyCode;switch(e.keyCode){case s.UP:return this._repeat(null,1,e),!0;case s.DOWN:return this._repeat(null,-1,e),!0;case s.PAGE_UP:return this._repeat(null,i.page,e),!0;case s.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span>"+"</a>"+"<a class='ui-spinner-button ui-spinner-down ui-corner-br'>"+"<span class='ui-icon "+this.options.icons.down+"'>&#9660;</span>"+"</a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,s=this.options;return e=null!==s.min?s.min:0,i=t-e,i=Math.round(i/s.step)*s.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==s.max&&t>s.max?s.max:null!==s.min&&s.min>t?s.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,this.element.val(this._format(i)),void 0}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?(e(this._value).call(this,t),void 0):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++n}function s(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var n=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,s=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(s,o){return t(o).attr("aria-controls")===n?(i=s,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=s?!1:0)),!s&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var s=t(this.document[0].activeElement).closest("li"),n=this.tabs.index(s),o=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(n),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(n===this.options.active?!1:n),e;default:return}i.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,o),i.ctrlKey||(s.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function s(){return e>n&&(e=0),0>e&&(e=n),e}for(var n=this.tabs.length-1;-1!==t.inArray(s(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,n){var o,a,r,h=t(n).uniqueId().attr("id"),l=t(n).closest("li"),c=l.attr("aria-controls");s(n)?(o=n.hash,a=e.element.find(e._sanitizeSelector(o))):(r=e._tabId(l),o="#"+r,a=e.element.find(o),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),c&&l.data("ui-tabs-aria-controls",c),l.attr({"aria-controls":o.substring(1),"aria-labelledby":h}),a.attr("aria-labelledby",h)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,s=0;i=this.tabs[s];s++)e===!0||-1!==t.inArray(s,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,s=this.element.parent();"fill"===e?(i=s.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),s=e.css("position");"absolute"!==s&&"fixed"!==s&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,s=this.active,n=t(e.currentTarget),o=n.closest("li"),a=o[0]===s[0],r=a&&i.collapsible,h=r?t():this._getPanelForTab(o),l=s.length?this._getPanelForTab(s):t(),c={oldTab:s,oldPanel:l,newTab:r?t():o,newPanel:h};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),l.length||h.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),h.length&&this.load(this.tabs.index(o),e),this._toggle(e,c))},_toggle:function(e,i){function s(){o.running=!1,o._trigger("activate",e,i)}function n(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,s):(a.show(),s())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,s=this._findActive(e);s[0]!==this.active[0]&&(s.length||(s=this.active),i=s.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var s=this.options.disabled;s!==!1&&(i===e?s=!1:(i=this._getIndex(i),s=t.isArray(s)?t.map(s,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(s))},disable:function(i){var s=this.options.disabled;if(s!==!0){if(i===e)s=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,s))return;s=t.isArray(s)?t.merge([i],s).sort():[i]}this._setupDisabled(s)}},load:function(e,i){e=this._getIndex(e);var n=this,o=this.tabs.eq(e),a=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),h={tab:o,panel:r};s(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,h)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),n._trigger("load",i,h)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&n.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr},1)})))},_ajaxSettings:function(e,i,s){var n=this;return{url:e.attr("href"),beforeSend:function(e,o){return n._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},s))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var s=(e.attr("aria-describedby")||"").split(/\s+/);s.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(s.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),s=(e.attr("aria-describedby")||"").split(/\s+/),n=t.inArray(i,s);-1!==n&&s.splice(n,1),e.removeData("ui-tooltip-id"),s=t.trim(s.join(" ")),s?e.attr("aria-describedby",s):e.removeAttr("aria-describedby")}var s=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),
this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var s=this;return"disabled"===e?(this[i?"_disable":"_enable"](),this.options[e]=i,void 0):(this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){s._updateContent(e)}),void 0)},_disable:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,s=t(e?e.target:this.element).closest(this.options.items);s.length&&!s.data("ui-tooltip-id")&&(s.attr("title")&&s.data("ui-tooltip-title",s.attr("title")),s.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&s.parents().each(function(){var e,s=t(this);s.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),s.attr("title")&&(s.uniqueId(),i.parents[this.id]={element:this,title:s.attr("title")},s.attr("title",""))}),this._updateContent(s,e))},_updateContent:function(t,e){var i,s=this.options.content,n=this,o=e?e.type:null;return"string"==typeof s?this._open(e,t,s):(i=s.call(t[0],function(i){t.data("ui-tooltip-open")&&n._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),i&&this._open(e,t,i),void 0)},_open:function(i,s,n){function o(t){l.of=t,a.is(":hidden")||a.position(l)}var a,r,h,l=t.extend({},this.options.position);if(n){if(a=this._find(s),a.length)return a.find(".ui-tooltip-content").html(n),void 0;s.is("[title]")&&(i&&"mouseover"===i.type?s.attr("title",""):s.removeAttr("title")),a=this._tooltip(s),e(s,a.attr("id")),a.find(".ui-tooltip-content").html(n),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:s},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(h=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(l.of),clearInterval(h))},t.fx.interval)),this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=s[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,s,r)}},close:function(e){var s=this,n=t(e?e.currentTarget:this.element),o=this._find(n);this.closing||(clearInterval(this.delayedShow),n.data("ui-tooltip-title")&&n.attr("title",n.data("ui-tooltip-title")),i(n),o.stop(!0),this._hide(o,this.options.hide,function(){s._removeTooltip(t(this))}),n.removeData("ui-tooltip-open"),this._off(n,"mouseleave focusout keyup"),n[0]!==this.element[0]&&this._off(n,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete s.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+s++,n=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]=e,n},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,s){var n=t.Event("blur");n.target=n.currentTarget=s[0],e.close(n,!0),t("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))})}})}(jQuery);define("jqueryui",["jquery"],function(){});(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&o>i;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&u>i;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&a>i;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,g=c.bind,y=Object.create,d=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(t===void 0)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(2>e||null==r)return r;for(var u=1;e>u;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;a>c;c++){var f=o[c];t&&r[f]!==void 0||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(y)return y(n);d.prototype=n;var t=new d;return d.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&A>=t};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;u>e;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;u>e;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;u>o;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;return e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),e!==void 0&&e!==-1?n[e]:void 0},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;u>i;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-1/0,o=-1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-1/0&&i===-1/0)&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;c>a;a++)e=n[a],i>e&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(o>u||1/0===u&&1/0===i)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;e>i;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||r===void 0)return 1;if(e>r||e===void 0)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);a>o;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;l>f;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);a>o;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);u>e;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;r>o&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;t>e;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);o>i;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;e>i;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(g&&n.bind===g)return g.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;u>o;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(1>=e)throw new Error("bindAll must be passed function names");for(t=1;e>t;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,0>=l||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;t>f&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){return--n<1?t.apply(this,arguments):void 0}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;i>a;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;r>u;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;u>e;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;o>i;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;c>a;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;e>i;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n?!0:k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return n===void 0},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;n>u;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return e===void 0&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);(function(t,e){if(typeof define==="function"&&define.amd){define("backbone",["underscore","jquery","exports"],function(i,r,s){t.Backbone=e(t,s,i,r)})}else if(typeof exports!=="undefined"){var i=require("underscore");e(t,exports,i)}else{t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}})(this,function(t,e,i,r){var s=t.Backbone;var n=[];var a=n.push;var o=n.slice;var h=n.splice;e.VERSION="1.1.2";e.$=r;e.noConflict=function(){t.Backbone=s;return this};e.emulateHTTP=false;e.emulateJSON=false;var u=e.Events={on:function(t,e,i){if(!c(this,"on",t,[e,i])||!e)return this;this._events||(this._events={});var r=this._events[t]||(this._events[t]=[]);r.push({callback:e,context:i,ctx:i||this});return this},once:function(t,e,r){if(!c(this,"once",t,[e,r])||!e)return this;var s=this;var n=i.once(function(){s.off(t,n);e.apply(this,arguments)});n._callback=e;return this.on(t,n,r)},off:function(t,e,r){var s,n,a,o,h,u,l,f;if(!this._events||!c(this,"off",t,[e,r]))return this;if(!t&&!e&&!r){this._events=void 0;return this}o=t?[t]:i.keys(this._events);for(h=0,u=o.length;h<u;h++){t=o[h];if(a=this._events[t]){this._events[t]=s=[];if(e||r){for(l=0,f=a.length;l<f;l++){n=a[l];if(e&&e!==n.callback&&e!==n.callback._callback||r&&r!==n.context){s.push(n)}}}if(!s.length)delete this._events[t]}}return this},trigger:function(t){if(!this._events)return this;var e=o.call(arguments,1);if(!c(this,"trigger",t,e))return this;var i=this._events[t];var r=this._events.all;if(i)f(i,e);if(r)f(r,arguments);return this},stopListening:function(t,e,r){var s=this._listeningTo;if(!s)return this;var n=!e&&!r;if(!r&&typeof e==="object")r=this;if(t)(s={})[t._listenId]=t;for(var a in s){t=s[a];t.off(e,r,this);if(n||i.isEmpty(t._events))delete this._listeningTo[a]}return this}};var l=/\s+/;var c=function(t,e,i,r){if(!i)return true;if(typeof i==="object"){for(var s in i){t[e].apply(t,[s,i[s]].concat(r))}return false}if(l.test(i)){var n=i.split(l);for(var a=0,o=n.length;a<o;a++){t[e].apply(t,[n[a]].concat(r))}return false}return true};var f=function(t,e){var i,r=-1,s=t.length,n=e[0],a=e[1],o=e[2];switch(e.length){case 0:while(++r<s)(i=t[r]).callback.call(i.ctx);return;case 1:while(++r<s)(i=t[r]).callback.call(i.ctx,n);return;case 2:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a);return;case 3:while(++r<s)(i=t[r]).callback.call(i.ctx,n,a,o);return;default:while(++r<s)(i=t[r]).callback.apply(i.ctx,e);return}};var d={listenTo:"on",listenToOnce:"once"};i.each(d,function(t,e){u[e]=function(e,r,s){var n=this._listeningTo||(this._listeningTo={});var a=e._listenId||(e._listenId=i.uniqueId("l"));n[a]=e;if(!s&&typeof r==="object")s=this;e[t](r,s,this);return this}});u.bind=u.on;u.unbind=u.off;i.extend(e,u);var p=e.Model=function(t,e){var r=t||{};e||(e={});this.cid=i.uniqueId("c");this.attributes={};if(e.collection)this.collection=e.collection;if(e.parse)r=this.parse(r,e)||{};r=i.defaults({},r,i.result(this,"defaults"));this.set(r,e);this.changed={};this.initialize.apply(this,arguments)};i.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return this.get(t)!=null},set:function(t,e,r){var s,n,a,o,h,u,l,c;if(t==null)return this;if(typeof t==="object"){n=t;r=e}else{(n={})[t]=e}r||(r={});if(!this._validate(n,r))return false;a=r.unset;h=r.silent;o=[];u=this._changing;this._changing=true;if(!u){this._previousAttributes=i.clone(this.attributes);this.changed={}}c=this.attributes,l=this._previousAttributes;if(this.idAttribute in n)this.id=n[this.idAttribute];for(s in n){e=n[s];if(!i.isEqual(c[s],e))o.push(s);if(!i.isEqual(l[s],e)){this.changed[s]=e}else{delete this.changed[s]}a?delete c[s]:c[s]=e}if(!h){if(o.length)this._pending=r;for(var f=0,d=o.length;f<d;f++){this.trigger("change:"+o[f],this,c[o[f]],r)}}if(u)return this;if(!h){while(this._pending){r=this._pending;this._pending=false;this.trigger("change",this,r)}}this._pending=false;this._changing=false;return this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:true}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,i.extend({},t,{unset:true}))},hasChanged:function(t){if(t==null)return!i.isEmpty(this.changed);return i.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?i.clone(this.changed):false;var e,r=false;var s=this._changing?this._previousAttributes:this.attributes;for(var n in t){if(i.isEqual(s[n],e=t[n]))continue;(r||(r={}))[n]=e}return r},previous:function(t){if(t==null||!this._previousAttributes)return null;return this._previousAttributes[t]},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=t?i.clone(t):{};if(t.parse===void 0)t.parse=true;var e=this;var r=t.success;t.success=function(i){if(!e.set(e.parse(i,t),t))return false;if(r)r(e,i,t);e.trigger("sync",e,i,t)};q(this,t);return this.sync("read",this,t)},save:function(t,e,r){var s,n,a,o=this.attributes;if(t==null||typeof t==="object"){s=t;r=e}else{(s={})[t]=e}r=i.extend({validate:true},r);if(s&&!r.wait){if(!this.set(s,r))return false}else{if(!this._validate(s,r))return false}if(s&&r.wait){this.attributes=i.extend({},o,s)}if(r.parse===void 0)r.parse=true;var h=this;var u=r.success;r.success=function(t){h.attributes=o;var e=h.parse(t,r);if(r.wait)e=i.extend(s||{},e);if(i.isObject(e)&&!h.set(e,r)){return false}if(u)u(h,t,r);h.trigger("sync",h,t,r)};q(this,r);n=this.isNew()?"create":r.patch?"patch":"update";if(n==="patch")r.attrs=s;a=this.sync(n,this,r);if(s&&r.wait)this.attributes=o;return a},destroy:function(t){t=t?i.clone(t):{};var e=this;var r=t.success;var s=function(){e.trigger("destroy",e,e.collection,t)};t.success=function(i){if(t.wait||e.isNew())s();if(r)r(e,i,t);if(!e.isNew())e.trigger("sync",e,i,t)};if(this.isNew()){t.success();return false}q(this,t);var n=this.sync("delete",this,t);if(!t.wait)s();return n},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||M();if(this.isNew())return t;return t.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend(t||{},{validate:true}))},_validate:function(t,e){if(!e.validate||!this.validate)return true;t=i.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;if(!r)return true;this.trigger("invalid",this,r,i.extend(e,{validationError:r}));return false}});var v=["keys","values","pairs","invert","pick","omit"];i.each(v,function(t){p.prototype[t]=function(){var e=o.call(arguments);e.unshift(this.attributes);return i[t].apply(i,e)}});var g=e.Collection=function(t,e){e||(e={});if(e.model)this.model=e.model;if(e.comparator!==void 0)this.comparator=e.comparator;this._reset();this.initialize.apply(this,arguments);if(t)this.reset(t,i.extend({silent:true},e))};var m={add:true,remove:true,merge:true};var y={add:true,remove:false};i.extend(g.prototype,u,{model:p,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:false},e,y))},remove:function(t,e){var r=!i.isArray(t);t=r?[t]:i.clone(t);e||(e={});var s,n,a,o;for(s=0,n=t.length;s<n;s++){o=t[s]=this.get(t[s]);if(!o)continue;delete this._byId[o.id];delete this._byId[o.cid];a=this.indexOf(o);this.models.splice(a,1);this.length--;if(!e.silent){e.index=a;o.trigger("remove",o,this,e)}this._removeReference(o,e)}return r?t[0]:t},set:function(t,e){e=i.defaults({},e,m);if(e.parse)t=this.parse(t,e);var r=!i.isArray(t);t=r?t?[t]:[]:i.clone(t);var s,n,a,o,h,u,l;var c=e.at;var f=this.model;var d=this.comparator&&c==null&&e.sort!==false;var v=i.isString(this.comparator)?this.comparator:null;var g=[],y=[],_={};var b=e.add,w=e.merge,x=e.remove;var E=!d&&b&&x?[]:false;for(s=0,n=t.length;s<n;s++){h=t[s]||{};if(h instanceof p){a=o=h}else{a=h[f.prototype.idAttribute||"id"]}if(u=this.get(a)){if(x)_[u.cid]=true;if(w){h=h===o?o.attributes:h;if(e.parse)h=u.parse(h,e);u.set(h,e);if(d&&!l&&u.hasChanged(v))l=true}t[s]=u}else if(b){o=t[s]=this._prepareModel(h,e);if(!o)continue;g.push(o);this._addReference(o,e)}o=u||o;if(E&&(o.isNew()||!_[o.id]))E.push(o);_[o.id]=true}if(x){for(s=0,n=this.length;s<n;++s){if(!_[(o=this.models[s]).cid])y.push(o)}if(y.length)this.remove(y,e)}if(g.length||E&&E.length){if(d)l=true;this.length+=g.length;if(c!=null){for(s=0,n=g.length;s<n;s++){this.models.splice(c+s,0,g[s])}}else{if(E)this.models.length=0;var k=E||g;for(s=0,n=k.length;s<n;s++){this.models.push(k[s])}}}if(l)this.sort({silent:true});if(!e.silent){for(s=0,n=g.length;s<n;s++){(o=g[s]).trigger("add",o,this,e)}if(l||E&&E.length)this.trigger("sort",this,e)}return r?t[0]:t},reset:function(t,e){e||(e={});for(var r=0,s=this.models.length;r<s;r++){this._removeReference(this.models[r],e)}e.previousModels=this.models;this._reset();t=this.add(t,i.extend({silent:true},e));if(!e.silent)this.trigger("reset",this,e);return t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);this.remove(e,t);return e},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);this.remove(e,t);return e},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(t==null)return void 0;return this._byId[t]||this._byId[t.id]||this._byId[t.cid]},at:function(t){return this.models[t]},where:function(t,e){if(i.isEmpty(t))return e?void 0:[];return this[e?"find":"filter"](function(e){for(var i in t){if(t[i]!==e.get(i))return false}return true})},findWhere:function(t){return this.where(t,true)},sort:function(t){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");t||(t={});if(i.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(i.bind(this.comparator,this))}if(!t.silent)this.trigger("sort",this,t);return this},pluck:function(t){return i.invoke(this.models,"get",t)},fetch:function(t){t=t?i.clone(t):{};if(t.parse===void 0)t.parse=true;var e=t.success;var r=this;t.success=function(i){var s=t.reset?"reset":"set";r[s](i,t);if(e)e(r,i,t);r.trigger("sync",r,i,t)};q(this,t);return this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};if(!(t=this._prepareModel(t,e)))return false;if(!e.wait)this.add(t,e);var r=this;var s=e.success;e.success=function(t,i){if(e.wait)r.add(t,e);if(s)s(t,i,e)};t.save(null,e);return t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(t,e){if(t instanceof p)return t;e=e?i.clone(e):{};e.collection=this;var r=new this.model(t,e);if(!r.validationError)return r;this.trigger("invalid",this,r.validationError,e);return false},_addReference:function(t,e){this._byId[t.cid]=t;if(t.id!=null)this._byId[t.id]=t;if(!t.collection)t.collection=this;t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){if(this===t.collection)delete t.collection;t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,r){if((t==="add"||t==="remove")&&i!==this)return;if(t==="destroy")this.remove(e,r);if(e&&t==="change:"+e.idAttribute){delete this._byId[e.previous(e.idAttribute)];if(e.id!=null)this._byId[e.id]=e}this.trigger.apply(this,arguments)}})
;var _=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];i.each(_,function(t){g.prototype[t]=function(){var e=o.call(arguments);e.unshift(this.models);return i[t].apply(i,e)}});var b=["groupBy","countBy","sortBy","indexBy"];i.each(b,function(t){g.prototype[t]=function(e,r){var s=i.isFunction(e)?e:function(t){return t.get(e)};return i[t](this.models,s,r)}});var w=e.View=function(t){this.cid=i.uniqueId("view");t||(t={});i.extend(this,i.pick(t,E));this._ensureElement();this.initialize.apply(this,arguments);this.delegateEvents()};var x=/^(\S+)\s*(.*)$/;var E=["model","collection","el","id","attributes","className","tagName","events"];i.extend(w.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){this.$el.remove();this.stopListening();return this},setElement:function(t,i){if(this.$el)this.undelegateEvents();this.$el=t instanceof e.$?t:e.$(t);this.el=this.$el[0];if(i!==false)this.delegateEvents();return this},delegateEvents:function(t){if(!(t||(t=i.result(this,"events"))))return this;this.undelegateEvents();for(var e in t){var r=t[e];if(!i.isFunction(r))r=this[t[e]];if(!r)continue;var s=e.match(x);var n=s[1],a=s[2];r=i.bind(r,this);n+=".delegateEvents"+this.cid;if(a===""){this.$el.on(n,r)}else{this.$el.on(n,a,r)}}return this},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid);return this},_ensureElement:function(){if(!this.el){var t=i.extend({},i.result(this,"attributes"));if(this.id)t.id=i.result(this,"id");if(this.className)t["class"]=i.result(this,"className");var r=e.$("<"+i.result(this,"tagName")+">").attr(t);this.setElement(r,false)}else{this.setElement(i.result(this,"el"),false)}}});e.sync=function(t,r,s){var n=T[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:n,dataType:"json"};if(!s.url){a.url=i.result(r,"url")||M()}if(s.data==null&&r&&(t==="create"||t==="update"||t==="patch")){a.contentType="application/json";a.data=JSON.stringify(s.attrs||r.toJSON(s))}if(s.emulateJSON){a.contentType="application/x-www-form-urlencoded";a.data=a.data?{model:a.data}:{}}if(s.emulateHTTP&&(n==="PUT"||n==="DELETE"||n==="PATCH")){a.type="POST";if(s.emulateJSON)a.data._method=n;var o=s.beforeSend;s.beforeSend=function(t){t.setRequestHeader("X-HTTP-Method-Override",n);if(o)return o.apply(this,arguments)}}if(a.type!=="GET"&&!s.emulateJSON){a.processData=false}if(a.type==="PATCH"&&k){a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")}}var h=s.xhr=e.ajax(i.extend(a,s));r.trigger("request",r,h,s);return h};var k=typeof window!=="undefined"&&!!window.ActiveXObject&&!(window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent);var T={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={});if(t.routes)this.routes=t.routes;this._bindRoutes();this.initialize.apply(this,arguments)};var S=/\((.*?)\)/g;var H=/(\(\?)?:\w+/g;var A=/\*\w+/g;var I=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,u,{initialize:function(){},route:function(t,r,s){if(!i.isRegExp(t))t=this._routeToRegExp(t);if(i.isFunction(r)){s=r;r=""}if(!s)s=this[r];var n=this;e.history.route(t,function(i){var a=n._extractParameters(t,i);n.execute(s,a);n.trigger.apply(n,["route:"+r].concat(a));n.trigger("route",r,a);e.history.trigger("route",n,r,a)});return this},execute:function(t,e){if(t)t.apply(this,e)},navigate:function(t,i){e.history.navigate(t,i);return this},_bindRoutes:function(){if(!this.routes)return;this.routes=i.result(this,"routes");var t,e=i.keys(this.routes);while((t=e.pop())!=null){this.route(t,this.routes[t])}},_routeToRegExp:function(t){t=t.replace(I,"\\$&").replace(S,"(?:$1)?").replace(H,function(t,e){return e?t:"([^/?]+)"}).replace(A,"([^?]*?)");return new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return i.map(r,function(t,e){if(e===r.length-1)return t||null;return t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[];i.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var R=/^[#\/]|\s+$/g;var O=/^\/+|\/+$/g;var P=/msie [\w.]+/;var C=/\/$/;var j=/#.*$/;N.started=false;i.extend(N.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getFragment:function(t,e){if(t==null){if(this._hasPushState||!this._wantsHashChange||e){t=decodeURI(this.location.pathname+this.location.search);var i=this.root.replace(C,"");if(!t.indexOf(i))t=t.slice(i.length)}else{t=this.getHash()}}return t.replace(R,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");N.started=true;this.options=i.extend({root:"/"},this.options,t);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var r=this.getFragment();var s=document.documentMode;var n=P.exec(navigator.userAgent.toLowerCase())&&(!s||s<=7);this.root=("/"+this.root+"/").replace(O,"/");if(n&&this._wantsHashChange){var a=e.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow;this.navigate(r)}if(this._hasPushState){e.$(window).on("popstate",this.checkUrl)}else if(this._wantsHashChange&&"onhashchange"in window&&!n){e.$(window).on("hashchange",this.checkUrl)}else if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}this.fragment=r;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){this.fragment=this.getFragment(null,true);this.location.replace(this.root+"#"+this.fragment);return true}else if(this._hasPushState&&this.atRoot()&&o.hash){this.fragment=this.getHash().replace(R,"");this.history.replaceState({},document.title,this.root+this.fragment)}}if(!this.options.silent)return this.loadUrl()},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl);if(this._checkUrlInterval)clearInterval(this._checkUrlInterval);N.started=false},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe){e=this.getFragment(this.getHash(this.iframe))}if(e===this.fragment)return false;if(this.iframe)this.navigate(e);this.loadUrl()},loadUrl:function(t){t=this.fragment=this.getFragment(t);return i.any(this.handlers,function(e){if(e.route.test(t)){e.callback(t);return true}})},navigate:function(t,e){if(!N.started)return false;if(!e||e===true)e={trigger:!!e};var i=this.root+(t=this.getFragment(t||""));t=t.replace(j,"");if(this.fragment===t)return;this.fragment=t;if(t===""&&i!=="/")i=i.slice(0,-1);if(this._hasPushState){this.history[e.replace?"replaceState":"pushState"]({},document.title,i)}else if(this._wantsHashChange){this._updateHash(this.location,t,e.replace);if(this.iframe&&t!==this.getFragment(this.getHash(this.iframe))){if(!e.replace)this.iframe.document.open().close();this._updateHash(this.iframe.location,t,e.replace)}}else{return this.location.assign(i)}if(e.trigger)return this.loadUrl(t)},_updateHash:function(t,e,i){if(i){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else{t.hash="#"+e}}});e.history=new N;var U=function(t,e){var r=this;var s;if(t&&i.has(t,"constructor")){s=t.constructor}else{s=function(){return r.apply(this,arguments)}}i.extend(s,r,e);var n=function(){this.constructor=s};n.prototype=r.prototype;s.prototype=new n;if(t)i.extend(s.prototype,t);s.__super__=r.prototype;return s};p.extend=g.extend=$.extend=w.extend=N.extend=U;var M=function(){throw new Error('A "url" property or function must be specified')};var q=function(t,e){var i=e.error;e.error=function(r){if(i)i(t,r,e);t.trigger("error",t,r,e)}};return e});(function(){"use strict";function getPageId(config){if(config&&config.hasOwnProperty("config")){for(var key in config.config){if(config.config.hasOwnProperty(key)){for(var key2 in config.config[key]){if(key2=="pageId"){return config.config[key][key2]}}}}}}define("i18n",["module"],function(module){return{load:function(name,req,onLoad,config){var pageId=getPageId(config);if(!pageId){onLoad();return}var locale=config.config.i18n.locale;if(locale=="en_US"){return onLoad()}var url="/json/"+locale+"/"+pageId+".json";$.ajax({url:url,type:"GET",dataType:"json",success:function(response){onLoad(response)},error:function(data){onLoad()}});return;req([name],function(value){onLoad(value)})}}})})();define("appogee/vat",[],function(){function trans(word){return word}var VAT_KEY_UP_TIMER;return{COUNTRIES:[{iso_code:"AT",vat_code:"AT",value:"Austria",name:trans("Austria"),localised_name:"USt.",reg_ex:/^U\d{8}$/i},{iso_code:"BE",vat_code:"BE",value:"Belgium",name:trans("Belgium"),localised_name:"BTW, TVA, NWSt",reg_ex:/^[01]\d{9}$|^\d{9}$/},{iso_code:"BG",vat_code:"BG",value:"Bulgaria",name:trans("Bulgaria"),localised_name:"&#1044;&#1044;&#1057;",reg_ex:/^\d{9,10}$/},{iso_code:"HR",vat_code:"HR",value:"Croatia",name:trans("Croatia"),localised_name:"PDV",reg_ex:/^\d{11}$/},{iso_code:"CY",vat_code:"CY",value:"Cyprus",name:trans("Cyprus"),localised_name:"&Phi;&Pi;&Alpha;",reg_ex:/^\d{8}[A-Z]$/i},{iso_code:"CZ",vat_code:"CZ",value:"Czech_Republic",name:trans("Czech Republic"),localised_name:"DPH",reg_ex:/^\d{8,13}$/i},{iso_code:"DK",vat_code:"DK",value:"Denmark",name:trans("Denmark"),localised_name:"moms",reg_ex:/^\d{8}$/},{iso_code:"EE",vat_code:"EE",value:"Estonia",name:trans("Estonia"),localised_name:"km",reg_ex:/^\d{9}$/},{iso_code:"FI",vat_code:"FI",value:"Finland",name:trans("Finland"),localised_name:"ALV, Moms",reg_ex:/^\d{8}$/},{iso_code:"FR",vat_code:"FR",value:"France",name:trans("France"),localised_name:"TVA",reg_ex:/^[A-HJ-NP-Z0-9]{2}\d{9}$/i},{iso_code:"DE",vat_code:"DE",value:"Germany",name:trans("Germany"),localised_name:"MwSt., Ust.",reg_ex:/^\d{9}$/},{iso_code:"GR",vat_code:"EL",value:"Greece",name:trans("Greece"),localised_name:"&Phi;&Pi;&Alpha;",reg_ex:/^\d{9}$/},{iso_code:"HU",vat_code:"HU",value:"Hungary",name:trans("Hungary"),localised_name:"&Aacute;FA",reg_ex:/^\d{8}$/},{iso_code:"IE",vat_code:"IE",value:"Ireland",name:trans("Ireland"),localised_name:"CBL, VAT",reg_ex:/^\d{7}[A-Z]{1,2}$|^\d[A-Z+*]\d{5}[A-Z]$/i},{iso_code:"IT",vat_code:"IT",value:"Italy",name:trans("Italy"),localised_name:"IVA",reg_ex:/^\d{11}$/},{iso_code:"LV",vat_code:"LV",value:"Latvia",name:trans("Latvia"),localised_name:"PVN",reg_ex:/^\d{11}$/},{iso_code:"LT",vat_code:"LT",value:"Lithuania",name:trans("Lithuania"),localised_name:"PVM",reg_ex:/^\d{9}$|^\d{12}$/},{iso_code:"LU",vat_code:"LU",value:"Luxembourg",name:trans("Luxembourg"),localised_name:"TVA",reg_ex:/^\d{8}$/},{iso_code:"MT",vat_code:"MT",value:"Malta",name:trans("Malta"),localised_name:"VAT",reg_ex:/^\d{8}$/},{iso_code:"NL",vat_code:"NL",value:"Netherlands",name:trans("Netherlands"),localised_name:"BTW",reg_ex:/^\d{9}B\d{2}$/i},{iso_code:"PL",vat_code:"PL",value:"Poland",name:trans("Poland"),localised_name:"PTU, VAT",reg_ex:/^\d{10}$/},{iso_code:"PT",vat_code:"PT",value:"Portugal",name:trans("Portugal"),localised_name:"IVA",reg_ex:/^\d{9}$/},{iso_code:"RO",vat_code:"RO",value:"Romania",name:trans("Romania"),localised_name:"TVA",reg_ex:/^\d{2,10}$/},{iso_code:"SK",vat_code:"SK",value:"Slovakia",name:trans("Slovakia"),localised_name:"DPH",reg_ex:/^\d{10}$/},{iso_code:"SI",vat_code:"SI",value:"Slovenia",name:trans("Slovenia"),localised_name:"DDV",reg_ex:/^\d{8}$/},{iso_code:"ES",vat_code:"ES",value:"Spain",name:trans("Spain"),localised_name:"IVA",reg_ex:/^[A-Z]\d{7}[A-Z0-9]$|^[A-Z0-9]\d{7}[A-Z]$/i},{iso_code:"SE",vat_code:"SE",value:"Sweden",name:trans("Sweden"),localised_name:"Moms",reg_ex:/^\d{12}$/},{iso_code:"GB",vat_code:"GB",value:"United_Kingdom",name:trans("United Kingdom"),localised_name:"VAT",reg_ex:/^\d{9}$|^\d{12}$|^GD\d{3}$|^HA\d{3}$/i},{iso_code:"IM",vat_code:"GB",value:"Isle_Of_Man",name:trans("Isle Of Man"),localised_name:"VAT",reg_ex:/^\d{9}$|^\d{12}$|^GD\d{3}$|^HA\d{3}$/i}],findVatCountry:function(iso_code){if(iso_code){iso_code=iso_code.toUpperCase();for(var i=0;i<this.COUNTRIES.length;i++){if(this.COUNTRIES[i].iso_code==iso_code)return this.COUNTRIES[i]}}return null},findCountry:function(vat_country_code){vat_country_code=vat_country_code.toUpperCase();for(var i=0;i<this.COUNTRIES.length;i++){if(this.COUNTRIES[i].vat_code==vat_country_code)return this.COUNTRIES[i]}return null},isVatChargable:function(country_val,vat_code){for(var i=0;i<this.COUNTRIES.length;i++){if(this.COUNTRIES[i].value==country_val||this.COUNTRIES[i].iso_code==country_val){if(vat_code===undefined||vat_code===null||this.COUNTRIES[i].vat_code=="GB"||vat_code==""){return this.COUNTRIES[i]}else{return null}}}return null},validateVatNumber:function(vat_number,country){if(country===undefined)country=this.findCountry(vat_number.substring(0,2));if(country){var pattern=new RegExp(country.reg_ex);var vat_country=vat_number.substring(0,2).toUpperCase().replace(/\s+/g,"");vat_number=vat_number.substring(2).toUpperCase().replace(/\s+/g,"");if(vat_country==country.vat_code&&pattern.test(vat_number)){vat_number=this.applySpecialBehaviour(vat_number,country);return vat_country+vat_number}}return null},applySpecialBehaviour:function(vat_number,country){if(country.iso_code=="BE"){if(vat_number.length<10)vat_number="0"+vat_number}else if(country.iso_code=="CZ"){if(vat_number.length>10)vat_number=vat_number.substring(3)}return vat_number},checkVatCode:function(vat_input,country_ddlb,onKeyUp){var me=this;if(onKeyUp){clearTimeout(VAT_KEY_UP_TIMER);vat_code_key_timer=setTimeout(function(){me.__checkVatCode(vat_input,country_ddlb)},750)}else{return me.__checkVatCode(vat_input,country_ddlb)}},__checkVatCode:function(vat_input,country_ddlb){var vat_country;if(typeof jQuery!="undefined"&&country_ddlb instanceof jQuery){vat_country=this.findVatCountry(country_ddlb.find("option:selected").val())}else{var country_data=country_ddlb.options[country_ddlb.selectedIndex].dataset;vat_country=this.findVatCountry(country_data.iso)}if(vat_country){if(typeof jQuery!="undefined"&&vat_input instanceof jQuery){var vat_code=this.validateVatNumber(vat_input.val(),vat_country);if(vat_code)vat_input.val(vat_code);vat_input.css("background-color",vat_code?"#DFF0D8":"#F7DDDD");return vat_code!==null}else{var vat_code=this.validateVatNumber(vat_input.value,vat_country);if(vat_code)vat_input.value=vat_code;vat_input.style.backgroundColor=vat_code?"#DFF0D8":"#F7DDDD";return vat_code!==null}}}}});define("appogee/util",["jquery","underscore","appogee/vat"],function($,_,vat){"use strict";var ABR_MONTHS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"];function formatString(str){var args=[];if(arguments.length>1){args=Array.prototype.slice.call(arguments);args=args.slice(1,args.length)}var formattedString=str;if(args&&args.length&&args.length==1&&_.isObject(args[0])){var ob=args[0];formattedString=str.replace(/{([^\]]+?)}/g,function(match){match=match.substring(1,match.length-1);if(ob.hasOwnProperty(match)){return _.escape(ob[match])}return match})}else{formattedString=str.replace(/{(\d+)}/g,function(match,number){return typeof args[number]!="undefined"?_.escape(args[number]):match})}return formattedString}function formatBytes(bytes){if(bytes<1024){return bytes+" B"}var units=["KB","MB","GB","TB","PB","EB","ZB","YB"];var unit=-1;do{bytes/=1024;unit++}while(bytes>=1024);return bytes.toFixed(1)+" "+units[unit]}function isFirefox(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function isChrome(){return navigator.userAgent.toLowerCase().indexOf("chrome")>-1}var EXT_MAP={py:"py.png",less:"less.png",ai:"ai.png",tiff:"tiff.png",aiff:"aiff.png",ods:"ods.png",odt:"odt.png",jpg:"jpg.png",mp4:"mp4.png",rtf:"rtf.png",rar:"rar.png",avi:"avi.png",ppt:"ppt.png",dxf:"dxf.png",txt:"txt.png",odf:"odf.png",_page:"_page.png",xml:"xml.png",php:"php.png",java:"java.png",zip:"zip.png",hpp:"hpp.png",mid:"mid.png",gif:"gif.png",html:"html.png",dwg:"dwg.png",rb:"rb.png",tgz:"tgz.png",ics:"ics.png",wav:"wav.png",yml:"yml.png",css:"css.png",mpg:"mpg.png",dotx:"dotx.png",psd:"psd.png",js:"js.png",dat:"dat.png",bmp:"bmp.png",xlsx:"xlsx.png",key:"key.png",sql:"sql.png",otp:"otp.png",ots:"ots.png",ott:"ott.png",png:"png.png",qt:"qt.png",scss:"scss.png",c:"c.png",exe:"exe.png",_blank:"_blank.png",aac:"aac.png",dmg:"dmg.png",doc:"doc.png",eps:"eps.png",flv:"flv.png",tga:"tga.png",iso:"iso.png",h:"h.png",cpp:"cpp.png",pdf:"pdf.png",xls:"xls.png",sass:"sass.png",mp3:"mp3.png",docx:"doc.png",pptx:"ppt.png",pps:"ppt.png"};function getFileTypeImageUrl(filename,size){size=(size||32)+"";if(["16","32","48","512"].indexOf(size)==-1){throw"Invalid size, must be 16, 32, 48 or 512"}var i=filename.lastIndexOf(".");var img="_blank.png";if(i>-1){var ext=filename.substring(i+1,filename.length).toLowerCase();if(ext in EXT_MAP){img=EXT_MAP[ext]}}return"/img/Free-file-icons/{0}px/{1}".format(size,img)}var date={toISOString:function(date){return this.toString(date,"%Y-%m-%d")},fromISOString:function(strDate){strDate=strDate.substring(0,10);var bits=strDate.split("-");var y=parseInt(bits[0]);var m=parseInt(bits[1])-1;var d=parseInt(bits[2]);var date=new Date(y,m,d);return date},toString:function(d,formatString){if(typeof d==="string"){d=this.fromISOString(d)}if(!formatString){formatString="%Y-%m-%d"}var strD=formatString.replace("%d",util.padLeft(d.getDate(),"0",2));strD=strD.replace("%m",util.padLeft(d.getMonth()+1,"0",2));strD=strD.replace("%b",ABR_MONTHS[d.getMonth()]);strD=strD.replace("%B",MONTHS[d.getMonth()]);strD=strD.replace("%Y",d.getFullYear());strD=strD.replace("%y",(d.getFullYear()+"").substring(2,4));strD=strD.replace("%H",util.padLeft(d.getHours(),"0",2));strD=strD.replace("%M",util.padLeft(d.getMinutes(),"0",2));strD=strD.replace("%S",util.padLeft(d.getSeconds(),"0",2));return strD},getWeekNo:function(date){var target=new Date(date.valueOf());target.setUTCHours(0);var dayNr=(date.getDay()+6)%7;target.setDate(target.getDate()-dayNr+3);var firstThursday=target.valueOf();target.setMonth(0,1);if(target.getDay()!=4){target.setMonth(0,1+(4-target.getDay()+7)%7)}var weekno=1+Math.ceil((firstThursday-target)/6048e5);return weekno}};var datetime={fromISOString:function(strDate){return new Date(strDate)},toString:function(d,formatString){if(typeof d==="string"){d=this.fromISOString(d)}if(!formatString){formatString="%Y-%m-%d %H:%M:%S"}return date.toString(d,formatString)}};function getUrlParam(name,url){if(!url){url=window.location.href}name=name.replace(/[\[\]]/g,"\\$&");var regex=new RegExp("[?&]"+name+"(=([^&#]*)|&|#|$)");var results=regex.exec(url);if(!results){return null}if(!results[2]){return""}return decodeURIComponent(results[2].replace(/\+/g," "))}function decodeHtmlEntity(str){return str.replace(/&#(\d+);/g,function(match,dec){return String.fromCharCode(dec)})}function encodeHtmlEntity(str){var buf=[];for(var i=str.length-1;i>=0;i--){buf.unshift(["&#",str[i].charCodeAt(),";"].join(""))}return buf.join("")}function parseJsonFromHtml(scriptId){var data=$("#"+scriptId).html();var ob=null;if(data){ob=JSON.parse(decodeHtmlEntity(data.substring(7,data.length)))}return ob}function getOrdinal(n){if(parseFloat(n)==parseInt(n)&&!isNaN(n)){var s=["th","st","nd","rd"],v=n%100;return n+(s[(v-20)%10]||s[v]||s[0])}return n}function isMac(){if(!window){return false}if(!window.navigator){return false}var nav=window.navigator;if(nav.appVersion){return nav.appVersion.toLowerCase().indexOf("macintosh")>-1}else if(nav.platform){return nav.platform.toLowerCase().indexOf("mac")>-1}else if(nav.userAgent){return nav.userAgent.toLowerCase().indexOf("macintosh")>-1}}function randomString(length){length=length||6;var randstr="";var chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var i=0;i<length;i++){randstr+=chars.charAt(Math.floor(Math.random()*chars.length))}return randstr}function joinWithAnd(arr,word){if(!word){word="and"}var s=arr.join("~");var i=s.lastIndexOf("~");if(i>-1){s=s.substring(0,i)+" "+word+" "+s.substring(i+1,s.length)}s=s.replace(/~/g,", ");return s}function joinWithPs(){var args=Array.prototype.slice.call(arguments);return"<p>"+args.join("</p><p>")+"</p>"}function getPythonWeekday(d){d=typeof d=="object"?d.getDay():d;if(d<0||d>6){throw"getPythonWeekday: d out of range"}return d===0?6:d-1}function stamp(obs,values){obs.forEach(function(ob){$.extend(ob,values)});return obs}function removeHtmlTags(html){var tagBody="(?:[^\"'>]|\"[^\"]*\"|'[^']*')*";var tagOrComment=new RegExp("<(?:"+"!--(?:(?:-*[^->])*--+|-?)"+"|script\\b"+tagBody+">[\\s\\S]*?</script\\s*"+"|style\\b"+tagBody+">[\\s\\S]*?</style\\s*"+"|/?[a-z]"+tagBody+")>","gi");var oldHtml;do{oldHtml=html;html=html.replace(tagOrComment,"")}while(html!==oldHtml);return html.replace(/</g,"&lt;")}function getDiffMonths(d1,d2){return(d1.getFullYear()-d2.getFullYear())*12+d1.getMonth()-d2.getMonth()}function calculateFullYearsBetween(d1,d2){if(d1>d2){var x=d2;d2=d1;d1=x}var d=new Date(d1.getTime());var years=0;while(d<=d2){years++;d.setFullYear(d.getFullYear()+1)}if(years>0){years--}return years}function splitName(name){if(!name){return["",""]}var f="";var l="";if(name.indexOf(" ")==-1){l=name}else{var bits=name.split(" ");l=bits.pop();f=bits.join(" ")}return[f,l]}function isMobile(){var mobile=false;var regEx1=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i;var regEx2=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;if(regEx1.test(navigator.userAgent)||regEx2.test(navigator.userAgent.substr(0,4))){mobile=true}return mobile}var util={round:function(x,dp){dp=dp===undefined?2:dp;var y=Math.pow(10,dp);return Math.round(x*y)/y},h2d:function(hours,hoursInDay){return this.round(hours/hoursInDay,2)},d2h:function(days,hoursInDay){return this.round(days*hoursInDay,2)},padLeft:function(str,padChar,length){str+="";while(str.length<length){str=padChar+str}return str},padRight:function(str,padChar,length){str+="";while(str.length<length){str+=padChar}return str},validateFloat:function(f){return!isNaN(f)},pluralize:function(num,word){return num==1?word:word+"s"},properCase:function(str){return str.replace(/\w\S*/g,function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1).toLowerCase()})},formatString:formatString,splitName:splitName,formatBytes:formatBytes,isFirefox:isFirefox,isChrome:isChrome,date:date,datetime:datetime,getFileTypeImageUrl:getFileTypeImageUrl,getUrlParam:getUrlParam,isMac:isMac,randomString:randomString,joinWithAnd:joinWithAnd,joinWithPs:joinWithPs,getPythonWeekday:getPythonWeekday,stamp:stamp,getDiffMonths:getDiffMonths,calculateFullYearsBetween:calculateFullYearsBetween,decodeHtmlEntity:decodeHtmlEntity,encodeHtmlEntity:encodeHtmlEntity,parseJsonFromHtml:parseJsonFromHtml,removeHtmlTags:removeHtmlTags,vat:vat,getOrdinal:getOrdinal,isMobile:isMobile};return util});define("appogee/i18n",["i18n!","appogee/util"],function(i18n,util){"use strict";function isArray(x){if(x===undefined){return false}if(x===null){return false}if(typeof x==="object"&&x.hasOwnProperty("length")){return true}return false}function isObject(x){if(x===undefined){return false}if(x===null){return false}if(typeof x==="object"&&!x.hasOwnProperty("length")){return true}return false}var Strings=function(strings){strings=strings||{};for(var key in strings){if(strings.hasOwnProperty(key)){if(isObject(strings[key])){this[key]=new Strings(strings[key])}else{this[key]=strings[key]}}}this.scan()};Strings.prototype.setDefaultStrings=function(key,defaultStrings){var ob=this;if(key){if(!this.hasOwnProperty(key)){this[key]=new Strings(defaultStrings)}ob=this[key]}for(var k in defaultStrings){if(defaultStrings.hasOwnProperty(k)&&!ob[k]){ob[k]=defaultStrings[k]}}this.scan()};Strings.prototype.scan=function(ob){ob=ob||this;var autoKey=null;for(var key in ob){if(ob.hasOwnProperty(key)){if(isObject(ob[key])){this.scan(ob[key])}else{if(key.substring(key.length-1,key.length)=="1"){autoKey=key.substring(0,key.length-1);ob[autoKey]=ob.get(autoKey)}else if(key.length>5&&key.substring(key.length-5,key.length)=="Title"){autoKey=key.substring(0,key.length-5);ob[autoKey]=ob.get(autoKey)}}}}};Strings.prototype.get=function(key){var strs=[];var i=null;if(this.hasOwnProperty(key)){if(isArray(this[key])){strs=this[key]}else{strs.push(this[key])}}else if(this.hasOwnProperty(key+"1")){var strings=[];i=1;while(this.hasOwnProperty(key+i)){strings.push(this[key+i]);i++}strs.push(util.joinWithPs.apply(this,strings))}else if(this.hasOwnProperty(key+"Title")){var title=this.get(key+"Title");var msg=this.get(key+"Msg");strs.push(title);strs.push(msg)}strs=strs.slice(0);if(arguments.length>1){for(i=0;i<strs.length;i++){var args=Array.prototype.slice.call(arguments);args.splice(0,1,strs[i]);strs[i]=util.formatString.apply(this,args)}}if(strs.length===0){return""}else if(strs.length===1){return strs[0]}else{return strs}};var strings=new Strings(i18n);return{getStrings:function(key,defaults){if(defaults){strings.setDefaultStrings(key,defaults)}var s=null;if(key){if(strings.hasOwnProperty(key)){s=new Strings(strings[key])}else{s=new Strings}}else{s=strings}return s},getString:function(key,module){var s=this.getStrings(module);return s.get(key)}}});define("enums/CommonStrings",["appogee/i18n"],function(i18n){"use strict";var S,R={next:"Next",prev:"Prev",yes:"Yes",no:"No",cancel:"Cancel",formInvalid:"Form Invalid",ok:"OK",doYouWishToContinue:"Do you wish to continue?",select:"- Select -",selectDivision:"Select Division",selectTeam:"Select Team",loading:"Loading",saving:"Saving",saveSuccessful:"Save Successful",saveUnsuccessful:"Save Unsuccessful",selectLeaveProfile:"Select Leave Profile",offline:"You are offline! Please check your network.",sessionExpired:"Your session has expired. Please reload the page to log in again.",noAccess:"You do not have access to the requested resource.",genericError:"An error occurred when loading the request.",invalidInput:"Invalid Input",crikeyTitle:"Crikey!",crikeyMsg:"An unexpected error has occurred on our servers. Our engineers have been notified and will investigate the problem. In the meantime, please try your request again. If you continue to experience the issue, please log a ticket with the helpdesk.",alreadyDeletedTitle:"Already Deleted",alreadyDeletedMsg:"This resource has already been deleted.",licenseExceededTitle:"License Count Exceeded",licenseExceededMsg1:"Your license count has been exceeded. This can happen if you have added more Employees to your directory than your license permits. Please work to resolve this issue to avoid disruption to your service.",licenseExceededMsg2:"This can be done in 2 ways:",licenseExceededMsg3:"Archive some employees. This can be done from the Options menu on any Employee Profile.",licenseExceededMsg4:'Purchase a license extension. This can be done from the <a href="/config/licensing">Licensing page</a>.',welcomeTo10Title:"Welcome to {app_name} version 10",welcomeAdminTo10Msg1:"You may have already noticed a few changes to the layout of {app_name}, but there are many other new changes and features.",welcomeAdminTo10Msg2:'For an overview of whatâs new, please refer to <a href="https://appogeehr.freshdesk.com/support/solutions/articles/22000200571" target="_BLANK">this help article</a>. You can also access this information at any time by clicking the <i class="glyphicon glyphicon-question-sign" /> at the top of any page in {app_name}.',welcomeAdminTo10Msg3:"If you are an Administrator or HR Manager for {app_name} you will have received an important email about these changes detailing actions you may need to take to keep your office calendars up to date.",welcomeTo10Msg1:"You may have already noticed a few changes to the layout of {app_name}, but there are many other new changes and features.",welcomeTo10Msg2:'For an overview of whatâs new, please refer to <a href="https://appogeehr.freshdesk.com/support/solutions/articles/22000200571" target="_BLANK">this help article</a>. You can also access this information at any time by clicking the <i class="glyphicon glyphicon-question-sign" /> at the top of any page in {app_name}.'};var CommonStrings={init:function(){if(!S){S=i18n.getStrings(null,R);this.next=S.next;this.prev=S.prev;this.yes=S.yes;this.no=S.no;this.cancel=S.cancel;this.formInvalid=S.formInvalid;this.ok=S.ok;this.doYouWishToContinue=S.doYouWishToContinue;this.select=S.select;this.selectDivision=S.selectDivision;this.selectTeam=S.selectTeam;this.loading=S.loading;this.loadingDots=S.loading+" ...";this.saving=S.saving;this.savingDots=S.saving+" ...";this.saveSuccessful=S.saveSuccessful;this.saveUnsuccessful=S.saveUnsuccessful;this.selectLeaveProfile=S.selectLeaveProfile;this.offline=S.offline;this.sessionExpired=S.sessionExpired;this.noAccess=S.noAccess;this.genericError=S.genericError;this.invalidInput=S.invalidInput;this.crikeyTitle=S.crikeyTitle;this.crikeyMsg=S.crikeyMsg;this.alreadyDeletedTitle=S.alreadyDeletedTitle;this.alreadyDeletedMsg=S.alreadyDeletedMsg;this.licenseExceededTitle=S.licenseExceededTitle;this.licenseExceededMsg1=S.licenseExceededMsg1;this.licenseExceededMsg2=S.licenseExceededMsg2;this.licenseExceededMsg3=S.licenseExceededMsg3;this.licenseExceededMsg4=S.licenseExceededMsg4;this.welcomeTo10Title=S.welcomeTo10Title;this.welcomeAdminTo10Msg1=S.welcomeAdminTo10Msg1;this.welcomeAdminTo10Msg2=S.welcomeAdminTo10Msg2;this.welcomeAdminTo10Msg3=S.welcomeAdminTo10Msg3;this.welcomeTo10Msg1=S.welcomeTo10Msg1;this.welcomeTo10Msg2=S.welcomeTo10Msg2}}};return CommonStrings});define("jquery.appogee.util",["jquery"],function($){
$.fn.center=function(){this.css("position","absolute");this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px");this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px");return this};$.fn.centerX=function(){this.css("position","absolute");this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px");return this};$.fn.centerY=function(){this.css("position","absolute");this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px");return this};$.fn.preload=function(){this.each(function(){$("<img/>")[0].src=this})}});define("appogee/notifier",["jquery","enums/CommonStrings","jquery.appogee.util"],function($,CommonStrings){"use strict";var messageTypes={Danger:"danger",Success:"success",Ajax:"ajax"};var Notifier=function(){this.artificialDelay=2e3;this.lastNotice=null;this.autoHideTimer=null;this.autoHideTimeout=2e3;this.btnSaveSelector=null;this.btnSaveValue=null};Notifier.prototype.ajax=function(message,options){return this.notify(message,messageTypes.Ajax,options)};Notifier.prototype.success=function(message,options){options=$.extend({autoHide:true},options||{});if(this.btnSaveSelector){$(this.btnSaveSelector).prop("disabled",false);$(this.btnSaveSelector+" > span").html(this.btnSaveValue);this.btnSaveSelector=null;if(!message){message=CommonStrings.saveSuccessful}}return this.notify(message,messageTypes.Success,options)};Notifier.prototype.error=function(message,options){options=$.extend({autoHide:true},options||{});if(this.btnSaveSelector){$(this.btnSaveSelector).prop("disabled",false);$(this.btnSaveSelector+" > span").html(this.btnSaveValue);this.btnSaveSelector=null;if(!message){message=CommonStrings.saveUnsuccessful}}return this.notify(message,messageTypes.Danger,options)};Notifier.prototype.saving=function(btnSaveSelector){this.btnSaveSelector=btnSaveSelector||"#btnSave";this.btnSaveValue=$(this.btnSaveSelector+" > span").html();$(this.btnSaveSelector).prop("disabled",true);$(this.btnSaveSelector+" > span").html(CommonStrings.savingDots);return this.notify(CommonStrings.savingDots)};Notifier.prototype.notify=function(message,messageType,options){var me=this;options=$.extend({autoHide:false,artificiallyDelay:true},options||{});messageType=messageType||messageTypes.Ajax;$(".notifier").removeClass("ajax").removeClass("danger");if(messageType==messageTypes.Ajax){$(".notifier").addClass("ajax")}else if(messageType==messageTypes.Danger){$(".notifier").addClass("danger")}this.lastNotice=new Date;if(this.autoHideTimer){clearInterval(this.autoHideTimer)}if($("#subnavbar").length>0){$("#pageNotifier").css("top",175)}$(".notifier").html(message).fadeIn("fast",function(){if(options.autoHide){me.autoHideTimer=setTimeout(function(){me.hide()},me.autoHideTimeout)}}).each(function(){$(this).centerX()});return this};Notifier.prototype.hide=function(withabsolutelynodelay){if(withabsolutelynodelay){$(".notifier").hide()}else{$(".notifier").fadeOut("slow")}return this};return Notifier});define("appogee/xhr",["jquery","appogee/notifier","enums/CommonStrings"],function($,Notifier,CommonStrings){"use strict";var API_VERSION="v2";var API_BASE="/api/"+API_VERSION;var ajax={get:function(url,callback,options){this._request("GET",url,null,callback,options)},post:function(url,data,callback,options){this._request("POST",url,data,callback,options)},put:function(url,data,callback,options){this._request("PUT",url,data,callback,options)},delete:function(url,callback,options){this._request("DELETE",url,null,callback,options)},_request:function(method,url,data,callback,options){options=$.extend({type:method,url:url,data:data,success:callback,contentType:"application/json",dataType:"json",artificialDelay:false},options||{});if(options.artificialDelay){if(options.artificialDelay===true){options.artificialDelay=1e3}var d=(new Date).getTime();options.success=function(){var args=arguments;var t=(new Date).getTime()-d;if(t<options.artificialDelay){setTimeout(function(){callback.apply(this,args)},options.artificialDelay-t)}else{callback.apply(this,args)}}}if(options.contentType=="application/json"&&options.data!==null){options.data=JSON.stringify(options.data)}$.ajax(options)}};var api={get:function(url,callback,options){ajax.get(API_BASE+url,callback,options)},post:function(url,data,callback,options){ajax.post(API_BASE+url,data,callback,options)},put:function(url,data,callback,options){ajax.put(API_BASE+url,data,callback,options)},delete:function(url,callback,options){ajax.delete(API_BASE+url,callback,options)}};function load(urls,callback,options){if(!urls||urls.length===0){callback();return}options=$.extend({cachePolicies:{},isApi:false},options||{});var _responses={};var _count=urls.length;var _check=function(){if(--_count===0){var responses=[];$.each(urls,function(i,url){responses.push(_responses[url])});callback(responses)}};$.each(urls,function(i,url){var loadedFromCache=false;var cacheKey=url.replace(API_BASE,"");if(cacheKey in options.cachePolicies){var data=null;if(options.cachePolicies[cacheKey].type=="session"&&window.sessionStorage){data=window.sessionStorage.getItem(cacheKey)}else if(options.cachePolicies[cacheKey].type=="local"&&window.localStorage){data=window.localStorage.getItem(cacheKey)}if(data){data=JSON.parse(data);var timestamp=new Date(data.timestamp);var age=Math.floor((new Date-timestamp)/60/60);if(options.cachePolicies[cacheKey].expirySeconds>age){_responses[url]=data.data;_check();loadedFromCache=true}}}if(!loadedFromCache){ajax.get((options.isApi?API_BASE:"")+url,function(response){_responses[url]=response;_check();var cacheKey=url.replace(API_BASE,"");if(cacheKey in options.cachePolicies){if(options.cachePolicies[cacheKey].type=="session"&&window.sessionStorage){window.sessionStorage.setItem(cacheKey,JSON.stringify({timestamp:(new Date).toISOString(),data:response}))}else if(options.cachePolicies[cacheKey].type=="local"&&window.localStorage){window.localStorage.setItem(cacheKey,JSON.stringify({timestamp:(new Date).toISOString(),data:response}))}}})}})}function pageLoad(urls,callback,options){var notifier=null;if(!options.preventNotifier){notifier=new Notifier;notifier.notify(CommonStrings.loadingDots)}options.artificialDelay=false;var title=CommonStrings.loadingDots;var timer=setInterval(function(){if(title.length>=30){title=CommonStrings.loadingDots}title+=".";$("#h2PageTitle").html(title)},100);load(urls,function(response){clearInterval(timer);$(".load_hide").fadeIn();$(".form-loader,.load_show").hide();if(notifier!==null){notifier.hide()}callback(response)},options)}return{API_VERSION:API_VERSION,ajax:ajax,api:api,load:load,pageLoad:pageLoad}});define("appogee/cookies",[],function(){"use strict";function getCookie(cookieName){var cookieValue=document.cookie;var start=cookieValue.indexOf(" "+cookieName+"=");if(start==-1){start=cookieValue.indexOf(cookieName+"=")}if(start==-1){cookieValue=null}else{start=cookieValue.indexOf("=",start)+1;var end=cookieValue.indexOf(";",start);if(end==-1){end=cookieValue.length}cookieValue=window.unescape(cookieValue.substring(start,end))}return cookieValue}function setCookie(cookieName,value,expiryDays,path){var cookieValue=window.escape(value);if(expiryDays){var exdate=new Date;exdate.setDate(exdate.getDate()+expiryDays);cookieValue+="; expires="+exdate.toUTCString()}if(!path){path="/"}cookieValue+=";path="+path;if(!_isLocal()){cookieValue+=";domain="+".appogeehr.com"}document.cookie=cookieName+"="+cookieValue}function _isLocal(){return location.href.indexOf("http://127.0.0.1")>-1}function _getConfig(){var config=getCookie("cfg");if(!config){config={}}else{config=JSON.parse(atob(config))}return config}function _setConfig(config){config=btoa(JSON.stringify(config));setCookie("cfg",config)}function setConfig(key,value){var config=_getConfig();config[key]=value;_setConfig(config)}function getConfig(key,defaultValue){if(typeof defaultValue==="undefined"){defaultValue=null}var config=_getConfig();if(!config.hasOwnProperty(key)){return defaultValue}return config[key]}return{get:getCookie,set:setCookie,setConfig:setConfig,getConfig:getConfig}});define("appogee/localConfig",[],function(){"use strict";var COOKIE_NAME="AHR_C";return{get:function(key,defaultValue){if(!window.sessionStorage){return defaultValue||{}}var c=window.sessionStorage.getItem(COOKIE_NAME);if(c){c=JSON.parse(atob(c))}else{c={}}if(c.hasOwnProperty(key)){return c[key]}return defaultValue||{}},set:function(key,value){if(!window.sessionStorage){return}var c=window.sessionStorage.getItem("AHR_C");if(c){c=JSON.parse(atob(c))}else{c={}}c[key]=value;var pickled=JSON.stringify(c);pickled=btoa(pickled);window.sessionStorage.setItem("AHR_C",pickled)}}});define("appogee/view/AbstractColumn",["underscore"],function(_){var ViewColumn=function(label,sortField){if(_.isString(label)){this.label=label;this.labelTooltip=null}else if(label){this.label=label.text;this.labelTooltip=label.tooltip}this.width=null;this.visible=true;this.filterField=null;this.filterValues=null;this.isFiltered=false;this.sortField=sortField;this.sortOption=null;this.sortOptions=["asc"];this._view=null};ViewColumn.prototype.setFilter=function(field,values){this.filterField=field;this.filterValues=values};ViewColumn.prototype._setView=function(view){this._view=view};ViewColumn.prototype.setVisible=function(visible){this.visible=visible;this._view._populate()};ViewColumn.prototype.flattenObject=function(data,prefix){var flattened={};prefix=prefix||"";for(field in data){if(_.isObject(data[field])&&!_.isArray(data[field])){var subData=this.flattenObject(data[field],prefix+field+".");for(subField in subData){flattened[subField]=subData[subField]}flattened[prefix+field]=data[field]}else{flattened[prefix+field]=data[field]}}return flattened};return ViewColumn});define("appogee/view/TextColumn",["appogee/view/AbstractColumn"],function(AbstractColumn){function TextColumn(label,formattedString,sortField){AbstractColumn.apply(this,[label,sortField]);this.formattedString=formattedString}TextColumn.prototype=new AbstractColumn;TextColumn.prototype.render=function(data){data=this.flattenObject(data);var val=this.formattedString;for(field in data)if(data[field]==null)val=val.replace("["+field+"]","");else val=val.replace("["+field+"]",data[field]);return val};return TextColumn});(function webpackUniversalModuleDefinition(root,factory){if(typeof exports==="object"&&typeof module==="object")module.exports=factory();else if(typeof define==="function"&&define.amd)define("hbs/handlebars",factory);else if(typeof exports==="object")exports["Handlebars"]=factory();else root["Handlebars"]=factory()})(this,function(){return function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:false};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.loaded=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.p="";return __webpack_require__(0)}([function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;var _runtime=__webpack_require__(1);var _runtime2=_interopRequireDefault(_runtime);var _AST=__webpack_require__(2);var _AST2=_interopRequireDefault(_AST);var _Parser$parse=__webpack_require__(3);var _Compiler$compile$precompile=__webpack_require__(4);var _JavaScriptCompiler=__webpack_require__(5);var _JavaScriptCompiler2=_interopRequireDefault(_JavaScriptCompiler);var _Visitor=__webpack_require__(6);var _Visitor2=_interopRequireDefault(_Visitor);var _noConflict=__webpack_require__(7);var _noConflict2=_interopRequireDefault(_noConflict);var _create=_runtime2["default"].create;function create(){var hb=_create();hb.compile=function(input,options){return _Compiler$compile$precompile.compile(input,options,hb)};hb.precompile=function(input,options){return _Compiler$compile$precompile.precompile(input,options,hb)};hb.AST=_AST2["default"];hb.Compiler=_Compiler$compile$precompile.Compiler;hb.JavaScriptCompiler=_JavaScriptCompiler2["default"];hb.Parser=_Parser$parse.parser;hb.parse=_Parser$parse.parse;return hb}var inst=create();inst.create=create;_noConflict2["default"](inst);inst.Visitor=_Visitor2["default"];inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(9)["default"];var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;var _import=__webpack_require__(10);var base=_interopRequireWildcard(_import);var _SafeString=__webpack_require__(11);var _SafeString2=_interopRequireDefault(_SafeString);var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var _import2=__webpack_require__(13);var Utils=_interopRequireWildcard(_import2);var _import3=__webpack_require__(14);var runtime=_interopRequireWildcard(_import3);var _noConflict=__webpack_require__(7);var _noConflict2=_interopRequireDefault(_noConflict);function create(){var hb=new base.HandlebarsEnvironment;Utils.extend(hb,base);hb.SafeString=_SafeString2["default"];hb.Exception=_Exception2["default"];hb.Utils=Utils;hb.escapeExpression=Utils.escapeExpression;hb.VM=runtime;hb.template=function(spec){return runtime.template(spec,hb)};return hb}var inst=create();inst.create=create;_noConflict2["default"](inst);inst["default"]=inst;exports["default"]=inst;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var AST={Program:function Program(statements,blockParams,strip,locInfo){this.loc=locInfo;this.type="Program";this.body=statements;this.blockParams=blockParams;this.strip=strip},MustacheStatement:function MustacheStatement(path,params,hash,escaped,strip,locInfo){this.loc=locInfo;this.type="MustacheStatement";this.path=path;this.params=params||[];this.hash=hash;this.escaped=escaped;this.strip=strip},BlockStatement:function BlockStatement(path,params,hash,program,inverse,openStrip,inverseStrip,closeStrip,locInfo){this.loc=locInfo;this.type="BlockStatement";this.path=path;this.params=params||[];this.hash=hash;this.program=program;this.inverse=inverse;this.openStrip=openStrip;this.inverseStrip=inverseStrip;this.closeStrip=closeStrip},PartialStatement:function PartialStatement(name,params,hash,strip,locInfo){this.loc=locInfo;this.type="PartialStatement";this.name=name;this.params=params||[];this.hash=hash;this.indent="";this.strip=strip},ContentStatement:function ContentStatement(string,locInfo){this.loc=locInfo;this.type="ContentStatement";this.original=this.value=string},CommentStatement:function CommentStatement(comment,strip,locInfo){this.loc=locInfo;this.type="CommentStatement";this.value=comment;this.strip=strip},SubExpression:function SubExpression(path,params,hash,locInfo){this.loc=locInfo;this.type="SubExpression";this.path=path;this.params=params||[];this.hash=hash},PathExpression:function PathExpression(data,depth,parts,original,locInfo){this.loc=locInfo;this.type="PathExpression";this.data=data;this.original=original;this.parts=parts;this.depth=depth},StringLiteral:function StringLiteral(string,locInfo){this.loc=locInfo;this.type="StringLiteral";this.original=this.value=string},NumberLiteral:function NumberLiteral(number,locInfo){this.loc=locInfo;this.type="NumberLiteral";this.original=this.value=Number(number)},BooleanLiteral:function BooleanLiteral(bool,locInfo){this.loc=locInfo;this.type="BooleanLiteral";this.original=this.value=bool==="true"},UndefinedLiteral:function UndefinedLiteral(locInfo){this.loc=locInfo;this.type="UndefinedLiteral";this.original=this.value=undefined},NullLiteral:function NullLiteral(locInfo){this.loc=locInfo;this.type="NullLiteral";this.original=this.value=null},Hash:function Hash(pairs,locInfo){this.loc=locInfo;this.type="Hash";this.pairs=pairs},HashPair:function HashPair(key,value,locInfo){this.loc=locInfo;this.type="HashPair";this.key=key;this.value=value},helpers:{helperExpression:function helperExpression(node){return!!(node.type==="SubExpression"||node.params.length||node.hash)},scopedId:function scopedId(path){return/^\.|this\b/.test(path.original)},simpleId:function simpleId(path){return path.parts.length===1&&!AST.helpers.scopedId(path)&&!path.depth}}};exports["default"]=AST;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];var _interopRequireWildcard=__webpack_require__(9)["default"];exports.__esModule=true;exports.parse=parse;var _parser=__webpack_require__(15);var _parser2=_interopRequireDefault(_parser);var _AST=__webpack_require__(2);var _AST2=_interopRequireDefault(_AST);var _WhitespaceControl=__webpack_require__(16);var _WhitespaceControl2=_interopRequireDefault(_WhitespaceControl);var _import=__webpack_require__(17);var Helpers=_interopRequireWildcard(_import);var _extend=__webpack_require__(13);exports.parser=_parser2["default"];var yy={};_extend.extend(yy,Helpers,_AST2["default"]);function parse(input,options){if(input.type==="Program"){return input}_parser2["default"].yy=yy;yy.locInfo=function(locInfo){return new yy.SourceLocation(options&&options.srcName,locInfo)};var strip=new _WhitespaceControl2["default"];return strip.accept(_parser2["default"].parse(input))}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;exports.Compiler=Compiler;exports.precompile=precompile;exports.compile=compile;var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var _isArray$indexOf=__webpack_require__(13);var _AST=__webpack_require__(2);var _AST2=_interopRequireDefault(_AST);var slice=[].slice;function Compiler(){}Compiler.prototype={compiler:Compiler,equals:function equals(other){var len=this.opcodes.length;if(other.opcodes.length!==len){return false}for(var i=0;i<len;i++){var opcode=this.opcodes[i],otherOpcode=other.opcodes[i];if(opcode.opcode!==otherOpcode.opcode||!argEquals(opcode.args,otherOpcode.args)){return false}}len=this.children.length;for(var i=0;i<len;i++){if(!this.children[i].equals(other.children[i])){return false}}return true},guid:0,compile:function compile(program,options){this.sourceNode=[];this.opcodes=[];this.children=[];this.options=options;this.stringParams=options.stringParams;this.trackIds=options.trackIds;options.blockParams=options.blockParams||[];var knownHelpers=options.knownHelpers;options.knownHelpers={helperMissing:true,blockHelperMissing:true,each:true,if:true,unless:true,with:true,log:true,lookup:true};if(knownHelpers){for(var _name in knownHelpers){if(_name in knownHelpers){options.knownHelpers[_name]=knownHelpers[_name]}}}return this.accept(program)},compileProgram:function compileProgram(program){var childCompiler=new this.compiler,result=childCompiler.compile(program,this.options),guid=this.guid++;this.usePartial=this.usePartial||result.usePartial;this.children[guid]=result;this.useDepths=this.useDepths||result.useDepths;return guid},accept:function accept(node){this.sourceNode.unshift(node);var ret=this[node.type](node);this.sourceNode.shift();return ret},Program:function Program(program){this.options.blockParams.unshift(program.blockParams);var body=program.body,bodyLength=body.length;for(var i=0;i<bodyLength;i++){this.accept(body[i])}this.options.blockParams.shift();this.isSimple=bodyLength===1;this.blockParams=program.blockParams?program.blockParams.length:0;return this},BlockStatement:function BlockStatement(block){transformLiteralToPath(block);var program=block.program,inverse=block.inverse;program=program&&this.compileProgram(program);inverse=inverse&&this.compileProgram(inverse);var type=this.classifySexpr(block);if(type==="helper"){this.helperSexpr(block,program,inverse)}else if(type==="simple"){this.simpleSexpr(block);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("blockValue",block.path.original)}else{this.ambiguousSexpr(block,program,inverse);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.opcode("emptyHash");this.opcode("ambiguousBlockValue")}this.opcode("append")},PartialStatement:function PartialStatement(partial){this.usePartial=true;var params=partial.params;if(params.length>1){throw new _Exception2["default"]("Unsupported number of partial arguments: "+params.length,partial)}else if(!params.length){params.push({type:"PathExpression",parts:[],depth:0})}var partialName=partial.name.original,isDynamic=partial.name.type==="SubExpression";if(isDynamic){this.accept(partial.name)}this.setupFullMustacheParams(partial,undefined,undefined,true);var indent=partial.indent||"";if(this.options.preventIndent&&indent){this.opcode("appendContent",indent);indent=""}this.opcode("invokePartial",isDynamic,partialName,indent);this.opcode("append")},MustacheStatement:function MustacheStatement(mustache){this.SubExpression(mustache);if(mustache.escaped&&!this.options.noEscape){this.opcode("appendEscaped")}else{this.opcode("append")}},ContentStatement:function ContentStatement(content){if(content.value){this.opcode("appendContent",content.value)}},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(sexpr){transformLiteralToPath(sexpr);var type=this.classifySexpr(sexpr);if(type==="simple"){this.simpleSexpr(sexpr)}else if(type==="helper"){this.helperSexpr(sexpr)}else{this.ambiguousSexpr(sexpr)}},ambiguousSexpr:function ambiguousSexpr(sexpr,program,inverse){var path=sexpr.path,name=path.parts[0],isBlock=program!=null||inverse!=null;this.opcode("getContext",path.depth);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);this.accept(path);this.opcode("invokeAmbiguous",name,isBlock)},simpleSexpr:function simpleSexpr(sexpr){this.accept(sexpr.path);this.opcode("resolvePossibleLambda")},helperSexpr:function helperSexpr(sexpr,program,inverse){var params=this.setupFullMustacheParams(sexpr,program,inverse),path=sexpr.path,name=path.parts[0];if(this.options.knownHelpers[name]){this.opcode("invokeKnownHelper",params.length,name)}else if(this.options.knownHelpersOnly){throw new _Exception2["default"]("You specified knownHelpersOnly, but used the unknown helper "+name,sexpr)}else{path.falsy=true;this.accept(path);this.opcode("invokeHelper",params.length,path.original,_AST2["default"].helpers.simpleId(path))}},PathExpression:function PathExpression(path){this.addDepth(path.depth);this.opcode("getContext",path.depth);var name=path.parts[0],scoped=_AST2["default"].helpers.scopedId(path),blockParamId=!path.depth&&!scoped&&this.blockParamIndex(name);if(blockParamId){this.opcode("lookupBlockParam",blockParamId,path.parts)}else if(!name){this.opcode("pushContext")}else if(path.data){this.options.data=true;this.opcode("lookupData",path.depth,path.parts)}else{this.opcode("lookupOnContext",path.parts,path.falsy,scoped)}},StringLiteral:function StringLiteral(string){this.opcode("pushString",string.value)},NumberLiteral:function NumberLiteral(number){this.opcode("pushLiteral",number.value)},BooleanLiteral:function BooleanLiteral(bool){this.opcode("pushLiteral",bool.value)},UndefinedLiteral:function UndefinedLiteral(){this.opcode("pushLiteral","undefined")},NullLiteral:function NullLiteral(){this.opcode("pushLiteral","null")},Hash:function Hash(hash){var pairs=hash.pairs,i=0,l=pairs.length;this.opcode("pushHash");for(;i<l;i++){this.pushParam(pairs[i].value)}while(i--){this.opcode("assignToHash",pairs[i].key)}this.opcode("popHash")},opcode:function opcode(name){this.opcodes.push({opcode:name,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function addDepth(depth){if(!depth){return}this.useDepths=true},classifySexpr:function classifySexpr(sexpr){var isSimple=_AST2["default"].helpers.simpleId(sexpr.path);var isBlockParam=isSimple&&!!this.blockParamIndex(sexpr.path.parts[0]);var isHelper=!isBlockParam&&_AST2["default"].helpers.helperExpression(sexpr);var isEligible=!isBlockParam&&(isHelper||isSimple);if(isEligible&&!isHelper){var _name2=sexpr.path.parts[0],options=this.options;if(options.knownHelpers[_name2]){isHelper=true}else if(options.knownHelpersOnly){isEligible=false}}if(isHelper){return"helper"}else if(isEligible){return"ambiguous"}else{return"simple"}},pushParams:function pushParams(params){for(var i=0,l=params.length;i<l;i++){this.pushParam(params[i])}},pushParam:function pushParam(val){var value=val.value!=null?val.value:val.original||"";if(this.stringParams){if(value.replace){value=value.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")}if(val.depth){this.addDepth(val.depth)}this.opcode("getContext",val.depth||0);this.opcode("pushStringParam",value,val.type);if(val.type==="SubExpression"){this.accept(val)}}else{if(this.trackIds){var blockParamIndex=undefined;if(val.parts&&!_AST2["default"].helpers.scopedId(val)&&!val.depth){blockParamIndex=this.blockParamIndex(val.parts[0])}if(blockParamIndex){var blockParamChild=val.parts.slice(1).join(".");this.opcode("pushId","BlockParam",blockParamIndex,blockParamChild)}else{value=val.original||value;if(value.replace){value=value.replace(/^\.\//g,"").replace(/^\.$/g,"")}this.opcode("pushId",val.type,value)}}this.accept(val)}},setupFullMustacheParams:function setupFullMustacheParams(sexpr,program,inverse,omitEmpty){var params=sexpr.params;this.pushParams(params);this.opcode("pushProgram",program);this.opcode("pushProgram",inverse);if(sexpr.hash){this.accept(sexpr.hash)}else{this.opcode("emptyHash",omitEmpty)}return params},blockParamIndex:function blockParamIndex(name){for(var depth=0,len=this.options.blockParams.length;depth<len;depth++){var blockParams=this.options.blockParams[depth],param=blockParams&&_isArray$indexOf.indexOf(blockParams,name);if(blockParams&&param>=0){return[depth,param]}}}};function precompile(input,options,env){if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _Exception2["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+input)}options=options||{};if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options);return(new env.JavaScriptCompiler).compile(environment,options)}function compile(input,_x,env){var options=arguments[1]===undefined?{}:arguments[1];if(input==null||typeof input!=="string"&&input.type!=="Program"){throw new _Exception2["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+input)}if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}var compiled=undefined;function compileInput(){var ast=env.parse(input,options),environment=(new env.Compiler).compile(ast,options),templateSpec=(new env.JavaScriptCompiler).compile(environment,options,undefined,true);return env.template(templateSpec)}function ret(context,execOptions){if(!compiled){compiled=compileInput()}return compiled.call(this,context,execOptions)}ret._setup=function(setupOptions){if(!compiled){compiled=compileInput()}return compiled._setup(setupOptions)};ret._child=function(i,data,blockParams,depths){if(!compiled){compiled=compileInput()}return compiled._child(i,data,blockParams,depths)};return ret}function argEquals(a,b){if(a===b){return true}if(_isArray$indexOf.isArray(a)&&_isArray$indexOf.isArray(b)&&a.length===b.length){for(var i=0;i<a.length;i++){if(!argEquals(a[i],b[i])){return false}}return true}}function transformLiteralToPath(sexpr){if(!sexpr.path.parts){var literal=sexpr.path;sexpr.path=new _AST2["default"].PathExpression(false,0,[literal.original+""],literal.original+"",literal.loc)}}},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;var _COMPILER_REVISION$REVISION_CHANGES=__webpack_require__(10);var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var _isArray=__webpack_require__(13);var _CodeGen=__webpack_require__(18);var _CodeGen2=_interopRequireDefault(_CodeGen);function Literal(value){this.value=value}function JavaScriptCompiler(){}JavaScriptCompiler.prototype={nameLookup:function nameLookup(parent,name){if(JavaScriptCompiler.isValidJavaScriptVariableName(name)){return[parent,".",name]}else{return[parent,"['",name,"']"]}},depthedLookup:function depthedLookup(name){return[this.aliasable("this.lookup"),'(depths, "',name,'")']},compilerInfo:function compilerInfo(){var revision=_COMPILER_REVISION$REVISION_CHANGES.COMPILER_REVISION,versions=_COMPILER_REVISION$REVISION_CHANGES.REVISION_CHANGES[revision];return[revision,versions]},appendToBuffer:function appendToBuffer(source,location,explicit){if(!_isArray.isArray(source)){source=[source]}source=this.source.wrap(source,location);if(this.environment.isSimple){return["return ",source,";"]}else if(explicit){return["buffer += ",source,";"]}else{source.appendToBuffer=true;return source}},initializeBuffer:function initializeBuffer(){return this.quotedString("")},compile:function compile(environment,options,context,asObject){this.environment=environment;this.options=options;this.stringParams=this.options.stringParams;this.trackIds=this.options.trackIds;this.precompile=!asObject;this.name=this.environment.name;this.isChild=!!context;this.context=context||{programs:[],environments:[]};this.preamble();this.stackSlot=0;this.stackVars=[];this.aliases={};this.registers={list:[]};this.hashes=[];this.compileStack=[];this.inlineStack=[];this.blockParams=[];this.compileChildren(environment,options);this.useDepths=this.useDepths||environment.useDepths||this.options.compat;this.useBlockParams=this.useBlockParams||environment.useBlockParams;var opcodes=environment.opcodes,opcode=undefined,firstLoc=undefined,i=undefined,l=undefined;for(i=0,l=opcodes.length;i<l;i++){opcode=opcodes[i];this.source.currentLocation=opcode.loc;firstLoc=firstLoc||opcode.loc;this[opcode.opcode].apply(this,opcode.args)}this.source.currentLocation=firstLoc;this.pushSource("");if(this.stackSlot||this.inlineStack.length||this.compileStack.length){throw new _Exception2["default"]("Compile completed with content left on stack")}var fn=this.createFunctionContext(asObject);if(!this.isChild){var ret={compiler:this.compilerInfo(),main:fn};var programs=this.context.programs;for(i=0,l=programs.length;i<l;i++){if(programs[i]){ret[i]=programs[i]}}if(this.environment.usePartial){ret.usePartial=true}if(this.options.data){ret.useData=true}if(this.useDepths){ret.useDepths=true}if(this.useBlockParams){ret.useBlockParams=true}if(this.options.compat){ret.compat=true}if(!asObject){ret.compiler=JSON.stringify(ret.compiler);this.source.currentLocation={start:{line:1,column:0}};ret=this.objectLiteral(ret);if(options.srcName){ret=ret.toStringWithSourceMap({file:options.destName});ret.map=ret.map&&ret.map.toString()}else{ret=ret.toString()}}else{ret.compilerOptions=this.options}return ret}else{return fn}},preamble:function preamble(){this.lastContext=0;this.source=new _CodeGen2["default"](this.options.srcName)},createFunctionContext:function createFunctionContext(asObject){var varDeclarations="";var locals=this.stackVars.concat(this.registers.list);if(locals.length>0){varDeclarations+=", "+locals.join(", ")}var aliasCount=0;for(var alias in this.aliases){var node=this.aliases[alias];if(this.aliases.hasOwnProperty(alias)&&node.children&&node.referenceCount>1){varDeclarations+=", alias"+ ++aliasCount+"="+alias;node.children[0]="alias"+aliasCount}}var params=["depth0","helpers","partials","data"];if(this.useBlockParams||this.useDepths){params.push("blockParams")}if(this.useDepths){params.push("depths")}var source=this.mergeSource(varDeclarations);if(asObject){
params.push(source);return Function.apply(this,params)}else{return this.source.wrap(["function(",params.join(","),") {\n  ",source,"}"])}},mergeSource:function mergeSource(varDeclarations){var isSimple=this.environment.isSimple,appendOnly=!this.forceBuffer,appendFirst=undefined,sourceSeen=undefined,bufferStart=undefined,bufferEnd=undefined;this.source.each(function(line){if(line.appendToBuffer){if(bufferStart){line.prepend("  + ")}else{bufferStart=line}bufferEnd=line}else{if(bufferStart){if(!sourceSeen){appendFirst=true}else{bufferStart.prepend("buffer += ")}bufferEnd.add(";");bufferStart=bufferEnd=undefined}sourceSeen=true;if(!isSimple){appendOnly=false}}});if(appendOnly){if(bufferStart){bufferStart.prepend("return ");bufferEnd.add(";")}else if(!sourceSeen){this.source.push('return "";')}}else{varDeclarations+=", buffer = "+(appendFirst?"":this.initializeBuffer());if(bufferStart){bufferStart.prepend("return buffer + ");bufferEnd.add(";")}else{this.source.push("return buffer;")}}if(varDeclarations){this.source.prepend("var "+varDeclarations.substring(2)+(appendFirst?"":";\n"))}return this.source.merge()},blockValue:function blockValue(name){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs(name,0,params);var blockName=this.popStack();params.splice(1,0,blockName);this.push(this.source.functionCall(blockHelperMissing,"call",params))},ambiguousBlockValue:function ambiguousBlockValue(){var blockHelperMissing=this.aliasable("helpers.blockHelperMissing"),params=[this.contextName(0)];this.setupHelperArgs("",0,params,true);this.flushInline();var current=this.topStack();params.splice(1,0,current);this.pushSource(["if (!",this.lastHelper,") { ",current," = ",this.source.functionCall(blockHelperMissing,"call",params),"}"])},appendContent:function appendContent(content){if(this.pendingContent){content=this.pendingContent+content}else{this.pendingLocation=this.source.currentLocation}this.pendingContent=content},append:function append(){if(this.isInline()){this.replaceStack(function(current){return[" != null ? ",current,' : ""']});this.pushSource(this.appendToBuffer(this.popStack()))}else{var local=this.popStack();this.pushSource(["if (",local," != null) { ",this.appendToBuffer(local,undefined,true)," }"]);if(this.environment.isSimple){this.pushSource(["else { ",this.appendToBuffer("''",undefined,true)," }"])}}},appendEscaped:function appendEscaped(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},getContext:function getContext(depth){this.lastContext=depth},pushContext:function pushContext(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function lookupOnContext(parts,falsy,scoped){var i=0;if(!scoped&&this.options.compat&&!this.lastContext){this.push(this.depthedLookup(parts[i++]))}else{this.pushContext()}this.resolvePath("context",parts,i,falsy)},lookupBlockParam:function lookupBlockParam(blockParamId,parts){this.useBlockParams=true;this.push(["blockParams[",blockParamId[0],"][",blockParamId[1],"]"]);this.resolvePath("context",parts,1)},lookupData:function lookupData(depth,parts){if(!depth){this.pushStackLiteral("data")}else{this.pushStackLiteral("this.data(data, "+depth+")")}this.resolvePath("data",parts,0,true)},resolvePath:function resolvePath(type,parts,i,falsy){var _this=this;if(this.options.strict||this.options.assumeObjects){this.push(strictLookup(this.options.strict,this,parts,type));return}var len=parts.length;for(;i<len;i++){this.replaceStack(function(current){var lookup=_this.nameLookup(current,parts[i],type);if(!falsy){return[" != null ? ",lookup," : ",current]}else{return[" && ",lookup]}})}},resolvePossibleLambda:function resolvePossibleLambda(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function pushStringParam(string,type){this.pushContext();this.pushString(type);if(type!=="SubExpression"){if(typeof string==="string"){this.pushString(string)}else{this.pushStackLiteral(string)}}},emptyHash:function emptyHash(omitEmpty){if(this.trackIds){this.push("{}")}if(this.stringParams){this.push("{}");this.push("{}")}this.pushStackLiteral(omitEmpty?"undefined":"{}")},pushHash:function pushHash(){if(this.hash){this.hashes.push(this.hash)}this.hash={values:[],types:[],contexts:[],ids:[]}},popHash:function popHash(){var hash=this.hash;this.hash=this.hashes.pop();if(this.trackIds){this.push(this.objectLiteral(hash.ids))}if(this.stringParams){this.push(this.objectLiteral(hash.contexts));this.push(this.objectLiteral(hash.types))}this.push(this.objectLiteral(hash.values))},pushString:function pushString(string){this.pushStackLiteral(this.quotedString(string))},pushLiteral:function pushLiteral(value){this.pushStackLiteral(value)},pushProgram:function pushProgram(guid){if(guid!=null){this.pushStackLiteral(this.programExpression(guid))}else{this.pushStackLiteral(null)}},invokeHelper:function invokeHelper(paramSize,name,isSimple){var nonHelper=this.popStack(),helper=this.setupHelper(paramSize,name),simple=isSimple?[helper.name," || "]:"";var lookup=["("].concat(simple,nonHelper);if(!this.options.strict){lookup.push(" || ",this.aliasable("helpers.helperMissing"))}lookup.push(")");this.push(this.source.functionCall(lookup,"call",helper.callParams))},invokeKnownHelper:function invokeKnownHelper(paramSize,name){var helper=this.setupHelper(paramSize,name);this.push(this.source.functionCall(helper.name,"call",helper.callParams))},invokeAmbiguous:function invokeAmbiguous(name,helperCall){this.useRegister("helper");var nonHelper=this.popStack();this.emptyHash();var helper=this.setupHelper(0,name,helperCall);var helperName=this.lastHelper=this.nameLookup("helpers",name,"helper");var lookup=["(","(helper = ",helperName," || ",nonHelper,")"];if(!this.options.strict){lookup[0]="(helper = ";lookup.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))}this.push(["(",lookup,helper.paramsInit?["),(",helper.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",helper.callParams)," : helper))"])},invokePartial:function invokePartial(isDynamic,name,indent){var params=[],options=this.setupParams(name,1,params,false);if(isDynamic){name=this.popStack();delete options.name}if(indent){options.indent=JSON.stringify(indent)}options.helpers="helpers";options.partials="partials";if(!isDynamic){params.unshift(this.nameLookup("partials",name,"partial"))}else{params.unshift(name)}if(this.options.compat){options.depths="depths"}options=this.objectLiteral(options);params.push(options);this.push(this.source.functionCall("this.invokePartial","",params))},assignToHash:function assignToHash(key){var value=this.popStack(),context=undefined,type=undefined,id=undefined;if(this.trackIds){id=this.popStack()}if(this.stringParams){type=this.popStack();context=this.popStack()}var hash=this.hash;if(context){hash.contexts[key]=context}if(type){hash.types[key]=type}if(id){hash.ids[key]=id}hash.values[key]=value},pushId:function pushId(type,name,child){if(type==="BlockParam"){this.pushStackLiteral("blockParams["+name[0]+"].path["+name[1]+"]"+(child?" + "+JSON.stringify("."+child):""))}else if(type==="PathExpression"){this.pushString(name)}else if(type==="SubExpression"){this.pushStackLiteral("true")}else{this.pushStackLiteral("null")}},compiler:JavaScriptCompiler,compileChildren:function compileChildren(environment,options){var children=environment.children,child=undefined,compiler=undefined;for(var i=0,l=children.length;i<l;i++){child=children[i];compiler=new this.compiler;var index=this.matchExistingProgram(child);if(index==null){this.context.programs.push("");index=this.context.programs.length;child.index=index;child.name="program"+index;this.context.programs[index]=compiler.compile(child,options,this.context,!this.precompile);this.context.environments[index]=child;this.useDepths=this.useDepths||compiler.useDepths;this.useBlockParams=this.useBlockParams||compiler.useBlockParams}else{child.index=index;child.name="program"+index;this.useDepths=this.useDepths||child.useDepths;this.useBlockParams=this.useBlockParams||child.useBlockParams}}},matchExistingProgram:function matchExistingProgram(child){for(var i=0,len=this.context.environments.length;i<len;i++){var environment=this.context.environments[i];if(environment&&environment.equals(child)){return i}}},programExpression:function programExpression(guid){var child=this.environment.children[guid],programParams=[child.index,"data",child.blockParams];if(this.useBlockParams||this.useDepths){programParams.push("blockParams")}if(this.useDepths){programParams.push("depths")}return"this.program("+programParams.join(", ")+")"},useRegister:function useRegister(name){if(!this.registers[name]){this.registers[name]=true;this.registers.list.push(name)}},push:function push(expr){if(!(expr instanceof Literal)){expr=this.source.wrap(expr)}this.inlineStack.push(expr);return expr},pushStackLiteral:function pushStackLiteral(item){this.push(new Literal(item))},pushSource:function pushSource(source){if(this.pendingContent){this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation));this.pendingContent=undefined}if(source){this.source.push(source)}},replaceStack:function replaceStack(callback){var prefix=["("],stack=undefined,createdStack=undefined,usedLiteral=undefined;if(!this.isInline()){throw new _Exception2["default"]("replaceStack on non-inline")}var top=this.popStack(true);if(top instanceof Literal){stack=[top.value];prefix=["(",stack];usedLiteral=true}else{createdStack=true;var _name=this.incrStack();prefix=["((",this.push(_name)," = ",top,")"];stack=this.topStack()}var item=callback.call(this,stack);if(!usedLiteral){this.popStack()}if(createdStack){this.stackSlot--}this.push(prefix.concat(item,")"))},incrStack:function incrStack(){this.stackSlot++;if(this.stackSlot>this.stackVars.length){this.stackVars.push("stack"+this.stackSlot)}return this.topStackName()},topStackName:function topStackName(){return"stack"+this.stackSlot},flushInline:function flushInline(){var inlineStack=this.inlineStack;this.inlineStack=[];for(var i=0,len=inlineStack.length;i<len;i++){var entry=inlineStack[i];if(entry instanceof Literal){this.compileStack.push(entry)}else{var stack=this.incrStack();this.pushSource([stack," = ",entry,";"]);this.compileStack.push(stack)}}},isInline:function isInline(){return this.inlineStack.length},popStack:function popStack(wrapped){var inline=this.isInline(),item=(inline?this.inlineStack:this.compileStack).pop();if(!wrapped&&item instanceof Literal){return item.value}else{if(!inline){if(!this.stackSlot){throw new _Exception2["default"]("Invalid stack pop")}this.stackSlot--}return item}},topStack:function topStack(){var stack=this.isInline()?this.inlineStack:this.compileStack,item=stack[stack.length-1];if(item instanceof Literal){return item.value}else{return item}},contextName:function contextName(context){if(this.useDepths&&context){return"depths["+context+"]"}else{return"depth"+context}},quotedString:function quotedString(str){return this.source.quotedString(str)},objectLiteral:function objectLiteral(obj){return this.source.objectLiteral(obj)},aliasable:function aliasable(name){var ret=this.aliases[name];if(ret){ret.referenceCount++;return ret}ret=this.aliases[name]=this.source.wrap(name);ret.aliasable=true;ret.referenceCount=1;return ret},setupHelper:function setupHelper(paramSize,name,blockHelper){var params=[],paramsInit=this.setupHelperArgs(name,paramSize,params,blockHelper);var foundHelper=this.nameLookup("helpers",name,"helper");return{params:params,paramsInit:paramsInit,name:foundHelper,callParams:[this.contextName(0)].concat(params)}},setupParams:function setupParams(helper,paramSize,params){var options={},contexts=[],types=[],ids=[],param=undefined;options.name=this.quotedString(helper);options.hash=this.popStack();if(this.trackIds){options.hashIds=this.popStack()}if(this.stringParams){options.hashTypes=this.popStack();options.hashContexts=this.popStack()}var inverse=this.popStack(),program=this.popStack();if(program||inverse){options.fn=program||"this.noop";options.inverse=inverse||"this.noop"}var i=paramSize;while(i--){param=this.popStack();params[i]=param;if(this.trackIds){ids[i]=this.popStack()}if(this.stringParams){types[i]=this.popStack();contexts[i]=this.popStack()}}if(this.trackIds){options.ids=this.source.generateArray(ids)}if(this.stringParams){options.types=this.source.generateArray(types);options.contexts=this.source.generateArray(contexts)}if(this.options.data){options.data="data"}if(this.useBlockParams){options.blockParams="blockParams"}return options},setupHelperArgs:function setupHelperArgs(helper,paramSize,params,useRegister){var options=this.setupParams(helper,paramSize,params,true);options=this.objectLiteral(options);if(useRegister){this.useRegister("options");params.push("options");return["options=",options]}else{params.push(options);return""}}};(function(){var reservedWords=("break else new var"+" case finally return void"+" catch for switch while"+" continue function this with"+" default if throw"+" delete in try"+" do instanceof typeof"+" abstract enum int short"+" boolean export interface static"+" byte extends long super"+" char final native synchronized"+" class float package throws"+" const goto private transient"+" debugger implements protected volatile"+" double import public let yield await"+" null true false").split(" ");var compilerWords=JavaScriptCompiler.RESERVED_WORDS={};for(var i=0,l=reservedWords.length;i<l;i++){compilerWords[reservedWords[i]]=true}})();JavaScriptCompiler.isValidJavaScriptVariableName=function(name){return!JavaScriptCompiler.RESERVED_WORDS[name]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)};function strictLookup(requireTerminal,compiler,parts,type){var stack=compiler.popStack(),i=0,len=parts.length;if(requireTerminal){len--}for(;i<len;i++){stack=compiler.nameLookup(stack,parts[i],type)}if(requireTerminal){return[compiler.aliasable("this.strict"),"(",stack,", ",compiler.quotedString(parts[i]),")"]}else{return stack}}exports["default"]=JavaScriptCompiler;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var _AST=__webpack_require__(2);var _AST2=_interopRequireDefault(_AST);function Visitor(){this.parents=[]}Visitor.prototype={constructor:Visitor,mutating:false,acceptKey:function acceptKey(node,name){var value=this.accept(node[name]);if(this.mutating){if(value&&(!value.type||!_AST2["default"][value.type])){throw new _Exception2["default"]('Unexpected node type "'+value.type+'" found when accepting '+name+" on "+node.type)}node[name]=value}},acceptRequired:function acceptRequired(node,name){this.acceptKey(node,name);if(!node[name]){throw new _Exception2["default"](node.type+" requires "+name)}},acceptArray:function acceptArray(array){for(var i=0,l=array.length;i<l;i++){this.acceptKey(array,i);if(!array[i]){array.splice(i,1);i--;l--}}},accept:function accept(object){if(!object){return}if(this.current){this.parents.unshift(this.current)}this.current=object;var ret=this[object.type](object);this.current=this.parents.shift();if(!this.mutating||ret){return ret}else if(ret!==false){return object}},Program:function Program(program){this.acceptArray(program.body)},MustacheStatement:function MustacheStatement(mustache){this.acceptRequired(mustache,"path");this.acceptArray(mustache.params);this.acceptKey(mustache,"hash")},BlockStatement:function BlockStatement(block){this.acceptRequired(block,"path");this.acceptArray(block.params);this.acceptKey(block,"hash");this.acceptKey(block,"program");this.acceptKey(block,"inverse")},PartialStatement:function PartialStatement(partial){this.acceptRequired(partial,"name");this.acceptArray(partial.params);this.acceptKey(partial,"hash")},ContentStatement:function ContentStatement(){},CommentStatement:function CommentStatement(){},SubExpression:function SubExpression(sexpr){this.acceptRequired(sexpr,"path");this.acceptArray(sexpr.params);this.acceptKey(sexpr,"hash")},PathExpression:function PathExpression(){},StringLiteral:function StringLiteral(){},NumberLiteral:function NumberLiteral(){},BooleanLiteral:function BooleanLiteral(){},UndefinedLiteral:function UndefinedLiteral(){},NullLiteral:function NullLiteral(){},Hash:function Hash(hash){this.acceptArray(hash.pairs)},HashPair:function HashPair(pair){this.acceptRequired(pair,"value")}};exports["default"]=Visitor;module.exports=exports["default"]},function(module,exports,__webpack_require__){(function(global){"use strict";exports.__esModule=true;exports["default"]=function(Handlebars){var root=typeof global!=="undefined"?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){if(root.Handlebars===Handlebars){root.Handlebars=$Handlebars}}};module.exports=exports["default"]}).call(exports,function(){return this}())},function(module,exports,__webpack_require__){"use strict";exports["default"]=function(obj){return obj&&obj.__esModule?obj:{default:obj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";exports["default"]=function(obj){if(obj&&obj.__esModule){return obj}else{var newObj={};if(typeof obj==="object"&&obj!==null){for(var key in obj){if(Object.prototype.hasOwnProperty.call(obj,key))newObj[key]=obj[key]}}newObj["default"]=obj;return newObj}};exports.__esModule=true},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(9)["default"];var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;exports.HandlebarsEnvironment=HandlebarsEnvironment;exports.createFrame=createFrame;var _import=__webpack_require__(13);var Utils=_interopRequireWildcard(_import);var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var VERSION="3.0.1";exports.VERSION=VERSION;var COMPILER_REVISION=6;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};exports.REVISION_CHANGES=REVISION_CHANGES;var isArray=Utils.isArray,isFunction=Utils.isFunction,toString=Utils.toString,objectType="[object Object]";function HandlebarsEnvironment(helpers,partials){this.helpers=helpers||{};this.partials=partials||{};registerDefaultHelpers(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:logger,log:log,registerHelper:function registerHelper(name,fn){if(toString.call(name)===objectType){if(fn){throw new _Exception2["default"]("Arg not supported with multiple helpers")}Utils.extend(this.helpers,name)}else{this.helpers[name]=fn}},unregisterHelper:function unregisterHelper(name){delete this.helpers[name]},registerPartial:function registerPartial(name,partial){if(toString.call(name)===objectType){Utils.extend(this.partials,name)}else{if(typeof partial==="undefined"){throw new _Exception2["default"]("Attempting to register a partial as undefined")}this.partials[name]=partial}},unregisterPartial:function unregisterPartial(name){delete this.partials[name]}};function registerDefaultHelpers(instance){instance.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new _Exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}});instance.registerHelper("blockHelperMissing",function(context,options){var inverse=options.inverse,fn=options.fn;if(context===true){return fn(this)}else if(context===false||context==null){return inverse(this)}else if(isArray(context)){if(context.length>0){if(options.ids){options.ids=[options.name]}return instance.helpers.each(context,options)}else{return inverse(this)}}else{if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.name);options={data:data}}return fn(context,options)}});instance.registerHelper("each",function(context,options){if(!options){throw new _Exception2["default"]("Must pass iterator to #each")}var fn=options.fn,inverse=options.inverse,i=0,ret="",data=undefined,contextPath=undefined;if(options.data&&options.ids){contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0])+"."}if(isFunction(context)){context=context.call(this)}if(options.data){data=createFrame(options.data)}function execIteration(field,index,last){if(data){data.key=field;data.index=index;data.first=index===0;data.last=!!last;if(contextPath){data.contextPath=contextPath+field}}ret=ret+fn(context[field],{data:data,blockParams:Utils.blockParams([context[field],field],[contextPath+field,null])})}if(context&&typeof context==="object"){if(isArray(context)){for(var j=context.length;i<j;i++){execIteration(i,i,i===context.length-1)}}else{var priorKey=undefined;for(var key in context){if(context.hasOwnProperty(key)){if(priorKey){execIteration(priorKey,i-1)}priorKey=key;i++}}if(priorKey){execIteration(priorKey,i-1,true)}}}if(i===0){ret=inverse(this)}return ret});instance.registerHelper("if",function(conditional,options){if(isFunction(conditional)){conditional=conditional.call(this)}if(!options.hash.includeZero&&!conditional||Utils.isEmpty(conditional)){return options.inverse(this)}else{return options.fn(this)}});instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})});instance.registerHelper("with",function(context,options){if(isFunction(context)){context=context.call(this)}var fn=options.fn;if(!Utils.isEmpty(context)){if(options.data&&options.ids){var data=createFrame(options.data);data.contextPath=Utils.appendContextPath(options.data.contextPath,options.ids[0]);options={data:data}}return fn(context,options)}else{return options.inverse(this)}});instance.registerHelper("log",function(message,options){var level=options.data&&options.data.level!=null?parseInt(options.data.level,10):1;instance.log(level,message)});instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})}var logger={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:1,log:function log(level,message){if(typeof console!=="undefined"&&logger.level<=level){var method=logger.methodMap[level];(console[method]||console.log).call(console,message)}}};exports.logger=logger;var log=logger.log;exports.log=log;function createFrame(object){var frame=Utils.extend({},object);frame._parent=object;return frame}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;function SafeString(string){this.string=string}SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string};exports["default"]=SafeString;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];function Exception(message,node){var loc=node&&node.loc,line=undefined,column=undefined;if(loc){line=loc.start.line;column=loc.start.column;message+=" - "+line+":"+column}var tmp=Error.prototype.constructor.call(this,message);for(var idx=0;idx<errorProps.length;idx++){this[errorProps[idx]]=tmp[errorProps[idx]]}if(Error.captureStackTrace){Error.captureStackTrace(this,Exception)}if(loc){this.lineNumber=line;this.column=column}}Exception.prototype=new Error;exports["default"]=Exception;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;exports.extend=extend;exports.indexOf=indexOf;exports.escapeExpression=escapeExpression;exports.isEmpty=isEmpty;exports.blockParams=blockParams;exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};var badChars=/[&<>"'`]/g,possible=/[&<>"'`]/;function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++){for(var key in arguments[i]){if(Object.prototype.hasOwnProperty.call(arguments[i],key)){obj[key]=arguments[i][key]}}}return obj}var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function isFunction(value){return typeof value==="function"};if(isFunction(/x/)){exports.isFunction=isFunction=function(value){return typeof value==="function"&&toString.call(value)==="[object Function]"}}var isFunction;exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&typeof value==="object"?toString.call(value)==="[object Array]":false};exports.isArray=isArray;function indexOf(array,value){for(var i=0,len=array.length;i<len;i++){if(array[i]===value){return i}}return-1}function escapeExpression(string){if(typeof string!=="string"){if(string&&string.toHTML){return string.toHTML()}else if(string==null){return""}else if(!string){return string+""}string=""+string}if(!possible.test(string)){return string}return string.replace(badChars,escapeChar)}function isEmpty(value){if(!value&&value!==0){return true}else if(isArray(value)&&value.length===0){return true}else{return false}}function blockParams(params,ids){params.path=ids;return params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}},function(module,exports,__webpack_require__){"use strict";var _interopRequireWildcard=__webpack_require__(9)["default"];var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;exports.checkRevision=checkRevision;exports.template=template;exports.wrapProgram=wrapProgram;exports.resolvePartial=resolvePartial;exports.invokePartial=invokePartial;exports.noop=noop;var _import=__webpack_require__(13);var Utils=_interopRequireWildcard(_import);var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);var _COMPILER_REVISION$REVISION_CHANGES$createFrame=__webpack_require__(10);function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_COMPILER_REVISION$REVISION_CHANGES$createFrame.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(compilerRevision<currentRevision){var runtimeVersions=_COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[currentRevision],compilerVersions=_COMPILER_REVISION$REVISION_CHANGES$createFrame.REVISION_CHANGES[compilerRevision];throw new _Exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}else{throw new _Exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+compilerInfo[1]+").")}}}function template(templateSpec,env){if(!env){throw new _Exception2["default"]("No environment passed to template")}if(!templateSpec||!templateSpec.main){throw new _Exception2["default"]("Unknown template object: "+typeof templateSpec)}env.VM.checkRevision(templateSpec.compiler);function invokePartialWrapper(partial,context,options){if(options.hash){context=Utils.extend({},context,options.hash)}partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(result==null&&env.compile){options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env);result=options.partials[options.name](context,options)}if(result!=null){if(options.indent){var lines=result.split("\n");for(var i=0,l=lines.length;i<l;i++){if(!lines[i]&&i+1===l){break}lines[i]=options.indent+lines[i]}result=lines.join("\n")}return result}else{throw new _Exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}}var container={strict:function strict(obj,name){if(!(name in obj)){throw new _Exception2["default"]('"'+name+'" not defined in '+obj)}return obj[name]},lookup:function lookup(depths,name){var len=depths.length;for(var i=0;i<len;i++){if(depths[i]&&depths[i][name]!=null){return depths[i][name]}}},lambda:function lambda(current,context){return typeof current==="function"?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function fn(i){return templateSpec[i]},programs:[],program:function program(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);if(data||depths||blockParams||declaredBlockParams){programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths)}else if(!programWrapper){programWrapper=this.programs[i]=wrapProgram(this,i,fn)}return programWrapper},data:function data(value,depth){while(value&&depth--){value=value._parent}return value},merge:function merge(param,common){var obj=param||common;if(param&&common&&param!==common){obj=Utils.extend({},common,param)}return obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};function ret(context){var options=arguments[1]===undefined?{}:arguments[1];var data=options.data;ret._setup(options);if(!options.partial&&templateSpec.useData){data=initData(context,data)}var depths=undefined,blockParams=templateSpec.useBlockParams?[]:undefined;if(templateSpec.useDepths){depths=options.depths?[context].concat(options.depths):[context]}return templateSpec.main.call(container,context,container.helpers,container.partials,data,blockParams,depths)}ret.isTop=true;ret._setup=function(options){if(!options.partial){container.helpers=container.merge(options.helpers,env.helpers);if(templateSpec.usePartial){container.partials=container.merge(options.partials,env.partials)}}else{container.helpers=options.helpers;container.partials=options.partials}};ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams){throw new _Exception2["default"]("must pass block params")}if(templateSpec.useDepths&&!depths){throw new _Exception2["default"]("must pass parent depths")}return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)};return ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments[1]===undefined?{}:arguments[1];return fn.call(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),depths&&[context].concat(depths))}prog.program=i;prog.depth=depths?depths.length:0;prog.blockParams=declaredBlockParams||0;return prog}function resolvePartial(partial,context,options){if(!partial){partial=options.partials[options.name]}else if(!partial.call&&!options.name){options.name=partial;partial=options.partials[partial]}return partial}function invokePartial(partial,context,options){options.partial=true;if(partial===undefined){throw new _Exception2["default"]("The partial "+options.name+" could not be found")}else if(partial instanceof Function){return partial(context,options)}}function noop(){return""}function initData(context,data){if(!data||!("root"in data)){data=data?_COMPILER_REVISION$REVISION_CHANGES$createFrame.createFrame(data):{};data.root=context}return data}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var handlebars=function(){var parser={trace:function trace(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,content:12,COMMENT:13,CONTENT:14,openRawBlock:15,END_RAW_BLOCK:16,OPEN_RAW_BLOCK:17,helperName:18,openRawBlock_repetition0:19,openRawBlock_option0:20,CLOSE_RAW_BLOCK:21,openBlock:22,block_option0:23,closeBlock:24,openInverse:25,block_option1:26,OPEN_BLOCK:27,openBlock_repetition0:28,
openBlock_option0:29,openBlock_option1:30,CLOSE:31,OPEN_INVERSE:32,openInverse_repetition0:33,openInverse_option0:34,openInverse_option1:35,openInverseChain:36,OPEN_INVERSE_CHAIN:37,openInverseChain_repetition0:38,openInverseChain_option0:39,openInverseChain_option1:40,inverseAndProgram:41,INVERSE:42,inverseChain:43,inverseChain_option0:44,OPEN_ENDBLOCK:45,OPEN:46,mustache_repetition0:47,mustache_option0:48,OPEN_UNESCAPED:49,mustache_repetition1:50,mustache_option1:51,CLOSE_UNESCAPED:52,OPEN_PARTIAL:53,partialName:54,partial_repetition0:55,partial_option0:56,param:57,sexpr:58,OPEN_SEXPR:59,sexpr_repetition0:60,sexpr_option0:61,CLOSE_SEXPR:62,hash:63,hash_repetition_plus0:64,hashSegment:65,ID:66,EQUALS:67,blockParams:68,OPEN_BLOCK_PARAMS:69,blockParams_repetition_plus0:70,CLOSE_BLOCK_PARAMS:71,path:72,dataName:73,STRING:74,NUMBER:75,BOOLEAN:76,UNDEFINED:77,NULL:78,DATA:79,pathSegments:80,SEP:81,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",13:"COMMENT",14:"CONTENT",16:"END_RAW_BLOCK",17:"OPEN_RAW_BLOCK",21:"CLOSE_RAW_BLOCK",27:"OPEN_BLOCK",31:"CLOSE",32:"OPEN_INVERSE",37:"OPEN_INVERSE_CHAIN",42:"INVERSE",45:"OPEN_ENDBLOCK",46:"OPEN",49:"OPEN_UNESCAPED",52:"CLOSE_UNESCAPED",53:"OPEN_PARTIAL",59:"OPEN_SEXPR",62:"CLOSE_SEXPR",66:"ID",67:"EQUALS",69:"OPEN_BLOCK_PARAMS",71:"CLOSE_BLOCK_PARAMS",74:"STRING",75:"NUMBER",76:"BOOLEAN",77:"UNDEFINED",78:"NULL",79:"DATA",81:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],performAction:function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$){var $0=$$.length-1;switch(yystate){case 1:return $$[$0-1];break;case 2:this.$=new yy.Program($$[$0],null,{},yy.locInfo(this._$));break;case 3:this.$=$$[$0];break;case 4:this.$=$$[$0];break;case 5:this.$=$$[$0];break;case 6:this.$=$$[$0];break;case 7:this.$=$$[$0];break;case 8:this.$=new yy.CommentStatement(yy.stripComment($$[$0]),yy.stripFlags($$[$0],$$[$0]),yy.locInfo(this._$));break;case 9:this.$=new yy.ContentStatement($$[$0],yy.locInfo(this._$));break;case 10:this.$=yy.prepareRawBlock($$[$0-2],$$[$0-1],$$[$0],this._$);break;case 11:this.$={path:$$[$0-3],params:$$[$0-2],hash:$$[$0-1]};break;case 12:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],false,this._$);break;case 13:this.$=yy.prepareBlock($$[$0-3],$$[$0-2],$$[$0-1],$$[$0],true,this._$);break;case 14:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 15:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 16:this.$={path:$$[$0-4],params:$$[$0-3],hash:$$[$0-2],blockParams:$$[$0-1],strip:yy.stripFlags($$[$0-5],$$[$0])};break;case 17:this.$={strip:yy.stripFlags($$[$0-1],$$[$0-1]),program:$$[$0]};break;case 18:var inverse=yy.prepareBlock($$[$0-2],$$[$0-1],$$[$0],$$[$0],false,this._$),program=new yy.Program([inverse],null,{},yy.locInfo(this._$));program.chained=true;this.$={strip:$$[$0-2].strip,program:program,chain:true};break;case 19:this.$=$$[$0];break;case 20:this.$={path:$$[$0-1],strip:yy.stripFlags($$[$0-2],$$[$0])};break;case 21:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 22:this.$=yy.prepareMustache($$[$0-3],$$[$0-2],$$[$0-1],$$[$0-4],yy.stripFlags($$[$0-4],$$[$0]),this._$);break;case 23:this.$=new yy.PartialStatement($$[$0-3],$$[$0-2],$$[$0-1],yy.stripFlags($$[$0-4],$$[$0]),yy.locInfo(this._$));break;case 24:this.$=$$[$0];break;case 25:this.$=$$[$0];break;case 26:this.$=new yy.SubExpression($$[$0-3],$$[$0-2],$$[$0-1],yy.locInfo(this._$));break;case 27:this.$=new yy.Hash($$[$0],yy.locInfo(this._$));break;case 28:this.$=new yy.HashPair(yy.id($$[$0-2]),$$[$0],yy.locInfo(this._$));break;case 29:this.$=yy.id($$[$0-1]);break;case 30:this.$=$$[$0];break;case 31:this.$=$$[$0];break;case 32:this.$=new yy.StringLiteral($$[$0],yy.locInfo(this._$));break;case 33:this.$=new yy.NumberLiteral($$[$0],yy.locInfo(this._$));break;case 34:this.$=new yy.BooleanLiteral($$[$0],yy.locInfo(this._$));break;case 35:this.$=new yy.UndefinedLiteral(yy.locInfo(this._$));break;case 36:this.$=new yy.NullLiteral(yy.locInfo(this._$));break;case 37:this.$=$$[$0];break;case 38:this.$=$$[$0];break;case 39:this.$=yy.preparePath(true,$$[$0],this._$);break;case 40:this.$=yy.preparePath(false,$$[$0],this._$);break;case 41:$$[$0-2].push({part:yy.id($$[$0]),original:$$[$0],separator:$$[$0-1]});this.$=$$[$0-2];break;case 42:this.$=[{part:yy.id($$[$0]),original:$$[$0]}];break;case 43:this.$=[];break;case 44:$$[$0-1].push($$[$0]);break;case 45:this.$=[];break;case 46:$$[$0-1].push($$[$0]);break;case 53:this.$=[];break;case 54:$$[$0-1].push($$[$0]);break;case 59:this.$=[];break;case 60:$$[$0-1].push($$[$0]);break;case 65:this.$=[];break;case 66:$$[$0-1].push($$[$0]);break;case 73:this.$=[];break;case 74:$$[$0-1].push($$[$0]);break;case 77:this.$=[];break;case 78:$$[$0-1].push($$[$0]);break;case 81:this.$=[];break;case 82:$$[$0-1].push($$[$0]);break;case 85:this.$=[];break;case 86:$$[$0-1].push($$[$0]);break;case 89:this.$=[$$[$0]];break;case 90:$$[$0-1].push($$[$0]);break;case 91:this.$=[$$[$0]];break;case 92:$$[$0-1].push($$[$0]);break}},table:[{3:1,4:2,5:[2,43],6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],46:[2,43],49:[2,43],53:[2,43]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:[1,11],14:[1,18],15:16,17:[1,21],22:14,25:15,27:[1,19],32:[1,20],37:[2,2],42:[2,2],45:[2,2],46:[1,12],49:[1,13],53:[1,17]},{1:[2,1]},{5:[2,44],13:[2,44],14:[2,44],17:[2,44],27:[2,44],32:[2,44],37:[2,44],42:[2,44],45:[2,44],46:[2,44],49:[2,44],53:[2,44]},{5:[2,3],13:[2,3],14:[2,3],17:[2,3],27:[2,3],32:[2,3],37:[2,3],42:[2,3],45:[2,3],46:[2,3],49:[2,3],53:[2,3]},{5:[2,4],13:[2,4],14:[2,4],17:[2,4],27:[2,4],32:[2,4],37:[2,4],42:[2,4],45:[2,4],46:[2,4],49:[2,4],53:[2,4]},{5:[2,5],13:[2,5],14:[2,5],17:[2,5],27:[2,5],32:[2,5],37:[2,5],42:[2,5],45:[2,5],46:[2,5],49:[2,5],53:[2,5]},{5:[2,6],13:[2,6],14:[2,6],17:[2,6],27:[2,6],32:[2,6],37:[2,6],42:[2,6],45:[2,6],46:[2,6],49:[2,6],53:[2,6]},{5:[2,7],13:[2,7],14:[2,7],17:[2,7],27:[2,7],32:[2,7],37:[2,7],42:[2,7],45:[2,7],46:[2,7],49:[2,7],53:[2,7]},{5:[2,8],13:[2,8],14:[2,8],17:[2,8],27:[2,8],32:[2,8],37:[2,8],42:[2,8],45:[2,8],46:[2,8],49:[2,8],53:[2,8]},{18:22,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:33,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:34,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{4:35,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{12:36,14:[1,18]},{18:38,54:37,58:39,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,9],13:[2,9],14:[2,9],16:[2,9],17:[2,9],27:[2,9],32:[2,9],37:[2,9],42:[2,9],45:[2,9],46:[2,9],49:[2,9],53:[2,9]},{18:41,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:42,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:43,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[2,73],47:44,59:[2,73],66:[2,73],74:[2,73],75:[2,73],76:[2,73],77:[2,73],78:[2,73],79:[2,73]},{21:[2,30],31:[2,30],52:[2,30],59:[2,30],62:[2,30],66:[2,30],69:[2,30],74:[2,30],75:[2,30],76:[2,30],77:[2,30],78:[2,30],79:[2,30]},{21:[2,31],31:[2,31],52:[2,31],59:[2,31],62:[2,31],66:[2,31],69:[2,31],74:[2,31],75:[2,31],76:[2,31],77:[2,31],78:[2,31],79:[2,31]},{21:[2,32],31:[2,32],52:[2,32],59:[2,32],62:[2,32],66:[2,32],69:[2,32],74:[2,32],75:[2,32],76:[2,32],77:[2,32],78:[2,32],79:[2,32]},{21:[2,33],31:[2,33],52:[2,33],59:[2,33],62:[2,33],66:[2,33],69:[2,33],74:[2,33],75:[2,33],76:[2,33],77:[2,33],78:[2,33],79:[2,33]},{21:[2,34],31:[2,34],52:[2,34],59:[2,34],62:[2,34],66:[2,34],69:[2,34],74:[2,34],75:[2,34],76:[2,34],77:[2,34],78:[2,34],79:[2,34]},{21:[2,35],31:[2,35],52:[2,35],59:[2,35],62:[2,35],66:[2,35],69:[2,35],74:[2,35],75:[2,35],76:[2,35],77:[2,35],78:[2,35],79:[2,35]},{21:[2,36],31:[2,36],52:[2,36],59:[2,36],62:[2,36],66:[2,36],69:[2,36],74:[2,36],75:[2,36],76:[2,36],77:[2,36],78:[2,36],79:[2,36]},{21:[2,40],31:[2,40],52:[2,40],59:[2,40],62:[2,40],66:[2,40],69:[2,40],74:[2,40],75:[2,40],76:[2,40],77:[2,40],78:[2,40],79:[2,40],81:[1,45]},{66:[1,32],80:46},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{50:47,52:[2,77],59:[2,77],66:[2,77],74:[2,77],75:[2,77],76:[2,77],77:[2,77],78:[2,77],79:[2,77]},{23:48,36:50,37:[1,52],41:51,42:[1,53],43:49,45:[2,49]},{26:54,41:55,42:[1,53],45:[2,51]},{16:[1,56]},{31:[2,81],55:57,59:[2,81],66:[2,81],74:[2,81],75:[2,81],76:[2,81],77:[2,81],78:[2,81],79:[2,81]},{31:[2,37],59:[2,37],66:[2,37],74:[2,37],75:[2,37],76:[2,37],77:[2,37],78:[2,37],79:[2,37]},{31:[2,38],59:[2,38],66:[2,38],74:[2,38],75:[2,38],76:[2,38],77:[2,38],78:[2,38],79:[2,38]},{18:58,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{28:59,31:[2,53],59:[2,53],66:[2,53],69:[2,53],74:[2,53],75:[2,53],76:[2,53],77:[2,53],78:[2,53],79:[2,53]},{31:[2,59],33:60,59:[2,59],66:[2,59],69:[2,59],74:[2,59],75:[2,59],76:[2,59],77:[2,59],78:[2,59],79:[2,59]},{19:61,21:[2,45],59:[2,45],66:[2,45],74:[2,45],75:[2,45],76:[2,45],77:[2,45],78:[2,45],79:[2,45]},{18:65,31:[2,75],48:62,57:63,58:66,59:[1,40],63:64,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{66:[1,70]},{21:[2,39],31:[2,39],52:[2,39],59:[2,39],62:[2,39],66:[2,39],69:[2,39],74:[2,39],75:[2,39],76:[2,39],77:[2,39],78:[2,39],79:[2,39],81:[1,45]},{18:65,51:71,52:[2,79],57:72,58:66,59:[1,40],63:73,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{24:74,45:[1,75]},{45:[2,50]},{4:76,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],37:[2,43],42:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{45:[2,19]},{18:77,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{4:78,6:3,13:[2,43],14:[2,43],17:[2,43],27:[2,43],32:[2,43],45:[2,43],46:[2,43],49:[2,43],53:[2,43]},{24:79,45:[1,75]},{45:[2,52]},{5:[2,10],13:[2,10],14:[2,10],17:[2,10],27:[2,10],32:[2,10],37:[2,10],42:[2,10],45:[2,10],46:[2,10],49:[2,10],53:[2,10]},{18:65,31:[2,83],56:80,57:81,58:66,59:[1,40],63:82,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{59:[2,85],60:83,62:[2,85],66:[2,85],74:[2,85],75:[2,85],76:[2,85],77:[2,85],78:[2,85],79:[2,85]},{18:65,29:84,31:[2,55],57:85,58:66,59:[1,40],63:86,64:67,65:68,66:[1,69],69:[2,55],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,31:[2,61],34:87,57:88,58:66,59:[1,40],63:89,64:67,65:68,66:[1,69],69:[2,61],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{18:65,20:90,21:[2,47],57:91,58:66,59:[1,40],63:92,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{31:[1,93]},{31:[2,74],59:[2,74],66:[2,74],74:[2,74],75:[2,74],76:[2,74],77:[2,74],78:[2,74],79:[2,74]},{31:[2,76]},{21:[2,24],31:[2,24],52:[2,24],59:[2,24],62:[2,24],66:[2,24],69:[2,24],74:[2,24],75:[2,24],76:[2,24],77:[2,24],78:[2,24],79:[2,24]},{21:[2,25],31:[2,25],52:[2,25],59:[2,25],62:[2,25],66:[2,25],69:[2,25],74:[2,25],75:[2,25],76:[2,25],77:[2,25],78:[2,25],79:[2,25]},{21:[2,27],31:[2,27],52:[2,27],62:[2,27],65:94,66:[1,95],69:[2,27]},{21:[2,89],31:[2,89],52:[2,89],62:[2,89],66:[2,89],69:[2,89]},{21:[2,42],31:[2,42],52:[2,42],59:[2,42],62:[2,42],66:[2,42],67:[1,96],69:[2,42],74:[2,42],75:[2,42],76:[2,42],77:[2,42],78:[2,42],79:[2,42],81:[2,42]},{21:[2,41],31:[2,41],52:[2,41],59:[2,41],62:[2,41],66:[2,41],69:[2,41],74:[2,41],75:[2,41],76:[2,41],77:[2,41],78:[2,41],79:[2,41],81:[2,41]},{52:[1,97]},{52:[2,78],59:[2,78],66:[2,78],74:[2,78],75:[2,78],76:[2,78],77:[2,78],78:[2,78],79:[2,78]},{52:[2,80]},{5:[2,12],13:[2,12],14:[2,12],17:[2,12],27:[2,12],32:[2,12],37:[2,12],42:[2,12],45:[2,12],46:[2,12],49:[2,12],53:[2,12]},{18:98,66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{36:50,37:[1,52],41:51,42:[1,53],43:100,44:99,45:[2,71]},{31:[2,65],38:101,59:[2,65],66:[2,65],69:[2,65],74:[2,65],75:[2,65],76:[2,65],77:[2,65],78:[2,65],79:[2,65]},{45:[2,17]},{5:[2,13],13:[2,13],14:[2,13],17:[2,13],27:[2,13],32:[2,13],37:[2,13],42:[2,13],45:[2,13],46:[2,13],49:[2,13],53:[2,13]},{31:[1,102]},{31:[2,82],59:[2,82],66:[2,82],74:[2,82],75:[2,82],76:[2,82],77:[2,82],78:[2,82],79:[2,82]},{31:[2,84]},{18:65,57:104,58:66,59:[1,40],61:103,62:[2,87],63:105,64:67,65:68,66:[1,69],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{30:106,31:[2,57],68:107,69:[1,108]},{31:[2,54],59:[2,54],66:[2,54],69:[2,54],74:[2,54],75:[2,54],76:[2,54],77:[2,54],78:[2,54],79:[2,54]},{31:[2,56],69:[2,56]},{31:[2,63],35:109,68:110,69:[1,108]},{31:[2,60],59:[2,60],66:[2,60],69:[2,60],74:[2,60],75:[2,60],76:[2,60],77:[2,60],78:[2,60],79:[2,60]},{31:[2,62],69:[2,62]},{21:[1,111]},{21:[2,46],59:[2,46],66:[2,46],74:[2,46],75:[2,46],76:[2,46],77:[2,46],78:[2,46],79:[2,46]},{21:[2,48]},{5:[2,21],13:[2,21],14:[2,21],17:[2,21],27:[2,21],32:[2,21],37:[2,21],42:[2,21],45:[2,21],46:[2,21],49:[2,21],53:[2,21]},{21:[2,90],31:[2,90],52:[2,90],62:[2,90],66:[2,90],69:[2,90]},{67:[1,96]},{18:65,57:112,58:66,59:[1,40],66:[1,32],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,22],13:[2,22],14:[2,22],17:[2,22],27:[2,22],32:[2,22],37:[2,22],42:[2,22],45:[2,22],46:[2,22],49:[2,22],53:[2,22]},{31:[1,113]},{45:[2,18]},{45:[2,72]},{18:65,31:[2,67],39:114,57:115,58:66,59:[1,40],63:116,64:67,65:68,66:[1,69],69:[2,67],72:23,73:24,74:[1,25],75:[1,26],76:[1,27],77:[1,28],78:[1,29],79:[1,31],80:30},{5:[2,23],13:[2,23],14:[2,23],17:[2,23],27:[2,23],32:[2,23],37:[2,23],42:[2,23],45:[2,23],46:[2,23],49:[2,23],53:[2,23]},{62:[1,117]},{59:[2,86],62:[2,86],66:[2,86],74:[2,86],75:[2,86],76:[2,86],77:[2,86],78:[2,86],79:[2,86]},{62:[2,88]},{31:[1,118]},{31:[2,58]},{66:[1,120],70:119},{31:[1,121]},{31:[2,64]},{14:[2,11]},{21:[2,28],31:[2,28],52:[2,28],62:[2,28],66:[2,28],69:[2,28]},{5:[2,20],13:[2,20],14:[2,20],17:[2,20],27:[2,20],32:[2,20],37:[2,20],42:[2,20],45:[2,20],46:[2,20],49:[2,20],53:[2,20]},{31:[2,69],40:122,68:123,69:[1,108]},{31:[2,66],59:[2,66],66:[2,66],69:[2,66],74:[2,66],75:[2,66],76:[2,66],77:[2,66],78:[2,66],79:[2,66]},{31:[2,68],69:[2,68]},{21:[2,26],31:[2,26],52:[2,26],59:[2,26],62:[2,26],66:[2,26],69:[2,26],74:[2,26],75:[2,26],76:[2,26],77:[2,26],78:[2,26],79:[2,26]},{13:[2,14],14:[2,14],17:[2,14],27:[2,14],32:[2,14],37:[2,14],42:[2,14],45:[2,14],46:[2,14],49:[2,14],53:[2,14]},{66:[1,125],71:[1,124]},{66:[2,91],71:[2,91]},{13:[2,15],14:[2,15],17:[2,15],27:[2,15],32:[2,15],42:[2,15],45:[2,15],46:[2,15],49:[2,15],53:[2,15]},{31:[1,126]},{31:[2,70]},{31:[2,29]},{66:[2,92],71:[2,92]},{13:[2,16],14:[2,16],17:[2,16],27:[2,16],32:[2,16],37:[2,16],42:[2,16],45:[2,16],46:[2,16],49:[2,16],53:[2,16]}],defaultActions:{4:[2,1],49:[2,50],51:[2,19],55:[2,52],64:[2,76],73:[2,80],78:[2,17],82:[2,84],92:[2,48],99:[2,18],100:[2,72],105:[2,88],107:[2,58],110:[2,64],111:[2,11],123:[2,70],124:[2,29]},parseError:function parseError(str,hash){throw new Error(str)},parse:function parse(input){var self=this,stack=[0],vstack=[null],lstack=[],table=this.table,yytext="",yylineno=0,yyleng=0,recovering=0,TERROR=2,EOF=1;this.lexer.setInput(input);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;this.yy.parser=this;if(typeof this.lexer.yylloc=="undefined")this.lexer.yylloc={};var yyloc=this.lexer.yylloc;lstack.push(yyloc);var ranges=this.lexer.options&&this.lexer.options.ranges;if(typeof this.yy.parseError==="function")this.parseError=this.yy.parseError;function popStack(n){stack.length=stack.length-2*n;vstack.length=vstack.length-n;lstack.length=lstack.length-n}function lex(){var token;token=self.lexer.lex()||1;if(typeof token!=="number"){token=self.symbols_[token]||token}return token}var symbol,preErrorSymbol,state,action,a,r,yyval={},p,len,newState,expected;while(true){state=stack[stack.length-1];if(this.defaultActions[state]){action=this.defaultActions[state]}else{if(symbol===null||typeof symbol=="undefined"){symbol=lex()}action=table[state]&&table[state][symbol]}if(typeof action==="undefined"||!action.length||!action[0]){var errStr="";if(!recovering){expected=[];for(p in table[state])if(this.terminals_[p]&&p>2){expected.push("'"+this.terminals_[p]+"'")}if(this.lexer.showPosition){errStr="Parse error on line "+(yylineno+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+expected.join(", ")+", got '"+(this.terminals_[symbol]||symbol)+"'"}else{errStr="Parse error on line "+(yylineno+1)+": Unexpected "+(symbol==1?"end of input":"'"+(this.terminals_[symbol]||symbol)+"'")}this.parseError(errStr,{text:this.lexer.match,token:this.terminals_[symbol]||symbol,line:this.lexer.yylineno,loc:yyloc,expected:expected})}}if(action[0]instanceof Array&&action.length>1){throw new Error("Parse Error: multiple actions possible at state: "+state+", token: "+symbol)}switch(action[0]){case 1:stack.push(symbol);vstack.push(this.lexer.yytext);lstack.push(this.lexer.yylloc);stack.push(action[1]);symbol=null;if(!preErrorSymbol){yyleng=this.lexer.yyleng;yytext=this.lexer.yytext;yylineno=this.lexer.yylineno;yyloc=this.lexer.yylloc;if(recovering>0)recovering--}else{symbol=preErrorSymbol;preErrorSymbol=null}break;case 2:len=this.productions_[action[1]][1];yyval.$=vstack[vstack.length-len];yyval._$={first_line:lstack[lstack.length-(len||1)].first_line,last_line:lstack[lstack.length-1].last_line,first_column:lstack[lstack.length-(len||1)].first_column,last_column:lstack[lstack.length-1].last_column};if(ranges){yyval._$.range=[lstack[lstack.length-(len||1)].range[0],lstack[lstack.length-1].range[1]]}r=this.performAction.call(yyval,yytext,yyleng,yylineno,this.yy,action[1],vstack,lstack);if(typeof r!=="undefined"){return r}if(len){stack=stack.slice(0,-1*len*2);vstack=vstack.slice(0,-1*len);lstack=lstack.slice(0,-1*len)}stack.push(this.productions_[action[1]][0]);vstack.push(yyval.$);lstack.push(yyval._$);newState=table[stack[stack.length-2]][stack[stack.length-1]];stack.push(newState);break;case 3:return true}}return true}};var lexer=function(){var lexer={EOF:1,parseError:function parseError(str,hash){if(this.yy.parser){this.yy.parser.parseError(str,hash)}else{throw new Error(str)}},setInput:function setInput(input){this._input=input;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges)this.yylloc.range=[0,0];this.offset=0;return this},input:function input(){var ch=this._input[0];this.yytext+=ch;this.yyleng++;this.offset++;this.match+=ch;this.matched+=ch;var lines=ch.match(/(?:\r\n?|\n).*/g);if(lines){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges)this.yylloc.range[1]++;this._input=this._input.slice(1);return ch},unput:function unput(ch){var len=ch.length;var lines=ch.split(/(?:\r\n?|\n)/g);this._input=ch+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-len-1);this.offset-=len;var oldLines=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(lines.length-1)this.yylineno-=lines.length-1;var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:lines?(lines.length===oldLines.length?this.yylloc.first_column:0)+oldLines[oldLines.length-lines.length].length-lines[0].length:this.yylloc.first_column-len};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-len]}return this},more:function more(){this._more=true;return this},less:function less(n){this.unput(this.match.slice(n))},pastInput:function pastInput(){var past=this.matched.substr(0,this.matched.length-this.match.length);return(past.length>20?"...":"")+past.substr(-20).replace(/\n/g,"")},upcomingInput:function upcomingInput(){var next=this.match;if(next.length<20){next+=this._input.substr(0,20-next.length)}return(next.substr(0,20)+(next.length>20?"...":"")).replace(/\n/g,"")},showPosition:function showPosition(){var pre=this.pastInput();var c=new Array(pre.length+1).join("-");return pre+this.upcomingInput()+"\n"+c+"^"},next:function next(){if(this.done){return this.EOF}if(!this._input)this.done=true;var token,match,tempMatch,index,col,lines;if(!this._more){this.yytext="";this.match=""}var rules=this._currentRules();for(var i=0;i<rules.length;i++){tempMatch=this._input.match(this.rules[rules[i]]);if(tempMatch&&(!match||tempMatch[0].length>match[0].length)){match=tempMatch;index=i;if(!this.options.flex)break}}if(match){lines=match[0].match(/(?:\r\n?|\n).*/g);if(lines)this.yylineno+=lines.length;this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:lines?lines[lines.length-1].length-lines[lines.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+match[0].length};this.yytext+=match[0];this.match+=match[0];this.matches=match;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._input=this._input.slice(match[0].length);this.matched+=match[0];token=this.performAction.call(this,this.yy,this,rules[index],this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input)this.done=false;if(token){return token}else{return}}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function lex(){var r=this.next();if(typeof r!=="undefined"){return r}else{return this.lex()}},begin:function begin(condition){this.conditionStack.push(condition)},popState:function popState(){return this.conditionStack.pop()},_currentRules:function _currentRules(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function topState(){return this.conditionStack[this.conditionStack.length-2]},pushState:function begin(condition){this.begin(condition)}};lexer.options={};lexer.performAction=function anonymous(yy,yy_,$avoiding_name_collisions,YY_START){function strip(start,end){return yy_.yytext=yy_.yytext.substr(start,yy_.yyleng-end)}var YYSTATE=YY_START;switch($avoiding_name_collisions){case 0:if(yy_.yytext.slice(-2)==="\\\\"){strip(0,1);this.begin("mu")}else if(yy_.yytext.slice(-1)==="\\"){strip(0,1);this.begin("emu")}else{this.begin("mu")}if(yy_.yytext){return 14}break;case 1:return 14;break;case 2:this.popState();return 14;break;case 3:yy_.yytext=yy_.yytext.substr(5,yy_.yyleng-9);this.popState();return 16;break;case 4:return 14;break;case 5:this.popState();return 13;break;case 6:return 59;break;case 7:return 62;break;case 8:return 17;break;case 9:this.popState();this.begin("raw");return 21;break;case 10:return 53;break;case 11:return 27;break;case 12:return 45;break;case 13:this.popState();return 42;break;case 14:this.popState();return 42;break;case 15:return 32;break;case 16:return 37;break;case 17:return 49;break;case 18:return 46;break;case 19:this.unput(yy_.yytext);this.popState();this.begin("com");break;case 20:this.popState();return 13;break;case 21:return 46;break;case 22:return 67;break;case 23:return 66;break;case 24:return 66;break;case 25:return 81;break;case 26:break;case 27:this.popState();return 52;break;case 28:this.popState();return 31;break;case 29:yy_.yytext=strip(1,2).replace(/\\"/g,'"');return 74;break;case 30:yy_.yytext=strip(1,2).replace(/\\'/g,"'");return 74;break;case 31:return 79;break;case 32:return 76;break;case 33:return 76;break;case 34:return 77;break;case 35:return 78;break;case 36:return 75;break;case 37:return 69;break;case 38:return 71;break;case 39:return 66;break;case 40:return 66;break;case 41:return"INVALID";break;case 42:return 5;break}};lexer.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/];lexer.conditions={mu:{rules:[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],inclusive:false},emu:{rules:[2],inclusive:false},com:{rules:[5],inclusive:false},raw:{rules:[3,4],inclusive:false},INITIAL:{rules:[0,1,42],inclusive:true}};return lexer}();parser.lexer=lexer;function Parser(){this.yy={}}Parser.prototype=parser;parser.Parser=Parser;return new Parser}();exports["default"]=handlebars;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;var _Visitor=__webpack_require__(6);var _Visitor2=_interopRequireDefault(_Visitor);function WhitespaceControl(){}WhitespaceControl.prototype=new _Visitor2["default"];WhitespaceControl.prototype.Program=function(program){var isRoot=!this.isRootSeen;this.isRootSeen=true;var body=program.body;for(var i=0,l=body.length;i<l;i++){var current=body[i],strip=this.accept(current);if(!strip){continue}var _isPrevWhitespace=isPrevWhitespace(body,i,isRoot),_isNextWhitespace=isNextWhitespace(body,i,isRoot),openStandalone=strip.openStandalone&&_isPrevWhitespace,closeStandalone=strip.closeStandalone&&_isNextWhitespace,inlineStandalone=strip.inlineStandalone&&_isPrevWhitespace&&_isNextWhitespace;if(strip.close){omitRight(body,i,true)}if(strip.open){omitLeft(body,i,true)}if(inlineStandalone){omitRight(body,i);if(omitLeft(body,i)){if(current.type==="PartialStatement"){current.indent=/([ \t]+$)/.exec(body[i-1].original)[1]}}}if(openStandalone){omitRight((current.program||current.inverse).body);omitLeft(body,i)}if(closeStandalone){omitRight(body,i);omitLeft((current.inverse||current.program).body)}}return program};WhitespaceControl.prototype.BlockStatement=function(block){this.accept(block.program);this.accept(block.inverse);var program=block.program||block.inverse,inverse=block.program&&block.inverse,firstInverse=inverse,lastInverse=inverse;if(inverse&&inverse.chained){firstInverse=inverse.body[0].program;while(lastInverse.chained){lastInverse=lastInverse.body[lastInverse.body.length-1].program}}var strip={open:block.openStrip.open,close:block.closeStrip.close,openStandalone:isNextWhitespace(program.body),closeStandalone:isPrevWhitespace((firstInverse||program).body)};if(block.openStrip.close){omitRight(program.body,null,true)}if(inverse){var inverseStrip=block.inverseStrip;if(inverseStrip.open){omitLeft(program.body,null,true)}if(inverseStrip.close){omitRight(firstInverse.body,null,true)}if(block.closeStrip.open){omitLeft(lastInverse.body,null,true)}if(isPrevWhitespace(program.body)&&isNextWhitespace(firstInverse.body)){omitLeft(program.body);omitRight(firstInverse.body)}}else if(block.closeStrip.open){omitLeft(program.body,null,true)}return strip};WhitespaceControl.prototype.MustacheStatement=function(mustache){return mustache.strip};WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(node){var strip=node.strip||{};return{inlineStandalone:true,open:strip.open,close:strip.close}};function isPrevWhitespace(body,i,isRoot){if(i===undefined){i=body.length}var prev=body[i-1],sibling=body[i-2];if(!prev){return isRoot}if(prev.type==="ContentStatement"){return(sibling||!isRoot?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(prev.original)}}function isNextWhitespace(body,i,isRoot){if(i===undefined){i=-1}var next=body[i+1],sibling=body[i+2];if(!next){return isRoot}if(next.type==="ContentStatement"){return(sibling||!isRoot?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(next.original)}}function omitRight(body,i,multiple){var current=body[i==null?0:i+1];if(!current||current.type!=="ContentStatement"||!multiple&&current.rightStripped){return}var original=current.value;current.value=current.value.replace(multiple?/^\s+/:/^[ \t]*\r?\n?/,"");current.rightStripped=current.value!==original}function omitLeft(body,i,multiple){var current=body[i==null?body.length-1:i-1];if(!current||current.type!=="ContentStatement"||!multiple&&current.leftStripped){return}var original=current.value;current.value=current.value.replace(multiple?/\s+$/:/[ \t]+$/,"");current.leftStripped=current.value!==original;return current.leftStripped}exports["default"]=WhitespaceControl;module.exports=exports["default"]},function(module,exports,__webpack_require__){"use strict";var _interopRequireDefault=__webpack_require__(8)["default"];exports.__esModule=true;exports.SourceLocation=SourceLocation;exports.id=id;exports.stripFlags=stripFlags;exports.stripComment=stripComment;exports.preparePath=preparePath;exports.prepareMustache=prepareMustache;exports.prepareRawBlock=prepareRawBlock;exports.prepareBlock=prepareBlock;var _Exception=__webpack_require__(12);var _Exception2=_interopRequireDefault(_Exception);function SourceLocation(source,locInfo){this.source=source;this.start={line:locInfo.first_line,column:locInfo.first_column};this.end={line:locInfo.last_line,column:locInfo.last_column}}function id(token){if(/^\[.*\]$/.test(token)){return token.substr(1,token.length-2)}else{return token}}function stripFlags(open,close){return{open:open.charAt(2)==="~",close:close.charAt(close.length-3)==="~"}}function stripComment(comment){return comment.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(data,parts,locInfo){locInfo=this.locInfo(locInfo);var original=data?"@":"",dig=[],depth=0,depthString="";for(var i=0,l=parts.length;i<l;i++){var part=parts[i].part,isLiteral=parts[i].original!==part;original+=(parts[i].separator||"")+part;if(!isLiteral&&(part===".."||part==="."||part==="this")){if(dig.length>0){throw new _Exception2["default"]("Invalid path: "+original,{loc:locInfo})}else if(part===".."){depth++;depthString+="../"}}else{dig.push(part)}}return new this.PathExpression(data,depth,dig,original,locInfo)}function prepareMustache(path,params,hash,open,strip,locInfo){var escapeFlag=open.charAt(3)||open.charAt(2),escaped=escapeFlag!=="{"&&escapeFlag!=="&";return new this.MustacheStatement(path,params,hash,escaped,strip,this.locInfo(locInfo))}function prepareRawBlock(openRawBlock,content,close,locInfo){if(openRawBlock.path.original!==close){var errorNode={loc:openRawBlock.path.loc}
;throw new _Exception2["default"](openRawBlock.path.original+" doesn't match "+close,errorNode)}locInfo=this.locInfo(locInfo);var program=new this.Program([content],null,{},locInfo);return new this.BlockStatement(openRawBlock.path,openRawBlock.params,openRawBlock.hash,program,undefined,{},{},{},locInfo)}function prepareBlock(openBlock,program,inverseAndProgram,close,inverted,locInfo){if(close&&close.path&&openBlock.path.original!==close.path.original){var errorNode={loc:openBlock.path.loc};throw new _Exception2["default"](openBlock.path.original+" doesn't match "+close.path.original,errorNode)}program.blockParams=openBlock.blockParams;var inverse=undefined,inverseStrip=undefined;if(inverseAndProgram){if(inverseAndProgram.chain){inverseAndProgram.program.body[0].closeStrip=close.strip}inverseStrip=inverseAndProgram.strip;inverse=inverseAndProgram.program}if(inverted){inverted=inverse;inverse=program;program=inverted}return new this.BlockStatement(openBlock.path,openBlock.params,openBlock.hash,program,inverse,openBlock.strip,inverseStrip,close&&close.strip,this.locInfo(locInfo))}},function(module,exports,__webpack_require__){"use strict";exports.__esModule=true;var _isArray=__webpack_require__(13);var SourceNode=undefined;try{if(false){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(err){}if(!SourceNode){SourceNode=function(line,column,srcFile,chunks){this.src="";if(chunks){this.add(chunks)}};SourceNode.prototype={add:function add(chunks){if(_isArray.isArray(chunks)){chunks=chunks.join("")}this.src+=chunks},prepend:function prepend(chunks){if(_isArray.isArray(chunks)){chunks=chunks.join("")}this.src=chunks+this.src},toStringWithSourceMap:function toStringWithSourceMap(){return{code:this.toString()}},toString:function toString(){return this.src}}}function castChunk(chunk,codeGen,loc){if(_isArray.isArray(chunk)){var ret=[];for(var i=0,len=chunk.length;i<len;i++){ret.push(codeGen.wrap(chunk[i],loc))}return ret}else if(typeof chunk==="boolean"||typeof chunk==="number"){return chunk+""}return chunk}function CodeGen(srcFile){this.srcFile=srcFile;this.source=[]}CodeGen.prototype={prepend:function prepend(source,loc){this.source.unshift(this.wrap(source,loc))},push:function push(source,loc){this.source.push(this.wrap(source,loc))},merge:function merge(){var source=this.empty();this.each(function(line){source.add(["  ",line,"\n"])});return source},each:function each(iter){for(var i=0,len=this.source.length;i<len;i++){iter(this.source[i])}},empty:function empty(){var loc=arguments[0]===undefined?this.currentLocation||{start:{}}:arguments[0];return new SourceNode(loc.start.line,loc.start.column,this.srcFile)},wrap:function wrap(chunk){var loc=arguments[1]===undefined?this.currentLocation||{start:{}}:arguments[1];if(chunk instanceof SourceNode){return chunk}chunk=castChunk(chunk,this,loc);return new SourceNode(loc.start.line,loc.start.column,this.srcFile,chunk)},functionCall:function functionCall(fn,type,params){params=this.generateList(params);return this.wrap([fn,type?"."+type+"(":"(",params,")"])},quotedString:function quotedString(str){return'"'+(str+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function objectLiteral(obj){var pairs=[];for(var key in obj){if(obj.hasOwnProperty(key)){var value=castChunk(obj[key],this);if(value!=="undefined"){pairs.push([this.quotedString(key),":",value])}}}var ret=this.generateList(pairs);ret.prepend("{");ret.add("}");return ret},generateList:function generateList(entries,loc){var ret=this.empty(loc);for(var i=0,len=entries.length;i<len;i++){if(i){ret.add(",")}ret.add(castChunk(entries[i],this,loc))}return ret},generateArray:function generateArray(entries,loc){var ret=this.generateList(entries,loc);ret.prepend("[");ret.add("]");return ret}};exports["default"]=CodeGen;module.exports=exports["default"]}])});define("appogee/view/LinkColumn",["hbs/handlebars","appogee/view/AbstractColumn"],function(Handlebars,AbstractColumn){function LinkColumn(label,formattedString,formattedURL,sortField){AbstractColumn.apply(this,[label,sortField]);this.formattedString=formattedString;this.formattedURL=formattedURL}LinkColumn.prototype=new AbstractColumn;LinkColumn.prototype.render=function(data){data=this.flattenObject(data);var val=this.formattedString;var url=this.formattedURL;for(field in data){if(data[field]==null){val=val.replace("["+field+"]","");url=url.replace("["+field+"]","")}else{val=val.replace("["+field+"]",data[field]);url=url.replace("["+field+"]",data[field])}}var html='<a href="'+url+'">'+val+"</a>";return new Handlebars.SafeString(html)};return LinkColumn});define("appogee/view/JSColumn",["hbs/handlebars","appogee/view/AbstractColumn"],function(Handlebars,AbstractColumn){function JSColumn(label,formattedString,cssClass,onClick,sortField,renderFunc){AbstractColumn.apply(this,[label,sortField]);this.formattedString=formattedString;this.cssClass=cssClass;this.onClick=onClick;this.renderFunc=renderFunc}JSColumn.prototype=new AbstractColumn;JSColumn.prototype.render=function(data){var html=null;var linkTemplate='<a href="javascript: void(0);" class="'+this.cssClass+'" data-key="'+data.key+'">{0}</a>';if(this.renderFunc){html=this.renderFunc(data,linkTemplate)}else{data=this.flattenObject(data);var val=this.formattedString;for(field in data){if(data[field]==null){val=val.replace("["+field+"]","")}else{val=val.replace("["+field+"]",data[field])}}html=linkTemplate.format(val)}return new Handlebars.SafeString(html)};return JSColumn});define("appogee/view/ImageColumn",["hbs/handlebars","underscore","appogee/view/AbstractColumn"],function(Handlebars,_,AbstractColumn){function ImageColumn(label,field,mappings,urlFormatter,sortField){AbstractColumn.apply(this,[label,sortField]);this.field=field;this.mappings=mappings;this.urlFormatter=urlFormatter||function(x){return x}}ImageColumn.prototype=new AbstractColumn;ImageColumn.prototype.render=function(data){data=this.flattenObject(data);var html="";if(this.field in data){if(this.mappings&&data[this.field]in this.mappings){var mapping=this.mappings[data[this.field]];if(_.isString(mapping)){html='<img src="'+mapping+'" />'}else{var url=mapping.src||"";var tooltip=mapping.tooltip||"";for(field in data)if(data[field]==null)tooltip=tooltip.replace("["+field+"]","");else tooltip=tooltip.replace("["+field+"]",data[field]);html='<img src="'+this.urlFormatter(url)+'" title="'+tooltip+'" />'}}else if(data[this.field]){var url=data[this.field];html='<img src="'+this.urlFormatter(url)+'" />'}}return new Handlebars.SafeString(html)};return ImageColumn});define("hbs/underscore",[],function(){var breaker={};var ArrayProto=Array.prototype,ObjProto=Object.prototype,FuncProto=Function.prototype;var slice=ArrayProto.slice,unshift=ArrayProto.unshift,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty;var nativeForEach=ArrayProto.forEach,nativeMap=ArrayProto.map,nativeReduce=ArrayProto.reduce,nativeReduceRight=ArrayProto.reduceRight,nativeFilter=ArrayProto.filter,nativeEvery=ArrayProto.every,nativeSome=ArrayProto.some,nativeIndexOf=ArrayProto.indexOf,nativeLastIndexOf=ArrayProto.lastIndexOf,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeBind=FuncProto.bind;var _=function(obj){return new wrapper(obj)};_.VERSION="1.3.3";var each=_.each=_.forEach=function(obj,iterator,context){if(obj==null)return;if(nativeForEach&&obj.forEach===nativeForEach){obj.forEach(iterator,context)}else if(obj.length===+obj.length){for(var i=0,l=obj.length;i<l;i++){if(i in obj&&iterator.call(context,obj[i],i,obj)===breaker)return}}else{for(var key in obj){if(_.has(obj,key)){if(iterator.call(context,obj[key],key,obj)===breaker)return}}}};_.map=_.collect=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeMap&&obj.map===nativeMap)return obj.map(iterator,context);each(obj,function(value,index,list){results[results.length]=iterator.call(context,value,index,list)});if(obj.length===+obj.length)results.length=obj.length;return results};_.reduce=_.foldl=_.inject=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduce&&obj.reduce===nativeReduce){if(context)iterator=_.bind(iterator,context);return initial?obj.reduce(iterator,memo):obj.reduce(iterator)}each(obj,function(value,index,list){if(!initial){memo=value;initial=true}else{memo=iterator.call(context,memo,value,index,list)}});if(!initial)throw new TypeError("Reduce of empty array with no initial value");return memo};_.reduceRight=_.foldr=function(obj,iterator,memo,context){var initial=arguments.length>2;if(obj==null)obj=[];if(nativeReduceRight&&obj.reduceRight===nativeReduceRight){if(context)iterator=_.bind(iterator,context);return initial?obj.reduceRight(iterator,memo):obj.reduceRight(iterator)}var reversed=_.toArray(obj).reverse();if(context&&!initial)iterator=_.bind(iterator,context);return initial?_.reduce(reversed,iterator,memo,context):_.reduce(reversed,iterator)};_.find=_.detect=function(obj,iterator,context){var result;any(obj,function(value,index,list){if(iterator.call(context,value,index,list)){result=value;return true}});return result};_.filter=_.select=function(obj,iterator,context){var results=[];if(obj==null)return results;if(nativeFilter&&obj.filter===nativeFilter)return obj.filter(iterator,context);each(obj,function(value,index,list){if(iterator.call(context,value,index,list))results[results.length]=value});return results};_.reject=function(obj,iterator,context){var results=[];if(obj==null)return results;each(obj,function(value,index,list){if(!iterator.call(context,value,index,list))results[results.length]=value});return results};_.every=_.all=function(obj,iterator,context){var result=true;if(obj==null)return result;if(nativeEvery&&obj.every===nativeEvery)return obj.every(iterator,context);each(obj,function(value,index,list){if(!(result=result&&iterator.call(context,value,index,list)))return breaker});return!!result};var any=_.some=_.any=function(obj,iterator,context){iterator||(iterator=_.identity);var result=false;if(obj==null)return result;if(nativeSome&&obj.some===nativeSome)return obj.some(iterator,context);each(obj,function(value,index,list){if(result||(result=iterator.call(context,value,index,list)))return breaker});return!!result};_.include=_.contains=function(obj,target){var found=false;if(obj==null)return found;if(nativeIndexOf&&obj.indexOf===nativeIndexOf)return obj.indexOf(target)!=-1;found=any(obj,function(value){return value===target});return found};_.invoke=function(obj,method){var args=slice.call(arguments,2);return _.map(obj,function(value){return(_.isFunction(method)?method||value:value[method]).apply(value,args)})};_.pluck=function(obj,key){return _.map(obj,function(value){return value[key]})};_.max=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.max.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return-Infinity;var result={computed:-Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed>=result.computed&&(result={value:value,computed:computed})});return result.value};_.min=function(obj,iterator,context){if(!iterator&&_.isArray(obj)&&obj[0]===+obj[0])return Math.min.apply(Math,obj);if(!iterator&&_.isEmpty(obj))return Infinity;var result={computed:Infinity};each(obj,function(value,index,list){var computed=iterator?iterator.call(context,value,index,list):value;computed<result.computed&&(result={value:value,computed:computed})});return result.value};_.shuffle=function(obj){var shuffled=[],rand;each(obj,function(value,index,list){rand=Math.floor(Math.random()*(index+1));shuffled[index]=shuffled[rand];shuffled[rand]=value});return shuffled};_.sortBy=function(obj,val,context){var iterator=_.isFunction(val)?val:function(obj){return obj[val]};return _.pluck(_.map(obj,function(value,index,list){return{value:value,criteria:iterator.call(context,value,index,list)}}).sort(function(left,right){var a=left.criteria,b=right.criteria;if(a===void 0)return 1;if(b===void 0)return-1;return a<b?-1:a>b?1:0}),"value")};_.groupBy=function(obj,val){var result={};var iterator=_.isFunction(val)?val:function(obj){return obj[val]};each(obj,function(value,index){var key=iterator(value,index);(result[key]||(result[key]=[])).push(value)});return result};_.sortedIndex=function(array,obj,iterator){iterator||(iterator=_.identity);var low=0,high=array.length;while(low<high){var mid=low+high>>1;iterator(array[mid])<iterator(obj)?low=mid+1:high=mid}return low};_.toArray=function(obj){if(!obj)return[];if(_.isArray(obj))return slice.call(obj);if(_.isArguments(obj))return slice.call(obj);if(obj.toArray&&_.isFunction(obj.toArray))return obj.toArray();return _.values(obj)};_.size=function(obj){return _.isArray(obj)?obj.length:_.keys(obj).length};_.first=_.head=_.take=function(array,n,guard){return n!=null&&!guard?slice.call(array,0,n):array[0]};_.initial=function(array,n,guard){return slice.call(array,0,array.length-(n==null||guard?1:n))};_.last=function(array,n,guard){if(n!=null&&!guard){return slice.call(array,Math.max(array.length-n,0))}else{return array[array.length-1]}};_.rest=_.tail=function(array,index,guard){return slice.call(array,index==null||guard?1:index)};_.compact=function(array){return _.filter(array,function(value){return!!value})};_.flatten=function(array,shallow){return _.reduce(array,function(memo,value){if(_.isArray(value))return memo.concat(shallow?value:_.flatten(value));memo[memo.length]=value;return memo},[])};_.without=function(array){return _.difference(array,slice.call(arguments,1))};_.uniq=_.unique=function(array,isSorted,iterator){var initial=iterator?_.map(array,iterator):array;var results=[];if(array.length<3)isSorted=true;_.reduce(initial,function(memo,value,index){if(isSorted?_.last(memo)!==value||!memo.length:!_.include(memo,value)){memo.push(value);results.push(array[index])}return memo},[]);return results};_.union=function(){return _.uniq(_.flatten(arguments,true))};_.intersection=_.intersect=function(array){var rest=slice.call(arguments,1);return _.filter(_.uniq(array),function(item){return _.every(rest,function(other){return _.indexOf(other,item)>=0})})};_.difference=function(array){var rest=_.flatten(slice.call(arguments,1),true);return _.filter(array,function(value){return!_.include(rest,value)})};_.zip=function(){var args=slice.call(arguments);var length=_.max(_.pluck(args,"length"));var results=new Array(length);for(var i=0;i<length;i++)results[i]=_.pluck(args,""+i);return results};_.indexOf=function(array,item,isSorted){if(array==null)return-1;var i,l;if(isSorted){i=_.sortedIndex(array,item);return array[i]===item?i:-1}if(nativeIndexOf&&array.indexOf===nativeIndexOf)return array.indexOf(item);for(i=0,l=array.length;i<l;i++)if(i in array&&array[i]===item)return i;return-1};_.lastIndexOf=function(array,item){if(array==null)return-1;if(nativeLastIndexOf&&array.lastIndexOf===nativeLastIndexOf)return array.lastIndexOf(item);var i=array.length;while(i--)if(i in array&&array[i]===item)return i;return-1};_.range=function(start,stop,step){if(arguments.length<=1){stop=start||0;start=0}step=arguments[2]||1;var len=Math.max(Math.ceil((stop-start)/step),0);var idx=0;var range=new Array(len);while(idx<len){range[idx++]=start;start+=step}return range};var ctor=function(){};_.bind=function bind(func,context){var bound,args;if(func.bind===nativeBind&&nativeBind)return nativeBind.apply(func,slice.call(arguments,1));if(!_.isFunction(func))throw new TypeError;args=slice.call(arguments,2);return bound=function(){if(!(this instanceof bound))return func.apply(context,args.concat(slice.call(arguments)));ctor.prototype=func.prototype;var self=new ctor;var result=func.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result)return result;return self}};_.bindAll=function(obj){var funcs=slice.call(arguments,1);if(funcs.length==0)funcs=_.functions(obj);each(funcs,function(f){obj[f]=_.bind(obj[f],obj)});return obj};_.memoize=function(func,hasher){var memo={};hasher||(hasher=_.identity);return function(){var key=hasher.apply(this,arguments);return _.has(memo,key)?memo[key]:memo[key]=func.apply(this,arguments)}};_.delay=function(func,wait){var args=slice.call(arguments,2);return setTimeout(function(){return func.apply(null,args)},wait)};_.defer=function(func){return _.delay.apply(_,[func,1].concat(slice.call(arguments,1)))};_.throttle=function(func,wait){var context,args,timeout,throttling,more,result;var whenDone=_.debounce(function(){more=throttling=false},wait);return function(){context=this;args=arguments;var later=function(){timeout=null;if(more)func.apply(context,args);whenDone()};if(!timeout)timeout=setTimeout(later,wait);if(throttling){more=true}else{result=func.apply(context,args)}whenDone();throttling=true;return result}};_.debounce=function(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args)};if(immediate&&!timeout)func.apply(context,args);clearTimeout(timeout);timeout=setTimeout(later,wait)}};_.once=function(func){var ran=false,memo;return function(){if(ran)return memo;ran=true;return memo=func.apply(this,arguments)}};_.wrap=function(func,wrapper){return function(){var args=[func].concat(slice.call(arguments,0));return wrapper.apply(this,args)}};_.compose=function(){var funcs=arguments;return function(){var args=arguments;for(var i=funcs.length-1;i>=0;i--){args=[funcs[i].apply(this,args)]}return args[0]}};_.after=function(times,func){if(times<=0)return func();return function(){if(--times<1){return func.apply(this,arguments)}}};_.keys=nativeKeys||function(obj){if(obj!==Object(obj))throw new TypeError("Invalid object");var keys=[];for(var key in obj)if(_.has(obj,key))keys[keys.length]=key;return keys};_.values=function(obj){return _.map(obj,_.identity)};_.functions=_.methods=function(obj){var names=[];for(var key in obj){if(_.isFunction(obj[key]))names.push(key)}return names.sort()};_.extend=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){obj[prop]=source[prop]}});return obj};_.pick=function(obj){var result={};each(_.flatten(slice.call(arguments,1)),function(key){if(key in obj)result[key]=obj[key]});return result};_.defaults=function(obj){each(slice.call(arguments,1),function(source){for(var prop in source){if(obj[prop]==null)obj[prop]=source[prop]}});return obj};_.clone=function(obj){if(!_.isObject(obj))return obj;return _.isArray(obj)?obj.slice():_.extend({},obj)};_.tap=function(obj,interceptor){interceptor(obj);return obj};function eq(a,b,stack){if(a===b)return a!==0||1/a==1/b;if(a==null||b==null)return a===b;if(a._chain)a=a._wrapped;if(b._chain)b=b._wrapped;if(a.isEqual&&_.isFunction(a.isEqual))return a.isEqual(b);if(b.isEqual&&_.isFunction(b.isEqual))return b.isEqual(a);var className=toString.call(a);if(className!=toString.call(b))return false;switch(className){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:a==0?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if(typeof a!="object"||typeof b!="object")return false;var length=stack.length;while(length--){if(stack[length]==a)return true}stack.push(a);var size=0,result=true;if(className=="[object Array]"){size=a.length;result=size==b.length;if(result){while(size--){if(!(result=size in a==size in b&&eq(a[size],b[size],stack)))break}}}else{if("constructor"in a!="constructor"in b||a.constructor!=b.constructor)return false;for(var key in a){if(_.has(a,key)){size++;if(!(result=_.has(b,key)&&eq(a[key],b[key],stack)))break}}if(result){for(key in b){if(_.has(b,key)&&!size--)break}result=!size}}stack.pop();return result}_.isEqual=function(a,b){return eq(a,b,[])};_.isEmpty=function(obj){if(obj==null)return true;if(_.isArray(obj)||_.isString(obj))return obj.length===0;for(var key in obj)if(_.has(obj,key))return false;return true};_.isElement=function(obj){return!!(obj&&obj.nodeType==1)};_.isArray=nativeIsArray||function(obj){return toString.call(obj)=="[object Array]"};_.isObject=function(obj){return obj===Object(obj)};_.isArguments=function(obj){return toString.call(obj)=="[object Arguments]"};if(!_.isArguments(arguments)){_.isArguments=function(obj){return!!(obj&&_.has(obj,"callee"))}}_.isFunction=function(obj){return toString.call(obj)=="[object Function]"};_.isString=function(obj){return toString.call(obj)=="[object String]"};_.isNumber=function(obj){return toString.call(obj)=="[object Number]"};_.isFinite=function(obj){return _.isNumber(obj)&&isFinite(obj)};_.isNaN=function(obj){return obj!==obj};_.isBoolean=function(obj){return obj===true||obj===false||toString.call(obj)=="[object Boolean]"};_.isDate=function(obj){return toString.call(obj)=="[object Date]"};_.isRegExp=function(obj){return toString.call(obj)=="[object RegExp]"};_.isNull=function(obj){return obj===null};_.isUndefined=function(obj){return obj===void 0};_.has=function(obj,key){return hasOwnProperty.call(obj,key)};_.noConflict=function(){root._=previousUnderscore;return this};_.identity=function(value){return value};_.times=function(n,iterator,context){for(var i=0;i<n;i++)iterator.call(context,i)};_.escape=function(string){return(""+string).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")};_.result=function(object,property){if(object==null)return null;var value=object[property];return _.isFunction(value)?value.call(object):value};_.mixin=function(obj){each(_.functions(obj),function(name){addToWrapper(name,_[name]=obj[name])})};var idCounter=0;_.uniqueId=function(prefix){var id=idCounter++;return prefix?prefix+id:id};_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var noMatch=/.^/;var escapes={"\\":"\\","'":"'",r:"\r",n:"\n",t:"\t",u2028:"\u2028",u2029:"\u2029"};for(var p in escapes)escapes[escapes[p]]=p;var escaper=/\\|'|\r|\n|\t|\u2028|\u2029/g;var unescaper=/\\(\\|'|r|n|t|u2028|u2029)/g;var unescape=function(code){return code.replace(unescaper,function(match,escape){return escapes[escape]})};_.template=function(text,data,settings){settings=_.defaults(settings||{},_.templateSettings);var source="__p+='"+text.replace(escaper,function(match){return"\\"+escapes[match]}).replace(settings.escape||noMatch,function(match,code){return"'+\n_.escape("+unescape(code)+")+\n'"}).replace(settings.interpolate||noMatch,function(match,code){return"'+\n("+unescape(code)+")+\n'"}).replace(settings.evaluate||noMatch,function(match,code){return"';\n"+unescape(code)+"\n;__p+='"})+"';\n";if(!settings.variable)source="with(obj||{}){\n"+source+"}\n";source="var __p='';"+"var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+source+"return __p;\n";var render=new Function(settings.variable||"obj","_",source);if(data)return render(data,_);var template=function(data){return render.call(this,data,_)};template.source="function("+(settings.variable||"obj")+"){\n"+source+"}";return template};_.chain=function(obj){return _(obj).chain()};var wrapper=function(obj){this._wrapped=obj};_.prototype=wrapper.prototype;var result=function(obj,chain){return chain?_(obj).chain():obj};var addToWrapper=function(name,func){wrapper.prototype[name]=function(){var args=slice.call(arguments);unshift.call(args,this._wrapped);return result(func.apply(_,args),this._chain)}};_.mixin(_);each(["pop","push","reverse","shift","sort","splice","unshift"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){var wrapped=this._wrapped;method.apply(wrapped,arguments);var length=wrapped.length;if((name=="shift"||name=="splice")&&length===0)delete wrapped[0];return result(wrapped,this._chain)}});each(["concat","join","slice"],function(name){var method=ArrayProto[name];wrapper.prototype[name]=function(){return result(method.apply(this._wrapped,arguments),this._chain)}});wrapper.prototype.chain=function(){this._chain=true;return this};wrapper.prototype.value=function(){return this._wrapped};return _});(function(window){var JSON=window.JSON||{};(function(){"use strict";function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})();define("hbs/json2",[],function(){return JSON})}).call(this,this);define("hbs",["hbs/handlebars","hbs/underscore","hbs/json2"],function(Handlebars,_,JSON){function precompile(string,_unused,options){var ast,environment;options=options||{};if(!("data"in options)){options.data=true}if(options.compat){options.useDepths=true}ast=Handlebars.parse(string);environment=(new Handlebars.Compiler).compile(ast,options);return(new Handlebars.JavaScriptCompiler).compile(environment,options)}var fs;var getXhr;var progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];var fetchText=function(){throw new Error("Environment unsupported.")};var buildMap=[];var filecode="w+";var templateExtension="hbs";var customNameExtension="@hbs";var devStyleDirectory="/styles/";var buildStyleDirectory="/demo-build/styles/";var helperDirectory="templates/helpers/";var buildCSSFileName="screen.build.css";var onHbsReadMethod="onHbsRead";Handlebars.registerHelper("$",function(){});if(typeof window!=="undefined"&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)){getXhr=function(){var xhr;var i;var progId;if(typeof XMLHttpRequest!=="undefined"){return arguments[0]===true?new XDomainRequest:new XMLHttpRequest}else{for(i=0;i<3;i++){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}}if(!xhr){throw new Error("getXhr(): XMLHttpRequest not available")}return xhr};getIEVersion=function(){var rv=-1;if(navigator.appName=="Microsoft Internet Explorer"){var ua=navigator.userAgent;var re=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(re.exec(ua)!=null){rv=parseFloat(RegExp.$1)}}return rv};fetchText=function(url,callback){var xdm=false;if(url.indexOf("http")!=0){xdm=false}else{var uidx=url.substr(0,5)==="https"?8:7;var hidx=window.location.href.substr(0,5)==="https"?8:7;var dom=url.substr(uidx).split("/").shift();var msie=getIEVersion();xdm=dom!=window.location.href.substr(hidx).split("/").shift()&&msie>=7}if(xdm){var xdr=getXhr(true);xdr.open("GET",url);xdr.onload=function(){callback(xdr.responseText,url)};xdr.onprogress=function(){};xdr.ontimeout=function(){};xdr.onerror=function(){};setTimeout(function(){xdr.send()},0)}else{var xhr=getXhr();xhr.open("GET",url,true);xhr.onreadystatechange=function(evt){if(xhr.readyState===4){callback(xhr.responseText,url)}};xhr.send(null)}}}else if(typeof process!=="undefined"&&process.versions&&!!process.versions.node){fs=require.nodeRequire("fs");fetchText=function(path,callback){var body=fs.readFileSync(path,"utf8")||"";body=body.replace(/^\uFEFF/,"");callback(body,path)}}else if(typeof java!=="undefined"&&typeof java.io!=="undefined"){fetchText=function(path,callback){var fis=new java.io.FileInputStream(path);var streamReader=new java.io.InputStreamReader(fis,"UTF-8");var reader=new java.io.BufferedReader(streamReader);var line;var text="";while((line=reader.readLine())!==null){text+=new String(line)+"\n"}reader.close();callback(text,path)}}var cache={};var fetchOrGetCached=function(path,callback){if(cache[path]){callback(cache[path])}else{fetchText(path,function(data,path){cache[path]=data;callback.call(this,data)})}};var styleList=[];var styleMap={};var config;var filesToRemove=[];return{get:function(){return Handlebars},write:function(pluginName,name,write){if(name+customNameExtension in buildMap){var text=buildMap[name+customNameExtension];write.asModule(pluginName+"!"+name,text)}},version:"3.0.3",load:function(name,parentRequire,load,_config){config=config||_config;var compiledName=name+customNameExtension;config.hbs=config.hbs||{};var disableHelpers=config.hbs.helpers==false;var partialsUrl="";if(config.hbs.partialsUrl){partialsUrl=config.hbs.partialsUrl;if(!partialsUrl.match(/\/$/))partialsUrl+="/"}if(config.hbs.fetchText){fetchText=config.hbs.fetchText}var partialDeps=[];function recursiveNodeSearch(statements,res){_(statements).forEach(function(statement){if(statement&&statement.type&&statement.type==="PartialStatement"){if(statement.name.type!=="SubExpression"){res.push(statement.name.original)}}if(statement&&statement.program&&statement.program.body){recursiveNodeSearch(statement.program.body,res)}if(statement&&statement.inverse&&statement.inverse.body){recursiveNodeSearch(statement.inverse.body,res)}});return res}function findPartialDeps(nodes,metaObj){var res=[];if(nodes&&nodes.body){
res=recursiveNodeSearch(nodes.body,[])}if(metaObj&&metaObj.partials&&metaObj.partials.length){_(metaObj.partials).forEach(function(partial){res.push(partial)})}return _.unique(res)}function getMetaData(nodes){var statement,res,test;if(nodes&&nodes.body){statement=nodes.body[0];if(statement&&statement.type==="CommentStatement"){try{res=statement.value.replace(new RegExp("^[\\s]+|[\\s]+$","g"),"");test=JSON.parse(res);return res}catch(e){return JSON.stringify({description:res})}}}return"{}"}function composeParts(parts){if(!parts){return[]}var res=[parts[0]];var cur=parts[0];var i;for(i=1;i<parts.length;++i){if(parts.hasOwnProperty(i)){cur+="."+parts[i];res.push(cur)}}return res}function isHelper(statement){return!!(statement.type==="SubExpression"||statement.params&&statement.params.length||statement.hash)}function checkStatementForHelpers(statement,helpersres){if(isHelper(statement)){if(typeof statement.path!=="undefined"){registerHelper(statement.path.original,helpersres)}}if(statement&&statement.params){statement.params.forEach(function(param){checkStatementForHelpers(param,helpersres)})}if(statement&&statement.hash&&statement.hash.pairs){_(statement.hash.pairs).forEach(function(pair){checkStatementForHelpers(pair.value,helpersres)})}}function registerHelper(helperName,helpersres){if(typeof Handlebars.helpers[helperName]==="undefined"){helpersres.push(helperName)}}function recursiveVarSearch(statements,res,prefix,helpersres){prefix=prefix?prefix+".":"";var newprefix="";var flag=false;_(statements).forEach(function(statement){var parts;var part;var sideways;if(isHelper(statement)||statement.type==="MustacheStatement"){checkStatementForHelpers(statement,helpersres)}if(statement&&statement.mustache){recursiveVarSearch([statement.mustache],res,prefix+newprefix,helpersres)}if(statement&&statement.program&&statement.program.body){sideways=recursiveVarSearch([statement.path],[],"",helpersres)[0]||"";if(statement.inverse&&statement.inverse.body){recursiveVarSearch(statement.inverse.body,res,prefix+newprefix+(sideways?prefix+newprefix?"."+sideways:sideways:""),helpersres)}recursiveVarSearch(statement.program.body,res,prefix+newprefix+(sideways?prefix+newprefix?"."+sideways:sideways:""),helpersres)}});return res}function getExternalDeps(nodes){var res=[];var helpersres=[];if(nodes&&nodes.body){res=recursiveVarSearch(nodes.body,[],undefined,helpersres)}var defaultHelpers=["helperMissing","blockHelperMissing","each","if","unless","with","log","lookup"];return{vars:_(res).chain().unique().map(function(e){if(e===""){return"."}if(e.length&&e[e.length-1]==="."){return e.substr(0,e.length-1)+"[]"}return e}).value(),helpers:_(helpersres).chain().unique().map(function(e){if(_(defaultHelpers).contains(e)){return undefined}return e}).compact().value()}}function cleanPath(path){var tokens=path.split("/");for(var i=0;i<tokens.length;i++){if(tokens[i]===".."){delete tokens[i-1];delete tokens[i]}else if(tokens[i]==="."){delete tokens[i]}}return tokens.join("/").replace(/\/\/+/g,"/")}function fetchAndRegister(langMap){fetchText(path,function(text,path){var readCallback=config.isBuild&&config[onHbsReadMethod]?config[onHbsReadMethod]:function(name,path,text){return text};var nodes=Handlebars.parse(readCallback(name,path,text));var meta=getMetaData(nodes);var extDeps=getExternalDeps(nodes);var vars=extDeps.vars;var helps=extDeps.helpers||[];var debugOutputStart="";var debugOutputEnd="";var debugProperties="";var deps=[];var depStr,helpDepStr,metaObj,head,linkElem;var baseDir=name.substr(0,name.lastIndexOf("/")+1);if(meta!=="{}"){try{metaObj=JSON.parse(meta)}catch(e){console.log("couldn't parse meta for %s",path)}}var partials=findPartialDeps(nodes,metaObj);config.hbs=config.hbs||{};config.hbs._partials=config.hbs._partials||{};for(var i in partials){if(partials.hasOwnProperty(i)&&typeof partials[i]==="string"){var partialReference=partials[i];var partialPath;if(partialReference.match(/^(\.|\/)+/)){partialPath=cleanPath(baseDir+partialReference)}else{partialPath=cleanPath(partialsUrl+partialReference)}if(omitExtension){if(path===parentRequire.toUrl(partialPath)){continue}}else{if(path===parentRequire.toUrl(partialPath+"."+(config.hbs&&config.hbs.templateExtension?config.hbs.templateExtension:templateExtension))){continue}}config.hbs._partials[partialPath]=config.hbs._partials[partialPath]||[];config.hbs._partials[partialPath].references=config.hbs._partials[partialPath].references||[];config.hbs._partials[partialPath].references.push(partialReference);config.hbs._loadedDeps=config.hbs._loadedDeps||{};deps[i]="hbs!"+partialPath}}depStr=deps.join("', '");helps=helps.concat(metaObj&&metaObj.helpers?metaObj.helpers:[]);helpDepStr=disableHelpers?"":function(){var i;var paths=[];var pathGetter=config.hbs&&config.hbs.helperPathCallback?config.hbs.helperPathCallback:function(name){return(config.hbs&&config.hbs.helperDirectory?config.hbs.helperDirectory:helperDirectory)+name};for(i=0;i<helps.length;i++){paths[i]="'"+pathGetter(helps[i],path)+"'"}return paths}().join(",");if(helpDepStr){helpDepStr=","+helpDepStr}if(metaObj){try{if(metaObj.styles){styleList=_.union(styleList,metaObj.styles);if(require.isBrowser&&!config.isBuild){head=document.head||document.getElementsByTagName("head")[0];_(metaObj.styles).forEach(function(style){if(!styleMap[style]){linkElem=document.createElement("link");linkElem.href=config.baseUrl+devStyleDirectory+style+".css";linkElem.media="all";linkElem.rel="stylesheet";linkElem.type="text/css";head.appendChild(linkElem);styleMap[style]=linkElem}})}else if(config.isBuild){(function(){var fs=require.nodeRequire("fs");var str=_(metaObj.styles).map(function(style){if(!styleMap[style]){styleMap[style]=true;return"@import url("+style+".css);\n"}return""}).join("\n");fs.open(__dirname+buildStyleDirectory+buildCSSFileName,filecode,"0666",function(e,id){fs.writeSync(id,str,null,encoding="utf8");fs.close(id)});filecode="a"})()}}}catch(e){console.log("error injecting styles")}}if(!config.isBuild&&!config.serverRender){debugOutputStart="\x3c!-- START - "+name+" --\x3e";debugOutputEnd="\x3c!-- END - "+name+" --\x3e";debugProperties="t.meta = "+meta+";\n"+"t.helpers = "+JSON.stringify(helps)+";\n"+"t.deps = "+JSON.stringify(deps)+";\n"+"t.vars = "+JSON.stringify(vars)+";\n"}var mapping=false;var configHbs=config.hbs||{};var options=_.extend(configHbs.compileOptions||{},{originalKeyFallback:configHbs.originalKeyFallback});var prec=precompile(text,mapping,options);var tmplName="'hbs!"+name+"',";if(depStr)depStr=", '"+depStr+"'";var partialReferences=[];if(config.hbs._partials[name])partialReferences=config.hbs._partials[name].references;var handlebarsPath=config.hbs&&config.hbs.handlebarsPath?config.hbs.handlebarsPath:"hbs/handlebars";text="/* START_TEMPLATE */\n"+"define("+tmplName+"['"+handlebarsPath+"'"+depStr+helpDepStr+"], function( Handlebars ){ \n"+"var t = Handlebars.template("+prec+");\n"+"Handlebars.registerPartial('"+name+"', t);\n";for(var i=0;i<partialReferences.length;i++)text+="Handlebars.registerPartial('"+partialReferences[i]+"', t);\n";text+=debugProperties+"return t;\n"+"});\n"+"/* END_TEMPLATE */\n";if(config.isBuild){buildMap[compiledName]=text}if(!config.isBuild){text+="\r\n//# sourceURL="+path}if(!config.isBuild){parentRequire(deps,function(){load.fromText(text);parentRequire([name],function(value){load(value)})})}else{load.fromText(name,text);parentRequire([name],function(value){load(value)})}if(config.removeCombined&&path){filesToRemove.push(path)}})}var path;var omitExtension=config.hbs&&config.hbs.templateExtension===false;if(omitExtension){path=parentRequire.toUrl(name)}else{path=parentRequire.toUrl(name+"."+(config.hbs&&config.hbs.templateExtension?config.hbs.templateExtension:templateExtension))}fetchAndRegister(false)},onLayerEnd:function(){if(config.removeCombined&&fs){filesToRemove.forEach(function(path){if(fs.existsSync(path)){fs.unlinkSync(path)}})}}}});define("templates/helpers/initials",["hbs/handlebars","appogee"],function(Handlebars,appogee){function initials(){var initials="";for(var i=0;i<arguments.length-1;i++){arguments[i].split(" ").forEach(function(bit){return initials+=bit.substring(0,1).toUpperCase()})}return initials}Handlebars.registerHelper("initials",initials);return initials});define("hbs!templates/_avatar",["hbs/handlebars","templates/helpers/initials"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var stack1;return'\t<div class="avatar '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.size:depth0,{name:"if",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'" style="background-image: url(\''+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.imageUrl:stack1,depth0))+"');\"></div>\n"},2:function(depth0,helpers,partials,data){var helper;return"avatar-"+this.escapeExpression((helper=(helper=helpers.size||(depth0!=null?depth0.size:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"size",hash:{},data:data}):helper))},4:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.name:stack1,{name:"if",hash:{},fn:this.program(5,data,0),inverse:this.program(7,data,0),data:data}))!=null?stack1:""},5:function(depth0,helpers,partials,data){var stack1;return'\t<div class="avatar initials '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.size:depth0,{name:"if",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'">'+this.escapeExpression((helpers.initials||depth0&&depth0.initials||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.name:stack1,{name:"initials",hash:{},data:data}))+"</div>\n"},7:function(depth0,helpers,partials,data){var stack1;return'\t<div class="avatar initials '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.size:depth0,{name:"if",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'">'+this.escapeExpression((helpers.initials||depth0&&depth0.initials||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.firstName:stack1,(stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.lastName:stack1,{name:"initials",hash:{},data:data}))+"</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.employee:depth0)!=null?stack1.imageUrl:stack1,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.program(4,data,0),data:data}))!=null?stack1:""},useData:true});Handlebars.registerPartial("templates/_avatar",t);return t});define("appogee/view/AvatarColumn",["hbs/handlebars","underscore","appogee/view/AbstractColumn","hbs!templates/_avatar"],function(Handlebars,_,AbstractColumn,tmpl){function AvatarColumn(label,field,mappings,urlFormatter,sortField){AbstractColumn.apply(this,[label,sortField]);this.field=field;this.mappings=mappings;this.urlFormatter=urlFormatter||function(x){return x}}AvatarColumn.prototype=new AbstractColumn;AvatarColumn.prototype.render=function(data){var html=tmpl({employee:data});return new Handlebars.SafeString(html)};return AvatarColumn});define("appogee/view/FloatColumn",["appogee/view/AbstractColumn"],function(AbstractColumn){function round(x,dp){dp=dp==undefined?2:dp;y=Math.pow(10,dp);return Math.round(x*y)/y}function FloatColumn(label,formattedString,sortField){AbstractColumn.apply(this,[label,sortField]);this.formattedString=formattedString;this.dp=2}FloatColumn.prototype=new AbstractColumn;FloatColumn.prototype.render=function(data){data=this.flattenObject(data);var val=this.formattedString;for(field in data){if(data[field]==null){val=val.replace("["+field+"]","")}else{var fVal=data[field];try{fVal=round(parseFloat(fVal),this.dp)}catch(e){}val=val.replace("["+field+"]",fVal)}}return val};return FloatColumn});define("appogee/view/CurrencyColumn",["appogee/view/AbstractColumn"],function(AbstractColumn){function round(x,dp){dp=dp==undefined?2:dp;y=Math.pow(10,dp);return Math.round(x*y)/y}function CurrencyColumn(label,formattedString,sortField){AbstractColumn.apply(this,[label,sortField]);this.formattedString=formattedString;this.dp=2}CurrencyColumn.prototype=new AbstractColumn;CurrencyColumn.prototype.render=function(data){data=this.flattenObject(data);var val=this.formattedString;for(field in data){if(data[field]==null){val=val.replace("["+field+"]","")}else{var fVal=data[field];try{fVal=round(parseFloat(fVal),this.dp).toFixed(2)}catch(e){}val=val.replace("["+field+"]",fVal)}}return"Â£"+val};return CurrencyColumn});define("appogee/view/CustomColumn",["hbs/handlebars","appogee/view/AbstractColumn"],function(Handlebars,AbstractColumn){function CustomColumn(label,renderFunc,className,sortField){AbstractColumn.apply(this,[label,sortField]);this.renderFunc=renderFunc;this.className=className}CustomColumn.prototype=new AbstractColumn;CustomColumn.prototype.render=function(data){return new Handlebars.SafeString(this.renderFunc(data))};return CustomColumn});define("templates/helpers/s",["hbs/handlebars","appogee/i18n"],function(Handlebars,i18n){"use strict";function s(){var args=Array.prototype.slice.call(arguments);var word=args[0];var stringArgs=null;if(args.length==2){var lastArg=args[args.length-1];stringArgs=lastArg.hash}else{stringArgs=args.slice(1,args.length-1)}word=word.split("\n").map(function(w){return w.trim()}).join("\n");var translatedWord=i18n.getString(word);if(translatedWord){word=translatedWord}word=String.prototype.format.call(word,stringArgs);return new Handlebars.SafeString(word)}Handlebars.registerHelper("s",s);return s});define("hbs!appogee/view/_search",["hbs/handlebars","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var helper;return'\t<div class="input-group view_search">\n\t\t<input type="text" class="form-control input-sm" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Search",{name:"s",hash:{},data:data}))+'" value="'+this.escapeExpression((helper=(helper=helpers.search||(depth0!=null?depth0.search:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"search",hash:{},data:data}):helper))+'" />\n\t\t<span class="input-group-btn">\n\t\t\t<button class="btn btn-sm btn-primary disabled jsearch" type="button">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Search",{name:"s",hash:{},data:data}))+'</button>\n\t\t\t<button class="btn btn-sm btn-inverse btn-default jclear" style="display: none;" type="button">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Clear",{name:"s",hash:{},data:data}))+"</button>\n\t\t</span>\n\t</div>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.showSearch:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:""},useData:true});Handlebars.registerPartial("appogee/view/_search",t);Handlebars.registerPartial("appogee/view/_search",t);return t});define("templates/helpers/ifequal",["hbs/handlebars"],function(Handlebars){function ifequal(v1,v2,options){if(v1==v2)return options.fn(this);return options.inverse(this)}Handlebars.registerHelper("ifequal",ifequal);return ifequal});define("templates/helpers/if_gt",["hbs/handlebars"],function(Handlebars){Handlebars.registerHelper("if_gt",function(context,options){if(context>options.hash.compare)return options.fn(this);return options.inverse(this)})});define("hbs!appogee/view/_pagination",["hbs/handlebars","templates/helpers/ifequal","templates/helpers/if_gt"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'\t<ul class="pagination pagination-sm">\n\t\t<li class="'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.start:depth0,1,{name:"ifequal",hash:{},fn:this.program(2,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'"><a href="javascript: void(0);" class="previous">&laquo;</a></li>\n'+((stack1=helpers.each.call(depth0,depth0!=null?depth0.pagination:depth0,{name:"each",hash:{},fn:this.program(4,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<li class="'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.end:depth0,depth0!=null?depth0.total:depth0,{name:"ifequal",hash:{},fn:this.program(2,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'"><a href="javascript: void(0);" class="next">&raquo;</a></li>\n\t</ul>\n'},2:function(depth0,helpers,partials,data){return" disabled"},4:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'\t\t<li class="'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.start:depth0,depths[1]!=null?depths[1].start:depths[1],{name:"ifequal",hash:{},fn:this.program(5,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+((stack1=(helpers.if_gt||depth0&&depth0.if_gt||helpers.helperMissing).call(depth0,depth0!=null?depth0.start:depth0,{name:"if_gt",hash:{compare:depths[1]!=null?depths[1].total:depths[1]},fn:this.program(2,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'"><a href="javascript: void(0);" class="goto" data-start="'+this.escapeExpression(this.lambda(depth0!=null?depth0.start:depth0,depth0))+'">'+this.escapeExpression(this.lambda(depth0!=null?depth0.label:depth0,depth0))+"</a></li>\n"},5:function(depth0,helpers,partials,data){return" active"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.showPagination:depth0,{name:"if",hash:{},fn:this.program(1,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},useData:true,useDepths:true});Handlebars.registerPartial("appogee/view/_pagination",t);Handlebars.registerPartial("appogee/view/_pagination",t);return t});define("templates/helpers/ifany",["hbs/handlebars"],function(Handlebars){function ifany(){var options=arguments[arguments.length-1];for(var i=0;i<arguments.length-1;i++)if(arguments[i])return options.fn(this);return options.inverse(this)}Handlebars.registerHelper("ifany",ifany);return ifany});define("templates/helpers/renderViewData",["hbs/handlebars"],function(Handlebars){"use strict";function renderViewData(column,data){if(column=="ignore"){return}return column.render(data)}Handlebars.registerHelper("renderViewData",renderViewData);return renderViewData});define("hbs!appogee/view/_table",["hbs/handlebars","templates/helpers/ifequal","templates/helpers/ifany","templates/helpers/renderViewData","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return"table-condensed"},3:function(depth0,helpers,partials,data){var helper;return this.escapeExpression((helper=(helper=helpers.cssClass||(depth0!=null?depth0.cssClass:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"cssClass",hash:{},data:data}):helper))},5:function(depth0,helpers,partials,data){return'\t\t\t<th class="col_check" style="text-align: center;">\n\t\t\t\t<input type="checkbox" class="selectall" />\n\t\t\t</th>\n\t\t'},7:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.selectionType:depth0,"radio",{name:"ifequal",hash:{},fn:this.program(8,data,0),inverse:this.noop,data:data}))!=null?stack1:""},8:function(depth0,helpers,partials,data){return'\n\t\t\t<th class="col_check">&nbsp;</th>\n\t\t'},10:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.visible:depth0,{name:"if",hash:{},fn:this.program(11,data,0),inverse:this.noop,data:data}))!=null?stack1:""},11:function(depth0,helpers,partials,data){var stack1;return'\t\t\t<th \n\t\t\t\tclass="'+((stack1=(helpers.ifany||depth0&&depth0.ifany||helpers.helperMissing).call(depth0,depth0!=null?depth0.filterField:depth0,depth0!=null?depth0.sortField:depth0,{name:"ifany",hash:{},fn:this.program(12,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.labelTooltip:depth0,{name:"if",hash:{},fn:this.program(14,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'"\n\t\t\t\t'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.width:depth0,{name:"if",hash:{},fn:this.program(16,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\n\t\t\t\t"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.labelTooltip:depth0,{name:"if",hash:{},fn:this.program(18,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\n\t\t\t>"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.labelTooltip:depth0,{name:"if",hash:{},fn:this.program(20,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+" "+this.escapeExpression(this.lambda(depth0!=null?depth0.label:depth0,depth0))+"</th>\n"},12:function(depth0,helpers,partials,data){return"options"},14:function(depth0,helpers,partials,data){return"help"},16:function(depth0,helpers,partials,data){return'style="width: '+this.escapeExpression(this.lambda(depth0!=null?depth0.width:depth0,depth0))+'px;"'},18:function(depth0,helpers,partials,data){var helper;return'title="'+this.escapeExpression((helper=(helper=helpers.labelTooltip||(depth0!=null?depth0.labelTooltip:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"labelTooltip",hash:{},data:data}):helper))+'"'},20:function(depth0,helpers,partials,data){var helper;return'<i class="glyphicon glyphicon-question-sign" title="'+this.escapeExpression((helper=(helper=helpers.labelTooltip||(depth0!=null?depth0.labelTooltip:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"labelTooltip",hash:{},data:data}):helper))+'"></i>'},22:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(23,data,0),inverse:this.program(25,data,0),data:data}))!=null?stack1:""},23:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t<tr><td colspan="'+this.escapeExpression((helper=(helper=helpers.noOfCols||(depth0!=null?depth0.noOfCols:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"noOfCols",hash:{},data:data}):helper))+'" class="loading">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Loading ...",{name:"s",hash:{},data:data}))+"</td></tr>\n"},25:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t<tr><td colspan="'+this.escapeExpression((helper=(helper=helpers.noOfCols||(depth0!=null?depth0.noOfCols:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"noOfCols",hash:{},data:data}):helper))+'" class="no_results">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"No Results Found",{name:"s",hash:{},data:data}))+"</td></tr>\n"},27:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=helpers.each.call(depth0,depth0!=null?depth0.data:depth0,{name:"each",hash:{},fn:this.program(28,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},28:function(depth0,helpers,partials,data,blockParams,depths){var stack1,helper;return'\t\t\t<tr data-key="'+this.escapeExpression((helper=(helper=helpers.key||(depth0!=null?depth0.key:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"key",hash:{},data:data}):helper))+'">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depths[1]!=null?depths[1].selectionType:depths[1],"check",{name:"ifequal",hash:{},fn:this.program(29,data,0,blockParams,depths),inverse:this.program(31,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\n\t\t\t\t\n"+((stack1=helpers.each.call(depth0,depths[1]!=null?depths[1].columns:depths[1],{name:"each",hash:{},fn:this.program(34,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t\t</tr>\n"},29:function(depth0,helpers,partials,data){return'\t\t\t\t\t<td align="center"><input type="checkbox" class="selectone" /></td>\n\t\t\t\t'},31:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depths[2]!=null?depths[2].selectionType:depths[2],"radio",{name:"ifequal",hash:{},fn:this.program(32,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},32:function(depth0,helpers,partials,data){return'\n\t\t\t\t\t<td><input type="radio" class="rad-select" /></td>\n\t\t\t\t'},34:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.visible:depth0,{name:"if",hash:{},fn:this.program(35,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},35:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return"\t\t\t\t\t<td "+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.className:depth0,{name:"if",hash:{},fn:this.program(36,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+">"+this.escapeExpression((helpers.renderViewData||depth0&&depth0.renderViewData||helpers.helperMissing).call(depth0,depths[1],depths[2],{name:"renderViewData",hash:{},data:data}))+"</td>\n"},36:function(depth0,helpers,partials,data){return'class="'+this.escapeExpression(this.lambda(depth0!=null?depth0.className:depth0,depth0))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'<table class="table table-bordered table-shaded table-view '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.condensed:depth0,{name:"if",hash:{},fn:this.program(1,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+" "+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.cssClass:depth0,{name:"if",hash:{},fn:this.program(3,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'">\n\t<thead>\n\t\t<tr>\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.selectionType:depth0,"check",{name:"ifequal",hash:{},fn:this.program(5,data,0,blockParams,depths),inverse:this.program(7,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\n\t\t\n"+((stack1=helpers.each.call(depth0,depth0!=null?depth0.columns:depth0,{name:"each",hash:{},fn:this.program(10,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t</tr>\n\t</thead>\n\t<tbody>\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.total:depth0,0,{name:"ifequal",hash:{},fn:this.program(22,data,0,blockParams,depths),inverse:this.program(27,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\t</tbody>\n</table>"},useData:true,useDepths:true});Handlebars.registerPartial("appogee/view/_table",t);Handlebars.registerPartial("appogee/view/_table",t);return t});define("hbs!appogee/view/template",["hbs/handlebars","hbs!appogee/view/_search","hbs!appogee/view/_pagination","hbs!appogee/view/_table","templates/helpers/renderViewData","templates/helpers/ifequal","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'style="padding: 0px;"'},3:function(depth0,helpers,partials,data){var helper;return"\t<h3>"+this.escapeExpression((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"title",hash:{},data:data}):helper))+"</h3>\n"},5:function(depth0,helpers,partials,data){return'\t\t\t\t<p class="form-control-static result_summary">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Loading ...",{name:"s",hash:{},data:data}))+"</p>\n"},7:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.total:depth0,0,{name:"ifequal",hash:{},fn:this.program(8,data,0),inverse:this.program(10,data,0),data:data}))!=null?stack1:""},8:function(depth0,helpers,partials,data){return'\t\t\t\t\t<p class="form-control-static result_summary">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Displaying 0 - 0 of 0",{name:"s",hash:{},data:data}))+"</p>\n"},10:function(depth0,helpers,partials,data){return'\t\t\t\t\t<p class="form-control-static result_summary">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Displaying {start} - {end} of {total}",{name:"s",hash:{total:depth0!=null?depth0.total:depth0,end:depth0!=null?depth0.end:depth0,start:depth0!=null?depth0.start:depth0},data:data}))+"</p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return this.escapeExpression((helpers.renderViewData||depth0&&depth0.renderViewData||helpers.helperMissing).call(depth0,"ignore","ignore",{name:"renderViewData",hash:{},data:data}))+'\n\n<div class="form-horizontal view_header" '+((stack1=helpers.unless.call(depth0,depth0!=null?depth0.padHeader:depth0,{name:"unless",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+">\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.title:depth0,{name:"if",hash:{},fn:this.program(3,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\n\t<div class="row view_controls">\n\t\t<div class="col-sm-6 col-md-5 col-lg-4">\n'+((stack1=this.invokePartial(partials["appogee/view/_search"],depth0,{name:"appogee/view/_search",data:data,indent:"\t\t\t",helpers:helpers,partials:partials}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(5,data,0),inverse:this.program(7,data,0),data:data}))!=null?stack1:"")+'\t\t</div>\n\t\t<div class="col-sm-6 col-md-7 col-lg-8 text-right">\n'+((stack1=this.invokePartial(partials["appogee/view/_pagination"],depth0,{name:"appogee/view/_pagination",data:data,indent:"\t\t\t",helpers:helpers,partials:partials}))!=null?stack1:"")+"\t\t</div>\n\t</div>\n\t\n</div>\n\n"+((stack1=this.invokePartial(partials["appogee/view/_table"],depth0,{name:"appogee/view/_table",data:data,helpers:helpers,partials:partials}))!=null?stack1:"")},usePartial:true,useData:true});Handlebars.registerPartial("appogee/view/template",t);return t});define("jquery.appogee.tooltip",["jquery"],function($){var $tooltip=null;$.fn.appogeeTooltip=function(){if(!$tooltip){$tooltip=$("<div />").addClass("appogee-tooltip-container");$tooltip.appendTo("body")}return this.hover(function(){var tooltip=$(this).data("tooltip");var tooltipPosition=$(this).data("tooltip-position");var tooltipStyle=$(this).data("tooltip-style");if(tooltip){$tooltip.html(tooltip).removeClass("warning danger").show();if(tooltipStyle){$tooltip.addClass(tooltipStyle)}if(tooltipPosition==="left"){$tooltip.position({my:"right-5",at:"left",of:this})}else{$tooltip.position({my:"left+10",at:"right",of:this})}}},function(){$tooltip.hide()}).click(function(){$tooltip.hide()})};$(function(){$(".appogee-tooltip").appogeeTooltip()})})
;define("appogee/view/View",["jquery","appogee/util","appogee/localConfig","appogee/view/TextColumn","appogee/view/LinkColumn","appogee/view/JSColumn","appogee/view/ImageColumn","appogee/view/AvatarColumn","appogee/view/FloatColumn","appogee/view/CurrencyColumn","appogee/view/CustomColumn","hbs!appogee/view/template","jquery.appogee.tooltip"],function($,util,localConfig,TextColumn,LinkColumn,JSColumn,ImageColumn,AvatarColumn,FloatColumn,CurrencyColumn,CustomColumn,tmpl){var KEY_ESC=27;var KEY_BACKSPACE=8;var KEY_RETURN=13;var KEY_SPACE=32;var KEY_SHIFT=16;var KEY_CTRL=17;var KEY_UP=38;var KEY_DOWN=40;var ViewSelectionType={Check:"check",Radio:"radio",None:""};var View=function($container,id,options){options=$.extend({title:null,showSearch:true,padHeader:true,tmpl:tmpl},options||{});var defaultSort=null;this.$container=$container;this.id=id;this.title=options.title;this.showSearch=options.showSearch;this.padHeader=options.padHeader;this.tmpl=options.tmpl;this.cssClass=options.cssClass;this.renderArgs={};this.fetchCount=0;this.baseUrl="/views";this.defaultFilters={};this.filters={};this.defaultSort=defaultSort;this.sorts=[];this.sortDirections=[];this.maxSorts=2;this.selectionType=ViewSelectionType.None;this._selectAllOb=null;this.limit=100;this.start=1;this.end=100;this.total=0;this.data=[];this.searchQuery="";this.projection=options.projection;this.columns=[];this.columnConfig=null;this.formatters={};this.dateFormatString=null;this.dateFormatString=null;onAddFilterHandlers=[];onRemoveFilterHandlers=[];onAddSortHandlers=[];onRemoveSortHandlers=[];this.onFetchHandlers=[];this.onRenderHandlers=[]};View.prototype.onRender=function(handler){this.onRenderHandlers.push(handler)};View.prototype.addDefaultFilter=function(field,val){this.defaultFilters[field]=val};View.prototype.addDefaultKeyFilter=function(field,val){this.defaultFilters["__key__"+field]=val};View.prototype.addFilter=function(field,val,preventFetch){this.filters[field]=val;if(!preventFetch)this.fetch()};View.prototype.removeFilter=function(field,preventFetch){if(field in this.filters){delete this.filters[field];if(!preventFetch)this.fetch()}};View.prototype.addKeyFilter=function(field,val,preventFetch){field="__key__"+field;this.addFilter(field,val,preventFetch)};View.prototype.removeKeyFilter=function(field,preventFetch){field="__key__"+field;this.removeFilter(field,preventFetch)};View.prototype.addFormatter=function(field,formatter,formatString){if(formatter=="date"){if(formatString)this.setDateFormatString(formatString)}else if(formatter=="datetime"){if(formatString)this.setDateTimeFormatString(formatString)}else{throw new Error("formatter not supported")}this.formatters[field]=formatter};View.prototype.addDateFormatter=function(field){this.addFormatter(field,"date")};View.prototype.addDateTimeFormatter=function(field){this.addFormatter(field,"datetime")};View.prototype.search=function(query){this.searchQuery=query;this.fetch()};View.prototype.clearSearch=function(){this.searchQuery="";this.fetch()};View.prototype.addSort=function(field,descending){if(this.sorts.length==this.maxSorts){this.sorts.splice(0,1);this.sortDirections.splice(0,1)}this.sorts.push(field);this.sortDirections.push(descending?"DESC":"ASC");this.fetch()};View.prototype.addColumn=function(options){var column=null;if(options.type=="text"){column=new TextColumn(options.label,options.field)}else if(options.type=="float"){column=new FloatColumn(options.label,options.field);if(options.dp)column.dp=options.dp}else if(options.type=="currency"){column=new CurrencyColumn(options.label,options.field);if(options.dp)column.dp=options.dp}else if(options.type=="link"){column=new LinkColumn(options.label,options.field,options.link)}else if(options.type=="js"){column=new JSColumn(options.label,options.field,options.cssClass,options.onClick,null,options.render)}else if(options.type=="image"){column=new ImageColumn(options.label,options.field,options.mappings,options.urlFormatter)}else if(options.type=="avatar"){column=new AvatarColumn(options.label,options.field,options.mappings,options.urlFormatter)}else if(options.type=="custom"){column=new CustomColumn(options.label,options.render,options.className,options.cssClass)}else{throw new Error("not implemented")}if(options.id)column.id=options.id;if(options.width)column.width=options.width;if(options.sortField)column.sortField=options.sortField;if(options.formatAs)column.formatAs=options.formatAs;return this._addColumn(column)};View.prototype.clearColumns=function(){this.columns=[]};View.prototype._addColumn=function(column){this.columns.push(column);column._setView(this);return column};View.prototype.getColumn=function(id){for(var i=0;i<this.columns.length;i++)if(this.columns[i].id==id)return this.columns[i]};View.prototype.setWidths=function(widths){if(widths.length!=this.columns.length)throw new Error("Invalid number of widths");for(var i=0;i<this.columns.length;i++)if(widths[i])this.columns[i].width=widths[i]};View.prototype.getQueryString=function(){var c={start:this.start,limit:this.limit,search:this.searchQuery,defaultFilters:JSON.stringify(this.defaultFilters),filters:JSON.stringify(this.filters),sorts:JSON.stringify(this.sorts),sortDirections:JSON.stringify(this.sortDirections)};if(this.projection){c.projection=this.projection}return c};View.prototype.addFetchCallback=function(handler){this.onFetchHandlers.push(handler)};View.prototype.fetch=function(){var me=this;this.loading=true;this.render();var fetchCount=++this.fetchCount;$.ajax({url:this.baseUrl+"/"+this.id,data:this.getQueryString(),success:function(response){if(fetchCount!=me.fetchCount){return}me.loading=false;me.total=response.total;me.data=me._formatData(response.data);me.end=me.start+me.limit-1;me.end=Math.min(me.end,response.total);me.render(response);if(me.onFetchHandlers){$.each(me.onFetchHandlers,function(){this()})}},dataType:"json"})};View.prototype._formatData=function(data){if(!this.formatters)return data;var me=this;$.each(data,function(i,row){for(field in row){if(field in me.formatters){var val=row[field];if(val){if(me.formatters[field]=="date"){row[field]=util.date.toString(val,me.getDateFormatString())}else if(me.formatters[field]=="datetime"){row[field]=util.datetime.toString(val,me.getDateTimeFormatString())}}}}});return data};View.prototype.setDateFormatString=function(formatString){this.dateFormatString=formatString};View.prototype.setDateTimeFormatString=function(formatString){this.dateTimeFormatString=formatString};View.prototype.getDateFormatString=function(){return this.dateFormatString};View.prototype.getDateTimeFormatString=function(){return this.dateTimeFormatString};View.prototype.render=function(response){var _this2=this;var me=this;var pagination=[];var currentPage=(this.start-1)/this.limit+1;var showPagination=false;if(this.start>1||this.end<this.total){showPagination=true;var lastPage=Math.ceil(this.total/this.limit);if(lastPage<=5||currentPage<=3){for(var page=1;page<=lastPage;page++){pagination.push({label:page,start:(page-1)*this.limit+1});if(pagination.length==5)break}}else if(lastPage-currentPage<=2){for(var page=lastPage-4;page<=lastPage;page++){pagination.push({label:page,start:(page-1)*this.limit+1})}}else{for(var page=currentPage-2;page<=lastPage;page++){if(page>0){pagination.push({label:page,start:(page-1)*this.limit+1})}if(pagination.length==5)break}}}var noOfCols=this.columns.length;if(this.selectionType!=ViewSelectionType.None){noOfCols++}var columns=this.columns;if(this.columnConfig!==null){columns=_.filter(columns,function(col){if(!col.hasOwnProperty("id")){return true}if(_this2.columnConfig.hasOwnProperty(col.id)){return _this2.columnConfig[col.id]}})}var data={title:this.title,pagination:pagination,showPagination:showPagination,currentPage:currentPage,start:this.start,end:this.end,total:this.total,limit:this.limit,columns:columns,data:this.data,selectionType:this.selectionType,showSearch:this.showSearch,padHeader:this.padHeader,search:this.searchQuery,loading:this.loading,cssClass:this.cssClass,noOfCols:noOfCols,filters:this.filters};data=$.extend(data,this.renderArgs);var html=this.tmpl(data);this.$container.html(html);this.$container.find(".appogee-tooltip").appogeeTooltip();this.$container.find("select.limit").change(function(){me.setLimit($(this).val())});this.$container.find(".pagination a.previous").click(function(){if(!$(this).parent().hasClass("disabled"))me.previous()});this.$container.find(".pagination a.next").click(function(){if(!$(this).parent().hasClass("disabled"))me.next()});this.$container.find(".pagination a.goto").click(function(){if(!$(this).parent().hasClass("disabled")){me.start=parseInt($(this).data("start"));me.fetch()}});this.$container.find("input.selectall").click(function(){if(this.checked)me.selectAll();else me.selectNone()});this.$container.find("input.selectone").click(function(){if(this.checked)$(this).parent().addClass("selected");else $(this).parent().removeClass("selected");me._checkSelectAll()});$.each(this.columns,function(i,col){if(col instanceof JSColumn){me.$container.find("."+col.cssClass).click(function(){var key=$(this).data("key");for(var i=0;i<me.data.length;i++){if(me.data[i].key==key){col.onClick(me.data[i],this);break}}})}});var $txtSearch=this.$container.find('.view_search input[type="text"]');var $btnSearch=this.$container.find(".view_search button.jsearch");var $btnClearSearch=this.$container.find(".view_search button.jclear");$txtSearch.keyup(function(event){if($(this).val()){if(event.keyCode==KEY_RETURN){$btnSearch.click()}else if(event.keyCode==KEY_ESC){$btnClearSearch.click()}else{$btnSearch.show();$btnClearSearch.hide();$btnSearch.removeClass("disabled")}}else{$btnSearch.addClass("disabled")}}).focus();$btnSearch.toggle(this.searchQuery=="");$btnClearSearch.toggle(this.searchQuery!="");$btnClearSearch.click(function(){$txtSearch.val("");$btnSearch.show();$btnClearSearch.hide();me.search("")});$btnSearch.click(function(){var query=$txtSearch.val();if(query){me.search(query);$(this).hide();$btnClearSearch.show()}});if(this.onRenderHandlers){this.onRenderHandlers.forEach(function(handler){handler()})}};View.prototype.setLimit=function(limit){this.start=1;this.limit=parseInt(limit);this.fetch()};View.prototype.next=function(){this.start+=this.limit;this.fetch()};View.prototype.previous=function(){this.start-=Math.max(0,this.limit);this.fetch()};View.prototype.selectAll=function(){this.$container.find("input.selectone").attr("checked",false).click()};View.prototype.selectNone=function(){this.$container.find("input.selectone").attr("checked",true).click()};View.prototype._checkSelectAll=function(){var checked=this.$container.find("input.selectone:checked").length;var count=this.$container.find("input.selectone").length;this.$container.find("input.selectall").prop("checked",checked==count)};View.prototype.getSelected=function(){var me=this;if(this.selectionType==ViewSelectionType.Check){var obs=[];this.$container.find("input.selectone:checked").each(function(){var key=$(this).closest("tr").data("key");var ob=_.findWhere(me.data,{key:key});if(ob){obs.push(ob)}});return obs}else if(this.selectionType==ViewSelectionType.Radio){var user=null;this.$container.find('input[type="radio"].rad-select:checked').each(function(){var key=$(this).closest("tr").data("key");user=_.first(_.where(me.data,{key:key}))});return user}else{return null}};View.prototype.getSelectedKeys=function(){var keys=[];this.$container.find("input.selectone:checked").each(function(){keys.push($(this).closest("tr").data("key"))});return keys};View.prototype.initColumnConfig=function(storageKey,columns,defaults,$ddlContainer){var _this3=this;this.columnConfig=this.loadColumnConfig(storageKey,columns,defaults);$ddlContainer.click(function(e){e.stopPropagation()});columns.forEach(function(col){var $chk=$ddlContainer.find('input[type="checkbox"][data-col="'+col+'"]');$chk.prop("checked",_this3.columnConfig[col]).change(function(e){_this3.columnConfig[col]=e.currentTarget.checked;_this3.persistColumnConfig(storageKey,columns);_this3.render()})})};View.prototype.loadColumnConfig=function(storageKey,columns,defaults){var columnConfigRaw=localConfig.get(storageKey,defaults);var columnConfig={};columns.forEach(function(col,i){columnConfig[col]=columnConfigRaw[i]==1});return columnConfig};View.prototype.persistColumnConfig=function(storageKey,columns){var _this4=this;var columnConfig=[];columns.forEach(function(col){columnConfig.push(+_this4.columnConfig[col])});localConfig.set(storageKey,columnConfig)};return View});define("appogee/Dialog",["jquery","jqueryui","enums/CommonStrings"],function($,ui,CommonStrings){"use strict";var Dialog=function($ob,options){this.$ob=$ob;var me=this;options=$.extend({title:"No Title Defined",height:"auto",maxHeight:550,showEffect:"blind",hideEffect:"puff",firstButtonLeft:false,okText:CommonStrings.ok,okClass:"btn-primary",cancelText:CommonStrings.cancel,okCallback:null,cancelCallback:function(){me.hide()},dialogClass:"",closeText:"",resizable:false,onBeforeClose:null,onClose:null},options||{});this.height=options.height;this.maxHeight=options.maxHeight;this.title=options.title;this.showEfect=options.showEffect;this.hideEffect=options.hideEffect;this.onCloseHandler=options.onClose;this.onBeforeCloseHandler=options.onBeforeClose;this.buttons={cancel:{text:options.cancelText,class:"btn btn-sm btn-default",id:"btnDialogCancel",click:options.cancelCallback},ok:{text:options.okText,class:"btn btn-sm "+options.okClass,id:"btnDialogOk",click:options.okCallback}};this.$ob.dialog({modal:true,stack:true,autoOpen:false,height:this.height,maxHeight:this.maxHeight,dialogClass:options.dialogClass,closeText:options.closeText,resizable:options.resizable,position:{my:"center",at:"center",of:window},overlay:{opacity:.5,background:"white"},open:function(){$(".ui-widget-overlay").css("position","fixed");$(this).parent().promise().done(function(){me.center()})},close:function(){$(".ui-widget-overlay").css("position","absolute");if(me.onCloseHandler){me.onCloseHandler()}},beforeClose:function(){if(me.onBeforeCloseHandler){me.onBeforeCloseHandler()}}})};Dialog.prototype.onClose=function(handler){this.onCloseHandler=handler};Dialog.prototype.onBeforeClose=function(handler){this.onBeforeCloseHandler=handler};Dialog.prototype.cancelCallback=function(){this.hide()};Dialog.prototype.close=function(func){this.$ob.dialog("option","close",func)};Dialog.prototype.refresh=function(){this.$ob.dialog("option","title",this.title);this.$ob.dialog("option","height",this.height);this.$ob.dialog("option","maxHeight",this.maxHeight);this.$ob.dialog("option","buttons",this.buttons)};Dialog.prototype.show=function(effect){this.refresh();var options={effect:effect||this.showEffect};this.$ob.dialog("option","show",options);this.$ob.dialog("open")};Dialog.prototype.hide=function(effect){if(effect=="none"){this.$ob.dialog("option","hide",false);this.$ob.dialog("close")}else{var options={effect:effect||this.hideEffect};this.$ob.dialog("option","hide",options);this.$ob.dialog("close")}};Dialog.prototype.center=function(){this.$ob.dialog({position:{my:"center",at:"center",of:window}})};Dialog.prototype.isActive=function(){return this.$ob.dialog("isOpen")};Dialog.prototype.clearButtons=function(){this.buttons={};this.$ob.dialog("option","buttons",this.buttons)};Dialog.prototype.addButton=function(label,callback,btn){if(typeof options=="boolean"){alert("addButton method deprecated - update your code");return}btn=btn||{};btn.text=label;btn.click=callback;if(!btn["class"]){btn["class"]="btn btn-default"}btn["class"]+=" btn-sm";this.buttons[label]=btn};Dialog.prototype.addCancelButton=function(label,callback,btn){var me=this;this.addButton(label,function(){if(!callback||callback()){me.hide()}},btn)};Dialog.prototype.addPrimaryButton=function(label,callback,btn){btn=btn||{};btn["class"]="btn btn-primary";this.addButton(label,callback,btn)};Dialog.prototype.addDangerButton=function(label,callback,btn){btn=btn||{};btn["class"]="btn btn-danger";this.addButton(label,callback,btn)};Dialog.prototype.addButtonOLD=function(label,callback,isCancel,options){options=options||{};isCancel=isCancel||false;var me=this;var cb=callback;if(isCancel){cb=function(){if(!callback||callback()){me.hide()}}}this.buttons[label]={text:label,class:"btn btn-default",click:cb};$.extend(this.buttons[label],options)};Dialog.prototype.disableButons=function(){this.$ob.parent().find("button").attr("disabled",true)};Dialog.prototype.enableButons=function(){this.$ob.parent().find("button").attr("disabled",false)};return Dialog});define("templates/helpers/unless_equal",["hbs/handlebars"],function(Handlebars){Handlebars.registerHelper("unless_equal",function ifequal(v1,v2,options){if(v1==v2)return options.inverse(this);return options.fn(this)})});define("templates/helpers/trans",["hbs/handlebars"],function(Handlebars){"use strict";function trans(){var args=Array.prototype.slice.call(arguments);var word=args[0];var stringArgs=null;if(args.length==2){var lastArg=args[args.length-1];stringArgs=lastArg.hash}else{stringArgs=args.slice(1,args.length-1)}word=String.prototype.format.call(word,stringArgs);return new Handlebars.SafeString(word)}Handlebars.registerHelper("trans",trans);return trans});define("hbs!appogee/audit/template",["hbs/handlebars","templates/helpers/renderViewData","templates/helpers/ifequal","templates/helpers/unless_equal","templates/helpers/if_gt","templates/helpers/trans"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'style="padding: 0px;"'},3:function(depth0,helpers,partials,data){return'\t\t<p class="result_summary">Loading ...</p>\n'},5:function(depth0,helpers,partials,data){var helper;return'\t\t<p class="result_summary">Displaying '+this.escapeExpression((helper=(helper=helpers.start||(depth0!=null?depth0.start:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"start",hash:{},data:data}):helper))+" - "+this.escapeExpression((helper=(helper=helpers.end||(depth0!=null?depth0.end:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"end",hash:{},data:data}):helper))+"</p>\n"},7:function(depth0,helpers,partials,data){return'\t\t<div class="loader"></div>\n'},9:function(depth0,helpers,partials,data){var stack1;return'\t\t<a href="javascript: void(0);" class="btn previous" '+((stack1=helpers.unless.call(depth0,depth0!=null?depth0.hasLessPages:depth0,{name:"unless",hash:{},fn:this.program(10,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'>&lt; Previous</a></li>\n\t\t<a href="javascript: void(0);" class="btn next" '+((stack1=helpers.unless.call(depth0,depth0!=null?depth0.hasMorePages:depth0,{name:"unless",hash:{},fn:this.program(10,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+">Next &gt;</a></li>\n"},10:function(depth0,helpers,partials,data){return'disabled="disabled"'},12:function(depth0,helpers,partials,data){return'\t\t\t<th class="w400">Comments</th>\n'},14:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(15,data,0),inverse:this.program(17,data,0),data:data}))!=null?stack1:""},15:function(depth0,helpers,partials,data){return'\t\t\t\t<tr><td colspan="10" class="loading">Loading ..</td></tr>\n'},17:function(depth0,helpers,partials,data){return'\t\t\t\t<tr><td colspan="10" class="no_results">No Results Found</td></tr>\n'},19:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=helpers.each.call(depth0,depth0!=null?depth0.audits:depth0,{name:"each",hash:{},fn:this.program(20,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},20:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return(stack1=(helpers.unless_equal||depth0&&depth0.unless_equal||helpers.helperMissing).call(depth0,depth0!=null?depth0.type:depth0,2,{name:"unless_equal",hash:{},fn:this.program(21,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:""},21:function(depth0,helpers,partials,data,blockParams,depths){var stack1,helper;return'\t\t\t\t<tr data-key="'+this.escapeExpression((helper=(helper=helpers.key||(depth0!=null?depth0.key:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"key",hash:{},data:data}):helper))+'">\n\t\t\t\t\t<td>'+this.escapeExpression((helper=(helper=helpers.formattedCreate||(depth0!=null?depth0.formattedCreate:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"formattedCreate",hash:{},data:data}):helper))+"</td>\n\t\t\t\t\t<td>"+this.escapeExpression((helper=(helper=helpers.user||(depth0!=null?depth0.user:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"user",hash:{},data:data}):helper))+'</td>\n\t\t\t\t\t<td class="panel">\n'+((stack1=(helpers.if_gt||depth0&&depth0.if_gt||helpers.helperMissing).call(depth0,depth0!=null?depth0.type:depth0,{name:"if_gt",hash:{compare:0},fn:this.program(22,data,0,blockParams,depths),inverse:this.program(31,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\t\t\t\t\t</td>\n"+((stack1=helpers["if"].call(depth0,depths[1]!=null?depths[1].displayComments:depths[1],{name:"if",hash:{},fn:this.program(33,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t\t\t</tr>\n"},22:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.expanded:depth0,{name:"if",hash:{},fn:this.program(23,data,0),inverse:this.program(29,data,0),data:data}))!=null?stack1:""},23:function(depth0,helpers,partials,data){var stack1,helper;return'\t\t\t\t\t\t\t\t<a href="javascript: void(0);" class="twistie collapse" title="'+this.escapeExpression((helpers.trans||depth0&&depth0.trans||helpers.helperMissing).call(depth0,"Click to collapse",{name:"trans",hash:{},data:data}))+'">'+this.escapeExpression((helper=(helper=helpers.activity||(depth0!=null?depth0.activity:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"activity",hash:{},data:data}):helper))+'</a>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<table class="table table-responsive table-bordered table-shaded table-condensed inner">\n\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<th class="col-sm-2">Field</th>\n\t\t\t\t\t\t\t\t\t<th class="col-sm-5">Changed From</th>\n\t\t\t\t\t\t\t\t\t<th class="col-sm-5">Changed To</th>\n\t\t\t\t\t\t\t\t</tr>\n'+((stack1=helpers.each.call(depth0,depth0!=null?depth0.detail:depth0,{name:"each",hash:{},fn:this.program(24,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t\t\t\t\t\t\t</table>\n"},24:function(depth0,helpers,partials,data){var stack1,helper;return'\t\t\t\t\t\t\t\t<tr>\n\t\t\t\t\t\t\t\t\t<td class="col-sm-2">'+this.escapeExpression((helper=(helper=helpers.field||(depth0!=null?depth0.field:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"field",hash:{},data:data}):helper))+'</td>\n\t\t\t\t\t\t\t\t\t<td class="col-sm-5">'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.changedFrom:depth0,{name:"if",hash:{},fn:this.program(25,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'</td>\n\t\t\t\t\t\t\t\t\t<td class="col-sm-5">'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.changedTo:depth0,{name:"if",hash:{},fn:this.program(27,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"</td>\n\t\t\t\t\t\t\t\t</tr>\n"},25:function(depth0,helpers,partials,data){var stack1,helper;return(stack1=(helper=(helper=helpers.changedFrom||(depth0!=null?depth0.changedFrom:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"changedFrom",hash:{},data:data}):helper))!=null?stack1:""},27:function(depth0,helpers,partials,data){var stack1,helper;return(stack1=(helper=(helper=helpers.changedTo||(depth0!=null?depth0.changedTo:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"changedTo",hash:{},data:data}):helper))!=null?stack1:""},29:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t\t\t\t\t<a href="javascript: void(0);" class="twistie expand">'+this.escapeExpression((helper=(helper=helpers.activity||(depth0!=null?depth0.activity:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"activity",hash:{},data:data}):helper))+"</a>\n"},31:function(depth0,helpers,partials,data){var helper;return"\t\t\t\t\t\t\t<div>"+this.escapeExpression((helper=(helper=helpers.activity||(depth0!=null?depth0.activity:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"activity",hash:{},data:data}):helper))+"</div>\n"},33:function(depth0,helpers,partials,data){var helper;return"\t\t\t\t\t<td>"+this.escapeExpression((helper=(helper=helpers.comments||(depth0!=null?depth0.comments:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"comments",hash:{},data:data}):helper))+"</td>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return this.escapeExpression((helpers.renderViewData||depth0&&depth0.renderViewData||helpers.helperMissing).call(depth0,"ignore","ignore",{name:"renderViewData",hash:{},data:data}))+'\n<div class="view_header" '+((stack1=helpers.unless.call(depth0,depth0!=null?depth0.padHeader:depth0,{name:"unless",hash:{},fn:this.program(1,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'>\n\t<div class="floatleft">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(3,data,0,blockParams,depths),inverse:this.program(5,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'\t</div>\n\t\n\t<div class="floatright">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(7,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.displayPagination:depth0,{name:"if",hash:{},fn:this.program(9,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<div class="clear"></div>\n\t</div>\n\t<div class="clear"></div>\n</div>\n\n<table class="audit view table table-bordered table-shaded table-rigid table-responsive ">\n\t<thead>\n\t\t<tr>\n\t\t\t<th class="w200">Date</th>\n\t\t\t<th class="w200">User</th>\n\t\t\t<th style="padding-left: 27px;">Activity</th>\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.displayComments:depth0,{name:"if",hash:{},fn:this.program(12,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t</tr>\n\t</thead>\n\t<tbody>\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.total:depth0,0,{name:"ifequal",hash:{},fn:this.program(14,data,0,blockParams,depths),inverse:this.program(19,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\t</tbody>\n</table>"},useData:true,useDepths:true});Handlebars.registerPartial("appogee/audit/template",t);return t});define("appogee/audit/AuditView",["jquery","appogee/xhr","appogee/util","hbs!appogee/audit/template"],function($,xhr,util,tmpl){var PAGESIZE=100;var AuditView=function($container,targetKey){this.$container=$container;this.targetKey=targetKey;this.displayComments=true;this.page=1;this.url="/api/{0}/audits".format(xhr.API_VERSION);this.audits=[]};AuditView.prototype.fetch=function(targetKey){var me=this;if(targetKey)this.targetKey=targetKey;$.ajax({type:"GET",url:this.url+"?target="+this.targetKey,success:function(data,textStatus,jqXHR){me.audits=data.items;me.render()},contentType:"application/json",dataType:"json"})};AuditView.prototype.getStart=function(){if(this.audits.length==0)return 0;return(this.page-1)*PAGESIZE+1};AuditView.prototype.getEnd=function(){if(this.audits.length==0)return 0;return this.getStart()+this.audits.length-1};AuditView.prototype.hasMorePages=function(){return this.audits.length>PAGESIZE};AuditView.prototype.hasLessPages=function(){return this.page>1};AuditView.prototype.render=function(){for(var i=0;i<this.audits.length;i++){this.audits[i].formattedCreate=util.datetime.toString(this.audits[i].created)}var data={start:this.getStart(),end:this.getEnd(),audits:this.audits,hasMorePages:this.hasMorePages(),hasLessPages:this.hasLessPages(),displayPagination:this.hasMorePages()||this.hasLessPages(),displayComments:this.displayComments};this.$container.html(tmpl(data));var me=this;this.$container.find("a.expand").click(function(){var key=$(this).closest("tr").data("key");var audit=me.byKey(key);if(audit.detail){audit.expanded=true;me.render()}else{$.ajax({type:"GET",url:me.url+"/"+key+"/detail",success:function(data,textStatus,jqXHR){audit.expanded=true;audit.detail=data.items;me.render()},contentType:"application/json",dataType:"json"})}});this.$container.find("a.collapse").click(function(){var key=$(this).closest("tr").data("key");var audit=me.byKey(key);audit.expanded=false;me.render()});this.$container.find("a.previous").click(function(){me.previous()});this.$container.find("a.next").click(function(){me.next()})};AuditView.prototype.byKey=function(key){for(var i=0;i<this.audits.length;i++)if(this.audits[i].key==key)return this.audits[i]};AuditView.prototype.next=function(){if(this.hasMorePages()){this.page++;this.fetch()}};AuditView.prototype.previous=function(){if(this.hasLessPages()){this.page=Math.max(1,this.page-1);this.fetch()}};return AuditView});define("hbs!appogee/templates/PromptDialog",["hbs/handlebars","templates/helpers/ifequal"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var stack1;return'\t\t\t<input type="text" class="form-control input-sm"\n\t\t\t\t'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.placeholderText:depth0,{name:"if",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\n\t\t\t\t"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.defaultText:depth0,{name:"if",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+" />\n"},2:function(depth0,helpers,partials,data){var helper;return'placeholder="'+this.escapeExpression((helper=(helper=helpers.placeholderText||(depth0!=null?depth0.placeholderText:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"placeholderText",hash:{},data:data}):helper))+'"'},4:function(depth0,helpers,partials,data){var helper;return'value="'+this.escapeExpression((helper=(helper=helpers.defaultText||(depth0!=null?depth0.defaultText:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"defaultText",hash:{},data:data}):helper))+'"'},6:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.inputType:depth0,"textarea",{name:"ifequal",hash:{},fn:this.program(7,data,0),inverse:this.noop,data:data}))!=null?stack1:""},7:function(depth0,helpers,partials,data){var stack1;return'  \t\t\t<textarea class="form-control input-sm" '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.placeholderText:depth0,{name:"if",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+">"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.defaultText:depth0,{name:"if",hash:{},fn:this.program(8,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"</textarea>\n  \t\t"},8:function(depth0,helpers,partials,data){var helper;return this.escapeExpression((helper=(helper=helpers.defaultText||(depth0!=null?depth0.defaultText:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"defaultText",hash:{},data:data}):helper))},compiler:[6,">= 2.0.0-beta.1"],
main:function(depth0,helpers,partials,data){var stack1,helper;return'<div class="'+this.escapeExpression((helper=(helper=helpers.alertClass||(depth0!=null?depth0.alertClass:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"alertClass",hash:{},data:data}):helper))+'">\n\t<h4>'+this.escapeExpression((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"title",hash:{},data:data}):helper))+'</h4>\n\t<div class="form-group">\n\t\t<label>'+this.escapeExpression((helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"msg",hash:{},data:data}):helper))+"</label>\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.inputType:depth0,"text",{name:"ifequal",hash:{},fn:this.program(1,data,0),inverse:this.program(6,data,0),data:data}))!=null?stack1:"")+"\t</div>\n</div>"},useData:true});Handlebars.registerPartial("appogee/templates/PromptDialog",t);return t});define("appogee/ui",["jquery","underscore","appogee/i18n","appogee/cookies","appogee/view/View","appogee/Dialog","appogee/audit/AuditView","enums/CommonStrings","hbs!appogee/templates/PromptDialog"],function($,_,i18n,cookies,View,Dialog,AuditView,CommonStrings,tmplPrompt){"use strict";var $dlgAlert=null;var dlgAlert=null;var $dlgConfirm=null;var dlgConfirm=null;var $dlgYesNo=null;var dlgYesNo=null;var $dlgPrompt=null;var dlgPrompt=null;function alert(title,msg,alertClass,callback){if(dlgAlert===null){$dlgAlert=$("<div />").addClass("dialog-alert");dlgAlert=new Dialog($dlgAlert,{title:"Appogee HR"})}if(_.isArray(title)){callback=alertClass;alertClass=msg;msg=title[1];title=title[0]}if(_.isFunction(alertClass)){callback=alertClass;alertClass=null}dlgAlert.clearButtons();dlgAlert.addPrimaryButton(CommonStrings.ok,function(){if(callback){if(callback()){dlgAlert.hide()}}else{dlgAlert.hide()}});if(alertClass){alertClass="alert alert-"+alertClass}else{alertClass="alert"}var $alert=$("<div />").addClass(alertClass);if(title){$alert.append($("<h4 />").html(title))}$alert.append($("<p />").html(msg));$dlgAlert.html("").append($alert);dlgAlert.show()}function valert(title,msg,alertClass,callback){if(_.isArray(title)){callback=alertClass;alertClass=msg;msg=title[1];title=title[0]}else if(arguments.length==1){msg=title;title=CommonStrings.formInvalid}if(dlgAlert===null){$dlgAlert=$("<div />").addClass("dialog-alert");dlgAlert=new Dialog($dlgAlert,{title:"Appogee HR",dialogClass:"dlg-validation"})}if(_.isFunction(alertClass)){callback=alertClass;alertClass=null}dlgAlert.clearButtons();dlgAlert.addPrimaryButton(CommonStrings.ok,function(){if(callback){if(callback()){dlgAlert.hide()}}else{dlgAlert.hide()}});if(alertClass){alertClass="alert alert-"+alertClass}else{alertClass="alert"}var $alert=$("<div />").addClass(alertClass);if(title){var $h4=$("<h4 />").addClass("text-danger");$h4.append('<i class="glyphicon glyphicon-exclamation-sign" />');$h4.append($("<span />").html(title));$alert.append($h4)}$alert.append($("<p />").html(msg));$dlgAlert.html("").append($alert);dlgAlert.show()}var confirm=function(title,msg,alertClass,okCallback){if(dlgConfirm===null){$dlgConfirm=$("<div />").addClass("dialog-alert");dlgConfirm=new Dialog($dlgConfirm,{title:"Appogee HR"})}if(_.isArray(title)){okCallback=alertClass;alertClass=msg;msg=title[1];title=title[0]}if(_.isFunction(alertClass)){okCallback=alertClass;alertClass=null}dlgConfirm.clearButtons();dlgConfirm.addCancelButton(CommonStrings.cancel);dlgConfirm.addPrimaryButton(CommonStrings.ok,function(){okCallback();dlgConfirm.hide()});if(alertClass){alertClass="alert alert-"+alertClass}else{alertClass="alert"}var $alert=$("<div />").addClass(alertClass);if(title){$alert.append($("<h4 />").html(title))}$alert.append($("<p />").html(msg));$dlgConfirm.html("").append($alert);dlgConfirm.show()};var yesNo=function(title,msg,alertClass,callback){if(dlgYesNo===null){$dlgYesNo=$("<div />").addClass("dialog-alert");dlgYesNo=new Dialog($dlgYesNo,{title:"Appogee HR"})}if(_.isArray(title)){callback=alertClass;alertClass=msg;msg=title[1];title=title[0]}if(_.isFunction(alertClass)){callback=alertClass;alertClass=null}dlgYesNo.clearButtons();dlgYesNo.addButton(CommonStrings.no,function(){callback("no");dlgYesNo.hide()});dlgYesNo.addPrimaryButton(CommonStrings.yes,function(){callback("yes");dlgYesNo.hide()});if(alertClass){alertClass="alert alert-"+alertClass}else{alertClass="alert"}var $alert=$("<div />").addClass(alertClass);if(title){$alert.append($("<h4 />").html(title))}$alert.append($("<p />").html(msg));$dlgYesNo.html("").append($alert);dlgYesNo.show()};function yesNoContinue(sTitle,sMsg,alertClass,okCallback){sMsg="<p>"+sMsg+"</p><p>"+CommonStrings.doYouWishToContinue+"</p>";yesNo(sTitle,sMsg,alertClass,okCallback)}var prompt=function(title,msg,callback,options){if(_.isArray(title)){options=callback;callback=msg;msg=title[1];title=title[0]}options=$.extend({alertClass:"alert",mandatory:false,placeholderText:"",defaultText:"",okText:CommonStrings.ok,cancelText:CommonStrings.cancel,inputType:"textarea"},options||{});if(["info","warning","danger","success"].indexOf(options.alertClass)>-1){options.alertClass="alert alert-"+options.alertClass}if(dlgPrompt===null){$dlgPrompt=$("<div />").addClass("dialog-alert");dlgPrompt=new Dialog($dlgPrompt,{title:"Appogee HR"})}$dlgPrompt.html(tmplPrompt({title:title,msg:msg,alertClass:options.alertClass,placeholderText:options.placeholderText,defaultText:options.defaultText,inputType:options.inputType}));dlgPrompt.clearButtons();dlgPrompt.addCancelButton(options.cancelText);dlgPrompt.addPrimaryButton(options.okText,function(){var $el=null;if(options.inputType=="text"){$el=$dlgPrompt.find('input[type="text"]')}else if(options.inputType=="textarea"){$el=$dlgPrompt.find("textarea")}var promptText=$el.val();if(options.mandatory&&!promptText){$el.addClass("error")}else{callback(promptText);dlgPrompt.hide()}});dlgPrompt.show()};function _getNestedProperty(ob,propName){var props=propName.split(".");props.forEach(function(prop){if(ob&&ob.hasOwnProperty(prop)){ob=ob[prop]}});return ob}function populateDropdown($ddl,data,options){options=$.extend({keyName:"key",valueName:"value",valueFormatter:null,defaultKey:"",defaultValue:CommonStrings.select,groupBy:null,groupBySingle:false,groupByFormatter:null,cookieKey:null},options||{});if(options.cookieKey){var key=cookies.get(options.cookieKey);if(key!==null){options["default"]=key}}if(!("default"in options)){options["default"]=options.defaultKey}var html=null;var groups={};$.each(data,function(i,keyword){var key=keyword[options.keyName];var value=keyword[options.valueName];if(options.valueFormatter){value=options.valueFormatter(keyword)}var selected="";if(key==options["default"]){selected='selected="selected"'}html='<option value="{0}"{1}>{2}</option>'.format(key,selected,value);var groupKey=null;if(options.groupBy){groupKey=_getNestedProperty(keyword,options.groupBy)}if(!groupKey){groupKey="~"}if(!groups.hasOwnProperty(groupKey)){groups[groupKey]=""}groups[groupKey]+=html});html="";if(options.defaultValue){html='<option value="{0}">{1}</option>'.format(options.defaultKey,options.defaultValue)}if(options.groupBy){var groupNames=_.keys(groups).sort();if(!options.groupBySingle&&groupNames.length==1){html+=groups[groupNames[0]]}else{groupNames.forEach(function(groupName){if(groupName=="~"){html+=groups["~"]}else{var groupNameString=groupName;if(options.groupByFormatter){groupNameString=options.groupByFormatter(groupNameString)}html+='<optgroup label="'+groupNameString+'">'+groups[groupName]+"</optgroup>"}})}}else{html+=groups["~"]}$ddl.html(html);if(options.cookieKey){$ddl.off("change.appogee.populateDropdown").on("change.appogee.populateDropdown",function(){cookies.set(options.cookieKey,this.value)})}}function populateCheckboxList($ddl,data){var html="";$.each(data,function(i,keyword){html+='<label class="checkbox-inline">'+'<input type="checkbox" name="'+keyword.type+'" value="'+keyword.key+'" />'+keyword.value+"</label>"});$ddl.html(html)}return{Dialog:Dialog,View:View,AuditView:AuditView,alert:alert,confirm:confirm,yesNo:yesNo,yesNoContinue:yesNoContinue,prompt:prompt,valert:valert,populateDropdown:populateDropdown,populateCheckboxList:populateCheckboxList}});define("appogee/validation",[],function(){"use strict";var RE_ADU=/^[A-Za-z]+([A-Za-z0-9-\.]+)?[A-Za-z0-9]$/;var RE_ADU_ROOT=RE_ADU;var RE_ADU_NAME=RE_ADU;var RE_TEAM_NAME=/^[A-Za-z]{1}[A-Za-z0-9 -_*]+$/;var RE_EMP_NAME=/[A-Za-z0-9 ]{2}/;var RE_PASSWORD=/^.*(?=.{8,20})(?=.*\d)(?=.*[a-zA-Z]).*$/;var RE_AUS_POSTCODE=/^[\d]{4}$/g;var RE_USA_ZIP=/^[\d]{5}$/g;var RE_EMAIL=/^[a-zA-Z0-9_.'\+-]+@[a-zA-Z0-9_.-]+\.[a-zA-Z]+[a-zA-Z]+/;var RE_DOMAIN=/^([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;var RE_PHONE_NO=/[0-9]/;var RE_IP=/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/;var RE_URL=/https?:\/\/[A-Za-z0-9\.-]{3,}\.[A-Za-z]{2,4}/;var RE_DATE=/^(0[1-9]|[12][0-9]|3[01])[\/](0[1-9]|1[012])[\/](19|20)\d\d$/;var RE_ISO_DATE=/^(19|20)\d\d\-(0[1-9]|1[012])\-(0[1-9]|[12][0-9]|3[01])$/;var RE_HEX_COLOR=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i;var RE_IMG_FILENAME=/^.*(\.(jpg|png|gif|jpeg))$/;var RE_CSV_FILENAME=/^.*(\.(csv))$/;function validateADU(adu){return RE_ADU_NAME.test(adu)}function validateRootADU(adu){return RE_ADU_ROOT.test(adu)}function validateTeamName(teamName){teamName=teamName.trim();return RE_TEAM_NAME.test(teamName)}function validateFullName(fullName){return fullName.split(" ").length>1&&fullName.split(" ")[1]!=""}function validateEmpName(empName){return RE_EMP_NAME.test(empName)}function validatePassword(password){return RE_PASSWORD.test(password)}function validateDomain(domain){return RE_DOMAIN.test(domain)}function validateEmail(email){return RE_EMAIL.test(email)}function validatePhoneNumber(phoneNumber){return RE_PHONE_NO.test(phoneNumber)}function validateIP(ip){return RE_IP.test(ip)}function validateURL(url){return RE_URL.test(url)}function validateDate(d){return RE_DATE.test(d)}function validateIsoDate(d){return RE_ISO_DATE.test(d)}function validateInt(num){if(!num){return false}var ok="0123456789";for(var i=0;i<num.length;i++){var ch=num.charAt(i);if(ok.indexOf(ch)==-1){return false}}return true}function validateFloat(num){var ok="0123456789.";for(var i=0;i<num.length;i++){var ch=num.charAt(i);if(ok.indexOf(ch)==-1){return false}}return true}function validateHexColor(s){return RE_HEX_COLOR.test(s)}function validateImageFilename(filename){return RE_IMG_FILENAME.test(filename)}function validateCSVFilename(filename){return RE_CSV_FILENAME.test(filename)}function validateAustralianPostcode(postcode){return RE_AUS_POSTCODE.test(postcode)}function validateAmericanZip(zip){return RE_USA_ZIP.test(zip)}return{validateADU:validateADU,validateRootADU:validateRootADU,validateTeamName:validateTeamName,validateFullName:validateFullName,validateEmpName:validateEmpName,validatePassword:validatePassword,validateDomain:validateDomain,validateEmail:validateEmail,validatePhoneNumber:validatePhoneNumber,validateIP:validateIP,validateURL:validateURL,validateDate:validateDate,validateIsoDate:validateIsoDate,validateInt:validateInt,validateFloat:validateFloat,validateHexColor:validateHexColor,validateImageFilename:validateImageFilename,validateAustralianPostcode:validateAustralianPostcode,validateAmericanZip:validateAmericanZip,validateCSVFilename:validateCSVFilename}});define("appogee/globals",["appogee/i18n"],function(i18n){"use strict";function getMonths(style){style=style||"full";var strings=i18n.getStrings();if(style.toLowerCase()=="mini"){return[strings.get("Jan"),strings.get("Feb"),strings.get("Mar"),strings.get("Apr"),strings.get("May"),strings.get("Jun"),strings.get("Jul"),strings.get("Aug"),strings.get("Sep"),strings.get("Oct"),strings.get("Nov"),strings.get("Dec")]}else{return[strings.get("January"),strings.get("February"),strings.get("March"),strings.get("April"),strings.get("May"),strings.get("June"),strings.get("July"),strings.get("August"),strings.get("September"),strings.get("October"),strings.get("November"),strings.get("December")]}}function getWeekdays(style){style=style||"full";var strings=i18n.getStrings();if(style.toLowerCase()=="mini"){return[strings.get("Mon"),strings.get("Tue"),strings.get("Wed"),strings.get("Thu"),strings.get("Fri"),strings.get("Sat"),strings.get("Sun")]}else if(style.toLowerCase()=="tiny"){return[strings.get("Mo"),strings.get("Tu"),strings.get("We"),strings.get("Th"),strings.get("Fr"),strings.get("Sa"),strings.get("Su")]}else{return[strings.get("Monday"),strings.get("Tuesday"),strings.get("Wednesday"),strings.get("Thursday"),strings.get("Friday"),strings.get("Saturday"),strings.get("Sunday")]}}var NOW=new Date;var TODAY=new Date;TODAY.setHours(0);TODAY.setMinutes(0);TODAY.setSeconds(0);TODAY.setMilliseconds(0);return{TODAY:TODAY,NOW:NOW,KEY_ESC:27,KEY_BACKSPACE:8,KEY_RETURN:13,KEY_SPACE:32,KEY_SHIFT:16,KEY_CTRL:17,KEY_UP:38,KEY_DOWN:40,getMonths:getMonths,getWeekdays:getWeekdays,XS_SCREEN_WIDTH:768,SM_SCREEN_WIDTH:992,MD_SCREEN_WIDTH:1200}});define("appogee/FileUploadManager",["jquery","appogee"],function($,appogee){var UPLOAD_STATUS_NOT_STARTED=0;var UPLOAD_STATUS_IN_PROGRESS=1;var UPLOAD_STATUS_COMPLETE=2;var UPLOAD_STATUS_ERROR=3;var STATUS_STOPPED=0;var STATUS_RUNNING=1;var STATUS_STOPPING=2;function __cancelDrag(e){e.preventDefault();e.dataTransfer.dropEffect="copy"}var UploadFile=function(id,file,path){path=path||"";this.id=id;this.file=file;this.path=path+file.name;this.ext=getFileExtension(file.name);this.uploadStatus=UPLOAD_STATUS_NOT_STARTED;this.bytesUploaded=0;this.params={}};UploadFile.prototype.addParam=function(key,value){this.params[key]=value};UploadFile.prototype.setComplete=function(){this.uploadStatus=UPLOAD_STATUS_COMPLETE;this.bytesUploaded=this.file.size};UploadFile.prototype.setError=function(errorMsg){this.uploadStatus=UPLOAD_STATUS_ERROR;this.bytesUploaded=0;this.error=errorMsg};var FileUploadManager=function(){this.ignoreFiles=[/^\.DS_Store$/,/Thumbs\.db/];this.droppableElements=[];this.files=[];this.totalBytes=0;this._working=false;this._monitor=null;this._monitorCount=null;this.status=STATUS_STOPPED;this.currentUploads=[];this.concurrentUploads=5;this.filesUploaded=0;this.bytesUploaded=0;this.globalParams={};this.bytesPerSecondData=[];this.bytesPerSecond=0;this.onLoadCompleteHandler=null;this.fileUploadCompleteHandler=null;this.fileUploadErrorHandler=null;this.fileUploadProgressHandler=null;this.uploadProgressHandler=null;this.uploadCompleteHandler=null;this.uploadStoppedHandler=null;this.preDropHandler=null;this.postDropHandler=null;this.dragEnterHandler=null};FileUploadManager.prototype.getUploadUrl=function(file,callback){callback("/upload")};FileUploadManager.prototype.onPreDrop=function(handler){this.preDropHandler=handler};FileUploadManager.prototype.onPostDrop=function(handler){this.postDropHandler=handler};FileUploadManager.prototype.onDragEnter=function(handler){this.dragEnterHandler=handler};FileUploadManager.prototype.bindDroppable=function(el){var me=this;el.addEventListener("dragover",__cancelDrag);el.addEventListener("dragenter",__cancelDrag);el.addEventListener("dragenter",function(e){if(!el.classList.contains("disabled")){el.classList.add("drag-over")}var numFileDragged=e.dataTransfer.items?e.dataTransfer.items.length:e.dataTransfer.mozItemCount;$(el).find(".file-count").html(numFileDragged);if(me.dragEnterHandler){me.dragEnterHandler(this)}});el.addEventListener("dragleave",function(){el.classList.remove("drag-over")});$(el).bind("drop",function(e){e.preventDefault();if(me.preDropHandler){if(!me.preDropHandler(e)){return}}if("items"in e.originalEvent.dataTransfer){var items=e.originalEvent.dataTransfer.items;me.loadItems(items,el)}else{for(var i=0;i<e.originalEvent.dataTransfer.files.length;i++){var file=e.originalEvent.dataTransfer.files[i];if(file.size==0){appogee.alert("Browser not supported","Your browser does not support uploading directories. Please try again, but instead of dragging the root directory, drag each file. You will need to drag the CRI file, and all assiciated video files from the <em>Video</em> and <em>Replays</em> directories.")}else{me.addFile(file)}}me.onLoadCompleteHandler(me.files,me.totalBytes,el)}});this.droppableElements.push(el);if(me.postDropHandler){if(!me.postDropHandler()){return}}};FileUploadManager.prototype.addGlobalParam=function(key,value){this.globalParams[key]=value};FileUploadManager.prototype.addFileParam=function(fileID,key,value){fileID=parseInt(fileID);for(var i=0;i<this.files.length;i++)if(this.files[i].id==fileID)this.files[i].addParam(key,value)};FileUploadManager.prototype.reset=function(items){if(this._monitor){clearInterval(this._monitor)}this.files=[];this.totalBytes=0;this._working=false;this._monitor=null;this._monitorCount=null};FileUploadManager.prototype.loadItems=function(items,el){this._working=true;var me=this;for(var i=0;i<items.length;i++){var item=items[i].webkitGetAsEntry();this.traverseFileTree(item)}this._monitor=setInterval(function(){console.log("MONITOR: "+me.files.length+" files");if(me.files.length==me._monitorCount){me._working=false;clearInterval(me._monitor);me.onLoadCompleteHandler(me.files,me.totalBytes,el)}else{me._monitorCount=me.files.length}},200)};FileUploadManager.prototype.checkFilename=function(filename){for(var i=0;i<this.ignoreFiles.length;i++){if(filename.match(this.ignoreFiles[i])){return false}}return true};FileUploadManager.prototype.traverseFileTree=function(item,path){var me=this;path=path||"";if(item.isFile){item.file(function(file){me.addFile(file,path)})}else if(item.isDirectory){var dirReader=item.createReader();var readEntries=function(){dirReader.readEntries(function(entries){if(entries.length){for(var i=0;i<entries.length;i++){me.traverseFileTree(entries[i],path+item.name+"/")}readEntries()}})};readEntries()}};FileUploadManager.prototype.addFile=function(file,path){path=path||"";if(this.checkFilename(file.name)){console.log("File:",path+file.name);var f=new UploadFile(this.files.length,file,path);this.files.push(f);this.totalBytes+=file.size;return f}else{console.log("Ignoring:",path+file.name)}};FileUploadManager.prototype.getFilesByType=function(type){type=type.toUpperCase();var files=[];for(var i=0;i<this.files.length;i++){var filename=this.files[i].path;var ext=getFileExtension(filename);if(ext&&ext.toUpperCase()==type)files.push(this.files[i])}return files};FileUploadManager.prototype.getFilesByRegex=function(regex){var files=[];for(var i=0;i<this.files.length;i++)if(this.files[i].file.name.match(regex))files.push(this.files[i]);return files};function getFileExtension(filename){var x=filename.lastIndexOf(".");if(x>-1)return filename.substring(x+1,filename.length);return""}FileUploadManager.prototype.onLoadComplete=function(handler){this.onLoadCompleteHandler=handler};FileUploadManager.prototype.onFileUploadProgress=function(handler){this.fileUploadProgressHandler=handler};FileUploadManager.prototype.onFileUploadComplete=function(handler){this.fileUploadCompleteHandler=handler};FileUploadManager.prototype.onFileUploadError=function(handler){this.fileUploadErrorHandler=handler};FileUploadManager.prototype.onUploadProgress=function(handler){this.uploadProgressHandler=handler};FileUploadManager.prototype.onUploadComplete=function(handler){this.uploadCompleteHandler=handler};FileUploadManager.prototype.onUploadStopped=function(handler){this.uploadStoppedHandler=handler};FileUploadManager.prototype.isRunning=function(){return this.status==STATUS_RUNNING};FileUploadManager.prototype.isStopping=function(){return this.status==STATUS_STOPPING};FileUploadManager.prototype.startUpload=function(){if(this.isRunning())return;this.status=STATUS_RUNNING;var me=this;this.uploadTimer=setInterval(function(){me.checkUploadPool();if(me.uploadProgressHandler){me.uploadProgressHandler(me.bytesUploaded,me.totalBytes)}},100)};FileUploadManager.prototype.stopUpload=function(){this.status=STATUS_STOPPING};FileUploadManager.prototype.resumeUpload=function(){this.startUpload()};FileUploadManager.prototype.retryErrors=function(){for(var i=0;i<this.files.length;i++){if(this.files[i].uploadStatus==UPLOAD_STATUS_ERROR){this.files[i].uploadStatus=UPLOAD_STATUS_NOT_STARTED}}this.startUpload()};FileUploadManager.prototype.setConcurrentUploads=function(x){this.concurrentUploads=x};FileUploadManager.prototype.checkUploadPool=function(){var bytesUploaded=0;var filesUploaded=0;var errors=0;var currentUploads=[];for(var i=0;i<this.files.length;i++){bytesUploaded+=this.files[i].bytesUploaded;if(this.files[i].uploadStatus==UPLOAD_STATUS_IN_PROGRESS)currentUploads.push(this.files[i]);else if(this.files[i].uploadStatus==UPLOAD_STATUS_COMPLETE)filesUploaded++;else if(this.files[i].uploadStatus==UPLOAD_STATUS_ERROR)errors++;if(this.isRunning()&&this.currentUploads.length<this.concurrentUploads&&this.files[i].uploadStatus==UPLOAD_STATUS_NOT_STARTED){currentUploads.push(this.files[i]);this.uploadFile(this.files[i])}}this.bytesUploaded=bytesUploaded;this.filesUploaded=filesUploaded;this.currentUploads=currentUploads;this.errors=errors;if(this.bytesPerSecondData.length==100)this.bytesPerSecondData.shift();this.bytesPerSecondData.push(bytesUploaded);if(filesUploaded+errors==this.files.length){this.status=STATUS_STOPPED;clearTimeout(this.uploadTimer);if(this.uploadCompleteHandler)this.uploadCompleteHandler()}if(this.isStopping()&&this.currentUploads.length==0){this.status=STATUS_STOPPED;clearTimeout(this.uploadTimer);if(this.uploadStoppedHandler)this.uploadStoppedHandler()}};FileUploadManager.prototype.getUploadRate=function(){var x=this.bytesPerSecondData;return Math.floor((x[x.length-1]-x[0])/x.length*10)};FileUploadManager.prototype.uploadFile=function(file,progressHandler,completeHandler,errorHandler){progressHandler=progressHandler||this.fileUploadProgressHandler;completeHandler=completeHandler||this.fileUploadCompleteHandler;errorHandler=errorHandler||this.fileUploadErrorHandler;var me=this;file.uploadStatus=UPLOAD_STATUS_IN_PROGRESS;this.currentUploads++;this.getUploadUrl(file,function(url,params){if(!url){file.setError("Connection Error");return}params=params||{};var fd=new FormData;fd.append("file",file.file);fd.append("filepath",file.path);fd.append("filename",file.file.name);for(key in me.globalParams)fd.append(key,me.globalParams[key]);for(key in file.params)fd.append(key,file.params[key]);for(key in params)fd.append(key,params[key]);var xhr=new XMLHttpRequest;xhr.upload.addEventListener("progress",function(e){file.bytesUploaded=e.loaded;if(progressHandler)progressHandler(file,e.loaded,e.total)});xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status==200){file.bytesUploaded=file.file.size;file.uploadStatus=UPLOAD_STATUS_COMPLETE;me.currentUploads--;if(completeHandler){completeHandler(file,JSON.parse(xhr.responseText))}}else{file.setError("Connection Error");if(errorHandler){me.errors++;errorHandler(file,xhr.StatusText)}}}};xhr.open("POST",url);xhr.send(fd)})};FileUploadManager.prototype.countUploadsRemaining=function(){var count=0;for(var i=0;i<this.files.length;i++){if(this.files[i].uploadStatus<UPLOAD_STATUS_COMPLETE)count++}return count};return FileUploadManager});define("appogee/UserPicker",["jquery","appogee/xhr","appogee/globals"],function($,xhr,globals){"use strict";var URL_PARAM_TYPE_URL="url";var URL_PARAM_TYPE_PARAM="param";var lastUserLookup=null;$(document).mouseup(function(e){var $picker=$("#userPicker");if(!$picker.is(e.target)&&$picker.has(e.target).length===0){$picker.hide()}});var UserPicker=function($textbox,callback,params){this.selectedIndex=-1;this.active=false;this.joining=false;this.cancelled=false;this.$textbox=$textbox;this.callback=callback;this.queryCallback=null;this.users=null;this.params=params||{};this.url="/api/{0}/employees/lookup/".format(xhr.API_VERSION);this.urlParamType=URL_PARAM_TYPE_URL;this.$picker=$("#userPicker");var me=this;this.$textbox.keyup(function(e){me.onKeyDown(e)});this.$textbox.attr("autocomplete","off")};UserPicker.prototype.onKeyDown=function(e){var keycode=null;if(window.event){keycode=event.keyCode}else{keycode=e.keyCode}if(keycode<48||keycode>57&&keycode<65||keycode>90){if(keycode!=globals.KEY_SPACE&&keycode!=globals.KEY_BACKSPACE&&keycode!=globals.KEY_RETURN&&keycode!=globals.KEY_ESC&&keycode!=globals.KEY_UP&&keycode!=globals.KEY_DOWN){return}}if(keycode==globals.KEY_UP){if(this.active){this.selectedIndex--;this.setSelected()}}else if(keycode==globals.KEY_DOWN){if(this.active){this.selectedIndex++;this.setSelected()}}else if(keycode==globals.KEY_RETURN){if(this.active){this.select()}}else if(keycode==globals.KEY_ESC){this.hide()}else{this.$textbox.addClass("loading");this.cancelled=false;var t=String((new Date).getTime());lastUserLookup=t;var me=this;setTimeout(function(){me.lookupUser(t)},400)}};UserPicker.prototype.lookupUser=function(queryTime){if(queryTime!=lastUserLookup){return}var query=this.$textbox.val();if(query===""){this.$textbox.data("userPickerKey",null).data("userPickerUserKey",null).data("userPickerFirstName",null).data("userPickerLastName",null).data("userPickerEmail",null);this.hide();this.$textbox.removeClass("loading");return}var me=this;var $textbox=this.$textbox;$textbox.addClass("loading");var url=this.url;var body={t:lastUserLookup,params:JSON.stringify(me.params)};if(this.urlParamType==URL_PARAM_TYPE_URL){url+=query}else if(this.urlParamType==URL_PARAM_TYPE_PARAM){body.query=query}else{throw"invalid"}$.getJSON(url,body,function(response){if(response.t==lastUserLookup){$textbox.removeClass("loading");me.users=response.employees;if(me.queryCallback){me.queryCallback(me.users)}me.populate()}})};UserPicker.prototype.setSelected=function(){this.$picker.children().removeClass("selected").eq(this.selectedIndex).addClass("selected")};UserPicker.prototype.cancel=function(){this.hide();this.cancelled=true};UserPicker.prototype.populate=function(){var me=this;if(this.cancelled||this.users.length===0){this.hide();return}this.$picker.html("");$.each(this.users,function(i,user){var userName='"'+user.firstName+" "+user.lastName+'" &lt;'+user.email+"&gt;";var div=$("<div />").html(userName).toggleClass("selected",i==me.selectedIndex).click(function(){me.selectedIndex=i;me.select()}).hover(function(){$(this).parent().children().removeClass("selected");$(this).addClass("selected");me.selectedIndex=$(this).index()},function(){});me.$picker.append(div)});this.show()};UserPicker.prototype.select=function(){if(this.selectedIndex>-1&&this.selectedIndex<this.users.length){var user=this.users[this.selectedIndex];this.$textbox.val(user.email).data("userPickerKey",user.key).data("userPickerUserKey",user.userKey).data("userPickerFirstName",user.firstName).data("userPickerLastName",user.lastName).data("userPickerEmail",user.email);if(this.callback){this.callback(user,this.$textbox)}}this.hide()};UserPicker.prototype.show=function(){var $textbox=this.$textbox;$("#userPicker").show().position({my:"left top",at:"left bottom",of:$textbox});this.active=true};UserPicker.prototype.hide=function(){this.$picker.hide();this.active=false};return UserPicker});define("appogee",["jquery","underscore","appogee/i18n","appogee/util","appogee/xhr","appogee/ui","appogee/validation","appogee/globals","appogee/cookies","appogee/notifier","appogee/localConfig","appogee/FileUploadManager","appogee/UserPicker"],function($,_,i18n,util,xhr,ui,validation,globals,cookies,Notifier,localConfig,FileUploadManager,UserPicker){"use strict";var ACCESS_LEVEL={NONE:0,MASKED:1,MASKED_READ:2,READ:3,MASKED_EDIT:4,EDIT:5};var LogType={ViewMaskedField:1005};var AppAlias={Hr:"hr",Leave:"leave"};if(!String.prototype.format){String.prototype.format=function(){var args=[this];for(var i=0;i<arguments.length;i++){args.push(arguments[i])}return util.formatString.apply(this,args)}}if(typeof String.prototype.startsWith!="function"){String.prototype.startsWith=function(str){return this.slice(0,str.length)==str}}if(typeof String.prototype.endsWith!="function"){String.prototype.endsWith=function(str){return this.slice(-str.length)==str}}function trans(){var args=Array.prototype.slice.call(arguments);var word=args[0];var stringArgs=null;if(args.length==2){stringArgs=args[args.length-1]}else{stringArgs=args.slice(1,args.length-1)}word=String.prototype.format.call(word,stringArgs);return word;return word.format(a,b,c,d,e,f)}var SETTINGS=null;function getSettings(){return SETTINGS}function setSettings(settings){SETTINGS=settings}function getHostname(module){var i=["app","asc","sysadmin","api","developers"].indexOf(module);return SETTINGS.p.hn[i]}function getNs(){return SETTINGS.c.ns}function getAppAlias(){return SETTINGS.p.a.a}function getAppName(){return SETTINGS.p.a.n}function isHr(){return getAppAlias()==AppAlias.Hr}function isLeave(){return getAppAlias()==AppAlias.Leave}function getToilTerm(){return SETTINGS.c.toil}function getInstallDate(){return SETTINGS.c.installDate}function isAdusEnabled(){return SETTINGS.c.adusEnabled}function canCustomerAccessHr(){return SETTINGS.c.hr}function isCustomerP1(){return SETTINGS.c.p1}function getLeaveStartMonth(){return SETTINGS.c.lsm}function getGappsStatus(){return SETTINGS.c.gs}function getO365Status(){return SETTINGS.c.os}function getCsrfToken(){return SETTINGS.p.t}function getHideHours(){return SETTINGS.c.hideHours}function getSupportedLocales(){return["en_US","fr_FR","es_ES"]}var CURRENT_USER=null;function getCurrentUser(){return CURRENT_USER}function setCurrentUser(user){CURRENT_USER=user}var ADUS=null;function getAdus(options){if(!options){return ADUS}if(options.root){if(options.root=="self"){if(CURRENT_USER.isAduManager()){return ADUS}var adus=_.filter(ADUS,function(adu){return adu.isDescendent(CURRENT_USER.adu,true)});return adus}}}function getRootAdu(){var adus=getAdus();for(var i=0;i<adus.length;i++){if(adus[i].level==1){return adus[i]}}}function setAdus(adus){ADUS=adus}var notifier=new Notifier;function notify(message,messageType,autoHide){if(message){return notifier.notify(message,messageType,{autoHide:autoHide,artificiallyDelay:false})}else{return notifier.hide()}}function log(eventType,detail,targetKey,callback){var body={type:eventType,targetKey:targetKey};if(detail){body.detail=detail}var options={error:function(){}};this._HANDLE_ERROR=false;xhr.api.post("/log",body,function(response){if(callback){callback(response)}},options)}function dismissFlashMessage(msgId,callback){xhr.ajax.post("/user/dismiss-flash",{msgId:msgId},callback)}function monitorJob(key,callback){var timer=setInterval(function(){var params={key:key};$.getJSON("/jobs/monitor",params,function(response){if(response.complete){clearInterval(timer);callback()}})},2e3)}function today(){var now=new Date;now.setHours(0,0,0,0);return now}function isXsScreen(){return window.innerWidth<globals.XS_SCREEN_WIDTH}function isSmScreen(inclusive){if(inclusive){return window.innerWidth<globals.SM_SCREEN_WIDTH}return window.innerWidth>=globals.XS_SCREEN_WIDTH&&window.innerWidth<globals.SM_SCREEN_WIDTH}function isMdScreen(inclusive){if(inclusive){return window.innerWidth>=globals.SM_SCREEN_WIDTH&&window.innerWidth<globals.MD_SCREEN_WIDTH}return window.innerWidth<globals.MD_SCREEN_WIDTH}function isLgScreen(){return window.innerWidth>=globals.MD_SCREEN_WIDTH}function getBootstrapBreakpoint(){if(window.innerWidth<globals.XS_SCREEN_WIDTH){return"xs"}else if(window.innerWidth<globals.SM_SCREEN_WIDTH){return"sm"}else if(window.innerWidth<globals.MD_SCREEN_WIDTH){return"md"}else{return"lg"}}return{ACCESS_LEVEL:ACCESS_LEVEL,getSettings:getSettings,setSettings:setSettings,getHostname:getHostname,getToilTerm:getToilTerm,getHideHours:getHideHours,getInstallDate:getInstallDate,isAdusEnabled:isAdusEnabled,getNs:getNs,getAppAlias:getAppAlias,getAppName:getAppName,
isHr:isHr,isLeave:isLeave,canCustomerAccessHr:canCustomerAccessHr,isCustomerP1:isCustomerP1,getLeaveStartMonth:getLeaveStartMonth,getGappsStatus:getGappsStatus,getO365Status:getO365Status,getCsrfToken:getCsrfToken,getSupportedLocales:getSupportedLocales,getCurrentUser:getCurrentUser,setCurrentUser:setCurrentUser,getAdus:getAdus,getRootAdu:getRootAdu,setAdus:setAdus,isXsScreen:isXsScreen,isSmScreen:isSmScreen,isMdScreen:isMdScreen,isLgScreen:isLgScreen,getBootstrapBreakpoint:getBootstrapBreakpoint,getStrings:i18n.getStrings,getString:i18n.getString,API_VERSION:xhr.API_VERSION,ajax:xhr.ajax,xhr:xhr.ajax,api:xhr.api,load:xhr.load,pageLoad:xhr.pageLoad,trans:trans,today:today,log:log,LogType:LogType,cookies:cookies,ui:ui,util:util,localConfig:localConfig,globals:globals,validation:validation,FileUploadManager:FileUploadManager,UserPicker:UserPicker,notifier:notifier,notify:notify,dismissFlashMessage:dismissFlashMessage,monitorJob:monitorJob,Dialog:ui.Dialog,View:ui.View,AuditView:ui.AuditView,alert:ui.alert,valert:ui.valert,salert:ui.salert,confirm:ui.confirm,confirmContinue:ui.confirmContinue,sconfirm:ui.sconfirm,yesNo:ui.yesNo,yesNoContinue:ui.yesNoContinue,prompt:ui.prompt}});define("ADU",["jquery","underscore"],function($,_){"use strict";var ADU=function(adu){$.extend(true,this,adu)};ADU.prototype.isParent=function(adu,inclusive){inclusive=inclusive?inclusive:false;var aduPath=adu;if(_.isObject(adu)){aduPath=adu.path}if(this.path==aduPath){return inclusive}return aduPath.substring(0,this.path.length)==this.path};ADU.prototype.isDescendent=function(adu,inclusive){inclusive=inclusive?inclusive:false;var aduPath=adu;if(_.isObject(adu)){aduPath=adu.path}if(this.path==aduPath){return inclusive}return this.path.substring(0,aduPath.length)==aduPath};return ADU});define("User",["jquery","underscore","appogee","ADU"],function($,_,appogee,ADU){"use strict";var ROLE_MANAGER="manager";var ROLE_HR="hr";var ROLE_ADU="adu";var ROLE_ADMIN="admin";var ROLE_SYSADMIN="sysadmin";var ROLE_ASC_READER="asc_reader";var ROLE_ASC_EDITOR="asc_editor";var ROLE_ASC_ORDERS="asc_orders";var TEAM_ROLE_READER="reader";var TEAM_ROLE_EDITOR="editor";var TEAM_ROLE_PRIMARY="primary";var FIELD_ACCESS_LEVEL_NONE=0;var FIELD_ACCESS_LEVEL_MASKED=1;var FIELD_ACCESS_LEVEL_MASKED_READ=2;var FIELD_ACCESS_LEVEL_READ=3;var FIELD_ACCESS_LEVEL_MASKED_EDIT=4;var FIELD_ACCESS_LEVEL_EDIT=5;var RECORD_ACCESS_LEVEL_NONE=0;var RECORD_ACCESS_LEVEL_TITLE_ONLY=1;var RECORD_ACCESS_LEVEL_READ=3;var RECORD_ACCESS_LEVEL_EDIT=5;var RECORD_ACCESS_LEVEL_DELETE=6;var FlashMessages={GappsReviewMsg:3,P2Migration:4};var JQUERY_DATE_FORMAT_STRING_MAP={"%d/%m/%Y":"dd/mm/yy","%d/%m/%y":"dd/mm/y","%m/%d/%Y":"mm/dd/yy","%m/%d/%y":"mm/dd/y","%m-%d-%Y":"mm-dd-yy","%m-%d-%y":"mm-dd-y","%Y-%m-%d":"yy-mm-dd","%d-%b-%Y":"dd-M-yy"};var User=function(user){$.extend(true,this,user);this.adu=new ADU(this.adu);if(this.dateFormatString){this.jqueryDateFormatString=JQUERY_DATE_FORMAT_STRING_MAP[this.dateFormatString];if(this.timeFormatString){this.dateTimeFormatString=this.dateFormatString+" "+this.timeFormatString}}};User.prototype.getDomain=function(email){if(!email){email=this.email}return email.split("@")[1]};User.prototype.getActiveAdu=function(){var adus=appogee.getAdus();if(!adus){return this.adu}var key=appogee.cookies.get("aduKey");if(!key){key=this.adu.key}var adu=_.findWhere(adus,{key:key});if(!adu){adu=adus[0]}if(!this.isAduManager()&&adu.isParent(this.adu)){adu=this.adu}return adu};User.prototype.getActiveAduKey=function(){var adu=this.getActiveAdu();if(adu){return adu.key}};User.prototype.canAccess=function(app){return this.logins&&this.logins.indexOf(app)>-1};User.prototype.canAccessHr=function(){return this.canAccess("hr")};User.prototype.canAccessLeave=function(){return this.canAccess("leave")};User.prototype.isLeaveStandalone=function(){return this.canAccessLeave()&&!this.canAccessHr()};User.prototype.isHrStandalone=function(){return this.canAccessHr()&&!this.canAccessLeave()};User.prototype.hasRole=function(role){return this.roles&&this.roles.indexOf(role)>-1};User.prototype.isAdmin=function(){return this.hasRole(ROLE_ADMIN)};User.prototype.isSysAdmin=function(){return this.hasRole(ROLE_SYSADMIN)};User.prototype.isAscReader=function(){return this.hasRole(ROLE_ASC_READER)};User.prototype.isAscEditor=function(){return this.hasRole(ROLE_ASC_EDITOR)};User.prototype.isAscOrders=function(){return this.hasRole(ROLE_ASC_ORDERS)};User.prototype.isHrAdmin=function(){return this.hasRole(ROLE_HR)};User.prototype.isHrManager=function(){return this.hasRole(ROLE_HR)};User.prototype.isHrManagerFor=function(employee){if(this.hasRole(ROLE_HR)){return this.adu.isParent(employee.adu,true)}return false};User.prototype.isAduManager=function(){return this.hasRole(ROLE_ADU)};User.prototype.isManager=function(){return this.hasRole(ROLE_MANAGER)};User.prototype.isManagerEditor=function(){if(!this.managedTeams){return false}for(var i=0;i<this.managedTeams.length;i++){if(this.managedTeams[i].role==TEAM_ROLE_EDITOR){return true}}return false};User.prototype.isOnlyAdmin=function(){return this.roles.length==1&&this.isAdmin()};User.prototype.isOnlyHrAdmin=function(){return this.roles.length==1&&this.isHrAdmin()};User.prototype.isOnlyManager=function(){return this.roles.length===1&&this.isManager()};User.prototype.isOnlyEmployee=function(){return this.roles.length===0};User.prototype.getManagedTeamKeys=function(role){if(!role){role=TEAM_ROLE_READER}var keys=[];for(var i=0;i<this.managedTeams.length;i++){var team=this.managedTeams[i];if(role==TEAM_ROLE_READER){keys.push(team.key)}else if(role==TEAM_ROLE_EDITOR&&team.role==TEAM_ROLE_EDITOR){keys.push(team.key)}else if(role==TEAM_ROLE_PRIMARY&&team.primary){keys.push(team.key)}}return keys};User.prototype.isSomeKindOfManagerFor=function(employee,editor){if(this.isAduManager()){return true}if(this.isHrManagerFor(employee)){return true}if(this.isManagerFor(employee,editor)){return true}return false};User.prototype.isManagerFor=function(employee,editor){var role=TEAM_ROLE_READER;if(editor){role=TEAM_ROLE_EDITOR}if(!this.isManager()){return false}var managedTeamKeys=this.getManagedTeamKeys(role);if(employee.team&&managedTeamKeys.indexOf(employee.team.key)>-1){return true}if(employee.vteam&&managedTeamKeys.indexOf(employee.vteam.key)>-1){return true}return false};User.prototype.isManagerForTeam=function(team,editor){var role=TEAM_ROLE_READER;if(editor){role=TEAM_ROLE_EDITOR}if(!this.isManager()){return false}var managedTeamKeys=this.getManagedTeamKeys(role);return managedTeamKeys.indexOf(team.key)>-1};User.prototype.isManagerForDocument=function(document,editor){var role=TEAM_ROLE_READER;if(editor){role=TEAM_ROLE_EDITOR}if(!this.isManager()){return false}var i=0;var managedTeamKeys=this.getManagedTeamKeys(role);if(document.access.teams){for(i=0;i<document.access.teams.length;i++){if(managedTeamKeys.indexOf(document.access.teams[i].key)>-1){return true}}}else if(document.access.teamKeys){for(i=0;i<document.access.teamKeys.length;i++){if(managedTeamKeys.indexOf(document.access.teamKeys[i])>-1){return true}}}return false};User.prototype.canOpenProfile=function(employee){if(this.isHrManager()){return true}if(this.isManagerFor(employee)){return true}if(this.key==employee.key){return true}return false};User.prototype.canCreateCompanyDocuments=function(categories){if(this.isHrAdmin()){return true}if(!this.isManagerEditor()){return false}for(var i=0;i<categories.length;i++){if(categories[i].access.managerCreate){return true}}return false};User.prototype.canCreateCompanyDocument=function(category){if(this.isHrAdmin()){return true}if(!this.isManager()){return false}return category.access.managerCreate};User.prototype.canDeleteRecord=function(record){if(record.category.type=="record"){return this.canDeleteEmployeeRecord(record)}else{return this.canDeleteCompanyDocument(record)}};User.prototype.canDeleteCompanyDocument=function(document){if(this.isHrAdmin()){return true}if(this.isManager()&&document.access.manager>=RECORD_ACCESS_LEVEL_DELETE&&document.access.teamKeys&&document.access.teamKeys.length){for(var i=0;i<this.managedTeams.length;i++){var team=this.managedTeams[i];if(document.access.teamKeys.indexOf(team.key)>-1){return true}}}return false};User.prototype.canDeleteEmployeeRecord=function(document){if(this.isHrAdmin()){return true}};User.prototype.canOpenRecord=function(record){if(record.category.type=="record"){return this.canOpenEmployeeRecord(record)}else{return this.canOpenCompanyDocument(record)}};User.prototype.canOpenCompanyDocument=function(document){if(this.isHrAdmin()){return true}var isMember=false;if(!this.isManager()){if(document.access.teamKeys&&document.access.teamKeys.length){isMember=document.access.teamKeys.indexOf(this.team.key)>-1;if(!isMember){return false}}return document.access.user>=RECORD_ACCESS_LEVEL_READ}if(document.access.teamKeys&&document.access.teamKeys.length){isMember=document.access.teamKeys.indexOf(this.team.key)>-1;var isManager=false;for(var i=0;i<this.managedTeams.length;i++){var team=this.managedTeams[i];if(document.access.teamKeys.indexOf(team.key)>-1){isManager=true;break}}if(!isMember&&!isManager){return false}}return document.access.manager>=RECORD_ACCESS_LEVEL_READ};User.prototype.canOpenEmployeeRecord=function(record){if(this.isHrManager()){return true}if(this.isManager()){if(record.employee&&record.employee.team){if(this.isManagerFor(record.employee,false)&&record.access.manager>=RECORD_ACCESS_LEVEL_READ){return true}}else{}}if(record.employee){if(this.key==record.employee.key&&record.access.user>=RECORD_ACCESS_LEVEL_READ){return true}}else{}if(record.owner&&this.key==record.owner.key){return true}return false};User.prototype.canEditRecord=function(record){if(record.category.type=="record"){return this.canEditEmployeeRecord(record)}else{return this.canEditCompanyDocument(record)}};User.prototype.canEditCompanyDocument=function(document){if(this.adu.isDescendent(document.adu)){return false}if(this.isHrAdmin()){return true}var isMember=false;if(!this.isManager()){if(document.access.teamKeys&&document.access.teamKeys.length){isMember=document.access.teamKeys.indexOf(this.team.key)>-1;if(!isMember){return false}}return document.access.user>=RECORD_ACCESS_LEVEL_EDIT}if(document.access.teamKeys&&document.access.teamKeys.length){isMember=document.access.teamKeys.indexOf(this.team.key)>-1;var isManager=false;for(var i=0;i<this.managedTeams.length;i++){var team=this.managedTeams[i];if(team.role==TEAM_ROLE_READER){isManager=false;break}if(document.access.teamKeys.indexOf(team.key)>-1){isManager=true;break}}if(!isManager){return false}}else{return false}return document.access.manager>=RECORD_ACCESS_LEVEL_EDIT};User.prototype.canEditEmployeeRecord=function(record){if(this.isHrManager()){return true}if(this.isManager()){if(record.employee&&record.employee.team){for(var i=0;i<this.managedTeams.length;i++){var team=this.managedTeams[i];if(team.key!=record.employee.team.key){continue}if(team.role==TEAM_ROLE_READER){return false}if(record.access.manager>=RECORD_ACCESS_LEVEL_EDIT){return true}}}else{}}if(record.employee){if(this.key==record.employee.key&&record.access.user>=RECORD_ACCESS_LEVEL_EDIT){return true}}else{}if(record.owner&&this.key==record.owner.key){return true}return false};User.prototype.canCreateEmployeeRecords=function(categories,employee){if(this.isHrAdmin()){return true}var i=0;if(employee&&this.key==employee.key){for(i=0;i<categories.length;i++){if(categories[i].access.userCreate){return true}}}if(this.isManager()){if(employee){if(!this.isManagerFor(employee,true)){return false}}for(i=0;i<categories.length;i++){if(categories[i].access.managerCreate){return true}}return false}return false};User.prototype.canCreateEmployeeRecord=function(employee,category){if(this.isHrAdmin()){return true}if(this.isManagerFor(employee,true)){if(category.access.managerCreate){return true}}return this.key==employee.key&&category.access.userCreate};User.prototype.canReadChecklist=function(checklist){if(this.isHrAdmin()){return true}var canRead=false;if(this.isManager()){canRead=this.isManagerFor(checklist.assignedTo)}if(!canRead){canRead=checklist.assignedTo.key==this.key}return canRead};User.prototype.canEditChecklist=function(checklist){if(this.isHrAdmin()){return true}var canEdit=false;if(this.isManager()){canEdit=this.isManagerFor(checklist.assignedTo,true)}return canEdit};User.prototype.canCompleteChecklist=function(checklist){if(this.isHrAdmin()){return true}var canEdit=false;if(this.isManager()){canEdit=this.isManagerFor(checklist.assignedTo,true)}if(!canEdit){canEdit=checklist.assignedTo.key==this.key}return canEdit};User.prototype.canAssignChecklists=function(templates){throw"Not Implemented"};User.prototype.formatDate=function(d){if(!d){return""}return appogee.util.date.toString(d,this.dateFormatString)};User.prototype.getFlashMsg=function(msgId){var msg=_.find(this.flashMsgs,function(flashMsg){return flashMsg.split("~")[0]==msgId});return msg};User.prototype.canShowFlashMsg=function(msgId){var msg=this.getFlashMsg(msgId);if(!msg){return false}var bits=msg.split("~");if(bits.length>0){return bits[1]=="u"}};return User});define("hbs!templates/popups/RoleSwitcherPopup",["hbs/handlebars","templates/helpers/s","templates/helpers/ifany"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/my" class="role">\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"My HR",{name:"s",hash:{},data:data}))+"\n\t</a>\n"},3:function(depth0,helpers,partials,data){var helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/my/leave" class="role">\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"My Leave",{name:"s",hash:{},data:data}))+"\n\t</a>\n"},5:function(depth0,helpers,partials,data){var stack1,helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/mgmt" class="role sep">\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Management",{name:"s",hash:{},data:data}))+"\n\t</a>\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showReporting:depth0,{name:"if",hash:{},fn:this.program(6,data,0),inverse:this.noop,data:data}))!=null?stack1:"")},6:function(depth0,helpers,partials,data){var helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/reporting" class="role">\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Reporting",{name:"s",hash:{},data:data}))+"\n\t</a>\n"},8:function(depth0,helpers,partials,data){var helper;return'\t\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/admin" class="role sep">\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Org Admin",{name:"s",hash:{},data:data}))+'\n\t\t</a>\n\t\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/config" class="role">\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Configuration",{name:"s",hash:{},data:data}))+"\n\t\t</a>\n"},10:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.isHr:depth0,{name:"if",hash:{},fn:this.program(11,data,0),inverse:this.noop,data:data}))!=null?stack1:""},11:function(depth0,helpers,partials,data){var helper;return'\t\t<a href="'+this.escapeExpression((helper=(helper=helpers.appHostname||(depth0!=null?depth0.appHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"appHostname",hash:{},data:data}):helper))+'/admin" class="role sep">\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Org Admin",{name:"s",hash:{},data:data}))+"\n\t\t</a>\n\t"},13:function(depth0,helpers,partials,data){var helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.ascHostname||(depth0!=null?depth0.ascHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"ascHostname",hash:{},data:data}):helper))+'" class="role sep">\n\t\tASC\n\t</a>\n'},15:function(depth0,helpers,partials,data){var stack1,helper;return'\t<a href="'+this.escapeExpression((helper=(helper=helpers.sysAdminHostname||(depth0!=null?depth0.sysAdminHostname:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"sysAdminHostname",hash:{},data:data}):helper))+'" class="role '+((stack1=helpers.unless.call(depth0,depth0!=null?depth0.isAscReader:depth0,{name:"unless",hash:{},fn:this.program(16,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'">\n\t\tSysAdmin\n\t</a>\n'},16:function(depth0,helpers,partials,data){return"sep"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<div class="role-switcher-popup">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canAccessHr:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canAccessLeave:depth0,{name:"if",hash:{},fn:this.program(3,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=(helpers.ifany||depth0&&depth0.ifany||helpers.helperMissing).call(depth0,depth0!=null?depth0.isManager:depth0,depth0!=null?depth0.isHr:depth0,{name:"ifany",hash:{},fn:this.program(5,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.isAdmin:depth0,{name:"if",hash:{},fn:this.program(8,data,0),inverse:this.program(10,data,0),data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.isAscReader:depth0,{name:"if",hash:{},fn:this.program(13,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.isSysAdmin:depth0,{name:"if",hash:{},fn:this.program(15,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"</div>"},useData:true});Handlebars.registerPartial("templates/popups/RoleSwitcherPopup",t);return t});define("views/popups/RoleSwitcherPopup",["jquery","underscore","appogee","hbs!templates/popups/RoleSwitcherPopup"],function($,_,appogee,tmpl){"use strict";var KEY_ESC=27;var Dialog=function($el){var _this5=this;this.$el=$el;this.isHovering=false;this.lastShow=null;this.$popup=$("<div />").addClass("popup");this.$popup.appendTo("body");this.$popup.hover(function(){_this5.isHovering=true},function(){_this5.isHovering=false});$("body").click(function(){_this5.hide()});$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this5.hide()}});this.currentUser=appogee.getCurrentUser()};Dialog.prototype.render=function(){var showReporting=true;if(this.currentUser.canAccessHr()&&!this.currentUser.canAccessLeave()&&this.currentUser.isManager()&&!this.currentUser.isHrManager()){showReporting=false}var appHostname=appogee.getHostname("app");var ascHostname=appogee.getHostname("asc");var sysAdminHostname=appogee.getHostname("sysadmin");var data={user:this.currentUser,isManager:this.currentUser.isManager(),isHr:this.currentUser.isHrManager(),isAdmin:this.currentUser.isAdmin(),isSysAdmin:this.currentUser.isSysAdmin(),isAscReader:this.currentUser.isAscReader(),canAccessHr:this.currentUser.canAccessHr(),canAccessLeave:this.currentUser.canAccessLeave(),showReporting:showReporting,appHostname:appHostname,ascHostname:ascHostname,sysAdminHostname:sysAdminHostname};this.$popup.html(tmpl(data))};Dialog.prototype.show=function(){this.render();this.lastShow=(new Date).getTime();this.$popup.position({my:"left top",at:"left bottom",of:this.$el}).css("visibility","visible")};Dialog.prototype.hide=function(){if(!this.lastShow){return}if(this.isHovering){return false}var now=(new Date).getTime();if(now-this.lastShow<10){return}var me=this;if(this.$popup.css("visibility")=="visible"){this.$popup.fadeOut("fast",function(){me.$popup.show();me.$popup.css("visibility","hidden")})}};return Dialog});define("hbs!templates/popups/AlertsPopup",["hbs/handlebars"],function(Handlebars){var t=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){return'<div class="alerts-popup">\n\t<header>\n\t\t<a href="javascript: void(0);" class="selected">\n\t\t\tActions (4)\n\t\t</a>\n\t\t<a href="javascript: void(0);">\n\t\t\tNotifications (1)\n\t\t</a>\n\t</header>\n\t<nav>\n\t\t<a href="javascript: void(0);" title="Checklist Actions">\n\t\t\t<i class="material-icons md-24">check_circle</i>\n\t\t</a>\n\t\t<a href="javascript: void(0);" title="Document Actions" class="selected">\n\t\t\t<i class="material-icons md-24">import_contacts</i>\n\t\t</a>\n\t\t<a href="javascript: void(0);" title="Record Actions">\n\t\t\t<i class="material-icons md-24">library_books</i>\n\t\t</a>\n\t\t<a href="javascript: void(0);" title="Leave Actions">\n\t\t\t<i class="material-icons md-24">airplanemode_active</i>\n\t\t</a>\n\t</nav>\n\t<ul>\n\t\t<li>\n\t\t\t<a href="javascript: void(0);">Action 1</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href="javascript: void(0);">Action 2</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href="javascript: void(0);">Action 3</a>\n\t\t</li>\n\t\t<li>\n\t\t\t<a href="javascript: void(0);">Action 4</a>\n\t\t</li>\n\t</ul>\n\t<footer>\n\t\t<button class="btn btn-sm btn-default">\n\t\t\t<i class="glyphicon glyphicon-refresh"></i>\n\t\t\tRefresh\n\t\t</button>\n\t\t<button class="btn btn-sm btn-default">\n\t\t\tView All\n\t\t</button>\n\t\t<button class="btn btn-sm btn-default">\n\t\t\t<i class="material-icons md-24">clear_all</i>\n\t\t\t\n\t\t\t<i class="mdi mdi-notification-clear-all"></i>\n\t\t\t\n\t\t\tDismiss All\n\t\t</button>\n\t</foooter>\n</div>'},useData:true});Handlebars.registerPartial("templates/popups/AlertsPopup",t);return t});define("views/popups/AlertsPopup",["jquery","underscore","appogee","hbs!templates/popups/AlertsPopup"],function($,_,appogee,tmpl){"use strict";var KEY_ESC=27;var Dialog=function($el){var _this6=this;this.$el=$el;this.isHovering=false;this.lastShow=null;this.$popup=$("<div />").addClass("popup");this.$popup.appendTo("body");this.$popup.hover(function(){_this6.isHovering=true},function(){_this6.isHovering=false});$("body").click(function(){_this6.hide()});$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this6.hide()}})};Dialog.prototype.render=function(){var me=this;var data={};this.$popup.html(tmpl(data))};Dialog.prototype.show=function(){this.render();this.lastShow=(new Date).getTime();this.$popup.position({my:"right top",at:"right bottom",of:this.$el}).css("visibility","visible")};Dialog.prototype.hide=function(){if(!this.lastShow){return}if(this.isHovering){return false}var now=(new Date).getTime();if(now-this.lastShow<10){return}var me=this;if(this.$popup.css("visibility")=="visible"){this.$popup.fadeOut("fast",function(){me.$popup.show();me.$popup.css("visibility","hidden")})}};return Dialog});define("hbs!templates/popups/AccountPopup",["hbs/handlebars","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var helper;return'\t<div class="customer" data-id="'+this.escapeExpression((helper=(helper=helpers.ns||(depth0!=null?depth0.ns:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"ns",hash:{},data:data}):helper))+'">\n\t\t<div class="pull-right">\n\t\t\t<div class="customer-logo"><img src="'+this.escapeExpression((helper=(helper=helpers.companyLogo||(depth0!=null?depth0.companyLogo:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"companyLogo",hash:{},data:data}):helper))+'" height="35px"/></div>\n\t\t</div>\n\t\t<div class="pull-left">\n\t\t\t<div class="customer-name">'+this.escapeExpression((helper=(helper=helpers.companyName||(depth0!=null?depth0.companyName:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"companyName",hash:{},data:data}):helper))+'</div>\n\t\t\t<div class="customer-details">'+this.escapeExpression((helper=(helper=helpers.jobTitle||(depth0!=null?depth0.jobTitle:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"jobTitle",hash:{},data:data}):helper))+'</div>\n\t\t</div>\n\t\t<div class="clearfix"></div>\n\t</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<div class="account-popup">\n\t<div class="content">\n\t\t<div class="image">\n\t\t\t<img src="'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.currentUser:depth0)!=null?stack1.imageUrl:stack1,depth0))+'" />\n\t\t</div>\n\t\t<div class="account-details">\n\t\t\t<div class="account-name">'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.currentUser:depth0)!=null?stack1.firstName:stack1,depth0))+" "+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.currentUser:depth0)!=null?stack1.lastName:stack1,depth0))+'</div>\n\t\t\t<div class="account-email">'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.currentUser:depth0)!=null?stack1.email:stack1,depth0))+'</div>\n\t\t</div>\n\t\t<div class="clearfix"></div>\n\t</div>\n\t\n'+((stack1=helpers.each.call(depth0,depth0!=null?depth0.accounts:depth0,{name:"each",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\n\t<footer class="popup-footer">\n\t\t<a href="/account/preferences" class="btn btn-default btn-sm">\n\t\t\t<i class="glyphicon glyphicon-cog"></i>\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Preferences",{name:"s",hash:{},data:data}))+'\n\t\t</a>\n\t\t<a href="/account/password" class="btn btn-default btn-sm">\n\t\t\t<i class="glyphicon glyphicon-lock"></i>\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Change Password",{name:"s",hash:{},data:data}))+'\n\t\t</a>\n\t\t<a href="/logout" class="btn btn-default btn-sm">\n\t\t\t<i class="glyphicon glyphicon-log-out"></i>\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Logout",{name:"s",hash:{},data:data}))+"\n\t\t</a>\n\t</footer>\n</div>"},useData:true});Handlebars.registerPartial("templates/popups/AccountPopup",t);return t});define("views/popups/AccountPopup",["jquery","underscore","appogee","hbs!templates/popups/AccountPopup"],function($,_,appogee,tmpl){"use strict";var KEY_ESC=27;var Dialog=function($el){var _this7=this;this.$el=$el;this.isHovering=false;this.loadingAccounts=false;this.lastShow=null;this.$popup=$("<div />").addClass("popup");this.$popup.appendTo("body");this.$popup.hover(function(){_this7.isHovering=true},function(){_this7.isHovering=false});this.accounts=null;this.currentUser=appogee.getCurrentUser();$("body").click(function(){_this7.hide()});$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this7.hide()}})};Dialog.prototype.render=function(){var _this8=this;if(this.accounts===null){this.loadAccounts()}var data={currentUser:this.currentUser,accounts:this.accounts,loadingAccounts:this.loadingAccounts};this.$popup.html(tmpl(data));$(".customer").click(function(e){var ns=$(e.currentTarget).data("id");_this8.switchAccount(ns)})};Dialog.prototype.loadAccounts=function(){var _this9=this;if(this.currentUser&&this.currentUser.nsc>1&&!this.loadingAccounts){this.loadingAccounts=true;this.render();var url="/user/accounts";appogee.xhr.get(url,function(accounts){_this9.accounts=accounts;_this9.loadingAccounts=false;_this9.render()})}};Dialog.prototype.switchAccount=function(namespace){var url="/user/switch-account";var body={ns:namespace};appogee.xhr.post(url,body,function(){window.location.reload()})};Dialog.prototype.show=function(){this.render();this.lastShow=(new Date).getTime();this.$popup.position({my:"right top",at:"right bottom",of:this.$el}).css("visibility","visible")};Dialog.prototype.hide=function(){if(!this.lastShow){return}if(this.isHovering){return false}var now=(new Date).getTime();if(now-this.lastShow<10){return}var me=this;if(this.$popup.css("visibility")=="visible"){this.$popup.fadeOut("fast",function(){me.$popup.show();me.$popup.css("visibility","hidden")})}};return Dialog});define("hbs!templates/popups/SupportPopup",["hbs/handlebars","templates/helpers/s","templates/helpers/ifequal","templates/helpers/ifany"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return"#googtrans(en|fr)"},3:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.locale:stack1,"es_ES",{name:"ifequal",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:""},4:function(depth0,helpers,partials,data){return"#googtrans(en|es)"},6:function(depth0,helpers,partials,data){return'\t<a href="/admin/overview" class="static">\n\t\t<i class="fa fa-book"></i>\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"{app_name} Overview",{name:"s",hash:{app_name:depth0!=null?depth0.appName:depth0},data:data}))+"\n\t</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<div class="support-popup">\n\t<header>\n\t\t<h4>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Help",{name:"s",hash:{},data:data}))+'</h4>\n\t\t<div class="input-group">\n\t\t\t<input type="text" class="form-control input-sm" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"What do you need help with?",{name:"s",hash:{},data:data}))+'" />\n\t\t\t<span class="input-group-btn">\n\t\t\t\t<button type="button" class="btn btn-sm">\n\t\t\t\t\t<i class="glyphicon glyphicon-search"></i>\n\t\t\t\t</button>\n\t\t\t</span>\n\t\t</div>\n\t</header>\n\t<div class="search_results"></div>\n\t<a href="https://help.appogeehr.com/support/home'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.user:depth0)!=null?stack1.locale:stack1,"fr_FR",{name:"ifequal",hash:{},fn:this.program(1,data,0),inverse:this.program(3,data,0),data:data}))!=null?stack1:"")+'" target="_FRESHDESK" class="static">\n\t\t<i class="fa fa-ticket"></i>\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Knowledge Base",{name:"s",hash:{},data:data}))+'\n\t</a>\n\t<a href="javascript: void(0);" class="static question">\n\t\t<i class="fa fa-question"></i>\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Submit Support Ticket",{name:"s",hash:{},data:data
}))+"\n\t</a>\n\n"+((stack1=(helpers.ifany||depth0&&depth0.ifany||helpers.helperMissing).call(depth0,depth0!=null?depth0.isHr:depth0,depth0!=null?depth0.isAdmin:depth0,{name:"ifany",hash:{},fn:this.program(6,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"</div>"},useData:true});Handlebars.registerPartial("templates/popups/SupportPopup",t);return t});define("hbs!templates/popups/SupportPopupFreshdeskResults",["hbs/handlebars","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'\t<div class="loading">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Loading ...",{name:"s",hash:{},data:data}))+"</div>\n"},3:function(depth0,helpers,partials,data){var stack1;return'\t<div class="search-results">\n'+((stack1=helpers.each.call(depth0,depth0!=null?depth0.results:depth0,{name:"each",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t</div>\n"},4:function(depth0,helpers,partials,data){var helper;return'\t\t<a href="https://help.appogeehr.com'+this.escapeExpression((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"url",hash:{},data:data}):helper))+'" target="_FRESHDESK" class="static">'+this.escapeExpression((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"title",hash:{},data:data}):helper))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.loading:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.program(3,data,0),data:data}))!=null?stack1:""},useData:true});Handlebars.registerPartial("templates/popups/SupportPopupFreshdeskResults",t);return t});define("views/popups/SupportPopup",["jquery","underscore","appogee","hbs!templates/popups/SupportPopup","hbs!templates/popups/SupportPopupFreshdeskResults"],function($,_,appogee,tmpl,tmplResults){"use strict";var KEY_ESC=27;var KEY_RETURN=13;var Dialog=function($el){var _this10=this;this.$el=$el;this.isHovering=false;this.lastShow=null;this.$popup=$("<div />").addClass("popup");this.$popup.appendTo("body");this.$popup.hover(function(){_this10.isHovering=true},function(){_this10.isHovering=false});$("body").click(function(){_this10.hide()});$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this10.hide()}else if(e.keyCode==KEY_RETURN){_this10.search()}});this.currentUser=appogee.getCurrentUser()};Dialog.prototype.render=function(){var _this11=this;var data={user:this.currentUser,isManager:this.currentUser.isManager(),isHr:this.currentUser.isHrManager(),isAdmin:this.currentUser.isAdmin(),isSysAdmin:this.currentUser.isSysAdmin(),canAccessHr:this.currentUser.canAccessHr(),canAccessLeave:this.currentUser.canAccessLeave(),appName:appogee.getAppName(),isCustomerP1:appogee.isCustomerP1()};this.$popup.html(tmpl(data));this.$popup.find(".question").click(function(){if(window.hasOwnProperty("FreshWidget")){var FreshWidget=window.FreshWidget;FreshWidget.show();_this11._hide()}});this.$popup.find("button").click(function(){_this11.search()})};Dialog.prototype.search=function(){this.searchFreshdesk()};Dialog.prototype.searchFreshdesk=function(){var _this12=this;this.freshdeskLoading=true;this.freshdeskResults=null;this.renderFreshdeskResults();var query=this.$popup.find('input[type="text"]').val();if(!query){this.$popup.find('input[type="text"]').addClass("invalid");return}this.freshdeskLoading=true;this.freshdeskResults=null;this.renderFreshdeskResults();this.getFromFreshdesk(query,function(response){_this12.freshdeskLoading=false;_this12.freshdeskResults=response.item;_this12.renderFreshdeskResults()})};Dialog.prototype.getFromFreshdesk=function(query,callback){var url="https://help.appogeehr.com/support/search/solutions.json?max_matches=5&term={0}&need_count=true".format(query);var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState==XMLHttpRequest.DONE){callback(JSON.parse(xhr.responseText))}};xhr.open("GET",url,true);xhr.send(null)};Dialog.prototype.renderFreshdeskResults=function(){for(var key in this.freshdeskResults){if(!this.freshdeskResults.hasOwnProperty(key))continue;var result=this.freshdeskResults[key];var title="<p>"+result.title+"</p>";var formattedTitle=$(title).text();this.freshdeskResults[key].title=formattedTitle}var data={loading:this.freshdeskLoading,results:this.freshdeskResults};this.$popup.find(".search_results").html(tmplResults(data))};Dialog.prototype.searchZendesk=function(){var _this13=this;this.zendeskLoading=true;this.zendeskResults=null;this.renderZendeskResults();var query=this.$popup.find('input[type="text"]').val();if(!query){this.$popup.find('input[type="text"]').addClass("invalid");return}this.zendeskLoading=true;this.zendeskResults=null;this.renderZendeskResults();this.getFromZendesk(query,function(response){_this13.zendeskLoading=false;_this13.zendeskResults=response.results;_this13.renderZendeskResults()})};Dialog.prototype.getFromZendesk=function(query,callback){var url="https://appogeehr.zendesk.com/api/v2/help_center/search.json?locale=en-GB&per_page=3&query="+query;var xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(xhr.readyState==XMLHttpRequest.DONE){callback(JSON.parse(xhr.responseText))}};xhr.open("GET",url,true);xhr.send(null)};Dialog.prototype.renderZendeskResults=function(){var data={loading:this.zendeskLoading,results:this.zendeskResults};this.$popup.find(".search_results").html(tmplResults(data))};Dialog.prototype.show=function(){this.render();this.lastShow=(new Date).getTime();this.$popup.position({my:"right top",at:"right bottom",of:this.$el}).css("visibility","visible")};Dialog.prototype.hide=function(){if(!this.lastShow){return}if(this.isHovering){return false}var now=(new Date).getTime();if(now-this.lastShow<10){return}this._hide()};Dialog.prototype._hide=function(){var _this14=this;if(this.$popup.css("visibility")=="visible"){this.$popup.fadeOut("fast",function(){_this14.$popup.show();_this14.$popup.css("visibility","hidden")})}};return Dialog});define("hbs!templates/popups/SubMenu",["hbs/handlebars","templates/helpers/ifequal"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'\t\t<div class="pull-right">\n\t\t\t<a href="/my/leave/dash#!/request/new" class="btn btn-primary btn-sm btn-create">\n\t\t\t\t<i class="glyphicon glyphicon-plus"></i>\n\t\t\t</a>\n\t\t</div>\n'},3:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers.each.call(depth0,depth0!=null?depth0.groups:depth0,{name:"each",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:""},4:function(depth0,helpers,partials,data){var stack1,helper;return"\t\t\t<h3>"+this.escapeExpression((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"name",hash:{},data:data}):helper))+"</h3>\n"+((stack1=helpers.each.call(depth0,depth0!=null?depth0.items:depth0,{name:"each",hash:{},fn:this.program(5,data,0),inverse:this.noop,data:data}))!=null?stack1:"")},5:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t<a href="'+this.escapeExpression((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"url",hash:{},data:data}):helper))+'" class="item">'+this.escapeExpression((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"name",hash:{},data:data}):helper))+"</a>\n"},7:function(depth0,helpers,partials,data){var stack1;return"\t\t<h3>"+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.item:depth0)!=null?stack1.name:stack1,depth0))+"</h3>\n"+((stack1=helpers.each.call(depth0,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.items:stack1,{name:"each",hash:{},fn:this.program(8,data,0),inverse:this.noop,data:data}))!=null?stack1:"")},8:function(depth0,helpers,partials,data){var helper;return'\t\t\t<a href="'+this.escapeExpression((helper=(helper=helpers.url||(depth0!=null?depth0.url:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"url",hash:{},data:data}):helper))+'" class="item">'+this.escapeExpression((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"name",hash:{},data:data}):helper))+"</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<div>\n\t<div>\n\t\t<div class="pull-left">\n\t\t\t<button class="btn btn-link btn-close">\n\t\t\t\t<i class="glyphicon glyphicon-chevron-left"></i>\n\t\t\t</button>\n\t\t</div>\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.item:depth0)!=null?stack1.alias:stack1,"leave X",{name:"ifequal",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<div class="clearfix"></div>\n\t</div>\n\n'+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.groups:depth0)!=null?stack1.length:stack1,{name:"if",hash:{},fn:this.program(3,data,0),inverse:this.program(7,data,0),data:data}))!=null?stack1:"")+"</div>"},useData:true});Handlebars.registerPartial("templates/popups/SubMenu",t);return t});define("jquery.appogee.tabs",["jquery"],function($){$.fn.appogeeTabs=function(opts){return this.each(function(){$(this).find(".tab-header a,.subtab-header a").click(function(){var newTab=$(this);var oldTab=newTab.parent().children("a.selected");if(opts&&opts.hasOwnProperty("beforeChange")&&typeof opts.beforeChange==="function"){var allowChange=opts.beforeChange(oldTab,newTab);if(!allowChange){return false}}var tabRef=newTab.attr("href");if(tabRef.length>4&&tabRef.substring(0,4)=="http"){return true}else if(tabRef.length>0&&tabRef.substring(0,1)=="#"){tabRef=tabRef.substring(1,tabRef.length)}var p=newTab.parent().parent();var oldPanel=p.children("div.tab-panel.selected");var newPanel=p.children('div[data-tab="'+tabRef+'"]');if(!oldTab.is(newTab)){oldTab.removeClass("selected");newTab.addClass("selected");oldPanel.fadeOut("fast",function(){newPanel.fadeIn("fast").addClass("selected")}).removeClass("selected")}if(opts&&opts.hasOwnProperty("afterChange")&&typeof opts.afterChange==="function"){opts.afterChange(oldTab,newTab,oldPanel,newPanel)}return false})})};$(function(){$(".appogee-tabs").appogeeTabs()})});define("views/popups/SubMenu",["jquery","underscore","appogee","hbs!templates/popups/SubMenu","jquery.appogee.tabs"],function($,_,appogee,tmpl){"use strict";var KEY_ESC=27;var Menu=function($container,menu){var _this15=this;this.$container=$container;this.menu=menu;this.lastShow=null;this.$container.hover(function(){},function(e){var left=_this15.$container.position().left+_this15.$container.width();var top=_this15.$container.position().top;if(e.clientX>=left||e.clientY<=top){_this15.hide()}});$("body").click(function(){_this15.hide()});window.addEventListener("blur",function(){_this15.hide(true)},false);$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this15.hide()}});this.currentUser=appogee.getCurrentUser()};Menu.prototype.render=function(item){var _this16=this;var groups=[];for(var i=0;i<item.items.length;i++){var groupName=item.items[i].group;if(groupName){var group=_.findWhere(groups,{name:groupName});if(!group){group={name:groupName,items:[]};groups.push(group)}group.items.push(item.items[i])}else{groups=[];break}}var data={groups:groups,item:item};this.$container.html(tmpl(data));this.$container.find(".btn-close").click(function(){_this16.hide(true)})};Menu.prototype.toggle=function(alias){var item=_.findWhere(this.menu.items,{alias:alias});if(!item||!item.items||item.items.length===0){this.hide(true,true)}else{this.render(item);this.show()}};Menu.prototype.show=function(){this.lastShow=(new Date).getTime();this.$container.show()};Menu.prototype.hide=function(force,hard){if(!force){if(!this.lastShow){return}var now=(new Date).getTime();if(now-this.lastShow<10){return}}if(hard){this.$container.hide()}else{this.$container.fadeOut()}};return Menu});define("hbs!templates/PicturePicker",["hbs/handlebars","templates/helpers/ifequal"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var helper;return"background-image: url("+this.escapeExpression((helper=(helper=helpers.imageUrl||(depth0!=null?depth0.imageUrl:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"imageUrl",hash:{},data:data}):helper))+");"},3:function(depth0,helpers,partials,data){return"border-radius: 2px;"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1,helper;return'<div class="pp-look pp-box '+this.escapeExpression((helper=(helper=helpers.shape||(depth0!=null?depth0.shape:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"shape",hash:{},data:data}):helper))+'" style="width: '+this.escapeExpression((helper=(helper=helpers.width||(depth0!=null?depth0.width:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"width",hash:{},data:data}):helper))+"px; height: "+this.escapeExpression((helper=(helper=helpers.height||(depth0!=null?depth0.height:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"height",hash:{},data:data}):helper))+"px; "+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.imageUrl:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+" "+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.shape:depth0,"rectangle",{name:"ifequal",hash:{},fn:this.program(3,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'">\n\t<div class="pp-look pp-overlay '+this.escapeExpression((helper=(helper=helpers.shape||(depth0!=null?depth0.shape:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"shape",hash:{},data:data}):helper))+'" title="Click here to upload a new image" style="width: '+this.escapeExpression((helper=(helper=helpers.width||(depth0!=null?depth0.width:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"width",hash:{},data:data}):helper))+"px; height: "+this.escapeExpression((helper=(helper=helpers.height||(depth0!=null?depth0.height:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"height",hash:{},data:data}):helper))+'px;">\n\t\t<div class="pp-look pp-icon '+this.escapeExpression((helper=(helper=helpers.shape||(depth0!=null?depth0.shape:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"shape",hash:{},data:data}):helper))+'" style="width: '+this.escapeExpression((helper=(helper=helpers.width||(depth0!=null?depth0.width:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"width",hash:{},data:data}):helper))+"px; height: "+this.escapeExpression((helper=(helper=helpers.height||(depth0!=null?depth0.height:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"height",hash:{},data:data}):helper))+'px;"></div>\n\t</div>\n</div>'},useData:true});Handlebars.registerPartial("templates/PicturePicker",t);return t});define("hbs!templates/PicturePickerDialog",["hbs/handlebars"],function(Handlebars){var t=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){return'<h4>Upload Profile Image</h4>\n\n<div class="form-group">\n\t<label>Select a file to upload from below:</label>\n\t<div class="input-group">\n\t\t<span class="btn btn-default btn-file input-group-addon">\n\t\t    Browse&hellip; <input type="file" name="file" >\n\t\t</span>\n\t\t<input type="text" class="form-control input-sm" readonly="readonly" />\n\t</div>\n</div>'},useData:true});Handlebars.registerPartial("templates/PicturePickerDialog",t);return t});define("views/PicturePicker",["jquery","appogee","hbs!templates/PicturePicker","hbs!templates/PicturePickerDialog"],function($,appogee,tmpl,tmplDlg){"use strict";var S,R={noFile:"Please select an image to upload",invalidFile:"Invalid File - please select an image file."};var PicturePicker=function($container,imageUrl,employeeKey,options){var _this17=this;S=appogee.getStrings("PicturePicker",R);this.$container=$container;this.employeeKey=employeeKey;this.options=$.extend({},options||{});this._setImageUrl(imageUrl);this.$divDiv=$("<div />").html(tmplDlg()).addClass("dialog");this.dlg=new appogee.Dialog(this.$divDiv,{title:"Upload Employee Image",okCallback:function(){_this17.uploadEmployeeImage()}});this.initEmployeeImage()};PicturePicker.prototype.setEmployee=function(employee){this.employeeKey=employee.key;this._setImageUrl(employee.imageUrl);this.render()};PicturePicker.prototype._setImageUrl=function(imageUrl){this.imageUrl=null;if(imageUrl){if(this.options.width){this.imageUrl="{0}=w{1}".format(imageUrl,this.options.width)}else if(this.options.height){this.imageUrl="{0}=h{1}".format(imageUrl,this.options.height)}}};PicturePicker.prototype.render=function(){var _this18=this;var data={imageUrl:this.imageUrl,shape:this.options.shape||null,width:this.options.width||null,height:this.options.height||null};this.$container.html(tmpl(data));this.$container.click(function(){_this18.$divDiv.find('.btn-file :file,input[type="text"]').val("");_this18.dlg.show()})};PicturePicker.prototype.initEmployeeImage=function(){$(document).on("change",".btn-file :file",function(){var numFiles=$(this).get(0).files?$(this).get(0).files.length:1;var label=$(this).val().replace(/\\/g,"/").replace(/.*\//,"");$(this).trigger("fileselect",[numFiles,label])});$(function(){$(".btn-file :file").on("fileselect",function(event,numFiles,label){var input=$(this).parents(".input-group").find(":text");var log=numFiles>1?numFiles+" files selected":label;if(input.length){input.val(log)}})})};PicturePicker.prototype.uploadEmployeeImage=function(){var file=null;var fileInput=this.$divDiv.find('input[type="file"]').get()[0];if(fileInput.files&&fileInput.files.length==1){file=fileInput.files[0]}else{appogee.valert(S.noFile);return}if(!appogee.validation.validateImageFilename(file.name)){appogee.valert(S.invalidFile);return}var fd=new FormData;fd.append("file",file);fd.append("_csrf_token",appogee.getCsrfToken());var xhr=new XMLHttpRequest;var url="/api/{0}/employees/{1}/image".format(appogee.API_VERSION,this.employeeKey);var me=this;xhr.onload=function(){var response=JSON.parse(this.responseText);me.imageUrl=response.imageUrl;if(me.options.width){me.imageUrl+="=w"+me.options.width}else if(this.options.height){me.imageUrl+="=h"+me.options.height}me.render();me.dlg.hide()};xhr.open("POST",url);xhr.send(fd)};return PicturePicker});define("hbs!templates/popups/EmployeesPopup",["hbs/handlebars","hbs!templates/_avatar","templates/helpers/ifequal"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'\t<div class="employees-popup-search-header">\n\t\t<div class="pull-left">\n\t\t\tSearch Results\n\t\t</div>\n\t\t<div class="pull-right">\n\t\t\t<button class="clear-search">\n\t\t\t\t<i class="glyphicon glyphicon-remove"></i>\n\t\t\t</button>\n\t\t</div>\n\t\t<div class="clearfix"></div>\n\t</div>\n'},3:function(depth0,helpers,partials,data){var stack1,helper;return'\t\t<a href="javascript: void(0);" data-key="'+this.escapeExpression((helper=(helper=helpers.key||(depth0!=null?depth0.key:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"key",hash:{},data:data}):helper))+'">\n'+((stack1=this.invokePartial(partials["templates/_avatar"],depth0,{name:"templates/_avatar",hash:{employee:depth0},data:data,indent:"\t\t\t",helpers:helpers,partials:partials}))!=null?stack1:"")+"\t\t\t"+this.escapeExpression((helper=(helper=helpers.firstName||(depth0!=null?depth0.firstName:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"firstName",hash:{},data:data}):helper))+" "+this.escapeExpression((helper=(helper=helpers.lastName||(depth0!=null?depth0.lastName:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"lastName",hash:{},data:data}):helper))+"\n\t\t</a>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<div class="employees-popup">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.mode:depth0,"search",{name:"ifequal",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+((stack1=helpers.each.call(depth0,depth0!=null?depth0.employees:depth0,{name:"each",hash:{},fn:this.program(3,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"</div>"},usePartial:true,useData:true});Handlebars.registerPartial("templates/popups/EmployeesPopup",t);return t});define("views/popups/EmployeesPopup",["jquery","underscore","appogee","hbs!templates/popups/EmployeesPopup"],function($,_,appogee,tmpl){"use strict";var KEY_ESC=27;var Dialog=function($el,employees){var _this19=this;this.$el=$el;this.employees=employees;this.isHovering=false;this.lastShow=null;this.$popup=$("<div />").addClass("popup");this.$popup.appendTo("body");this.$popup.hover(function(){_this19.isHovering=true},function(){_this19.isHovering=false});this.currentUser=appogee.getCurrentUser();this.changeHandlers=[];this.clearSearchHandlers=[];$("body").click(function(){_this19.hide()});$(window).keydown(function(e){if(e.keyCode==KEY_ESC){_this19.hide()}})};Dialog.prototype.onChange=function(handler){this.changeHandlers.push(handler)};Dialog.prototype.onClearSearch=function(handler){this.clearSearchHandlers.push(handler)};Dialog.prototype.setEmployees=function(mode,employees){this.mode=mode;this.employees=employees;this.render()};Dialog.prototype.render=function(){var _this20=this;var data={currentUser:this.currentUser,mode:this.mode,employees:this.employees};this.$popup.html(tmpl(data));this.$popup.find("a").click(function(e){var key=$(e.currentTarget).data("key");var employee=_.findWhere(_this20.employees,{key:key});_this20.hide(true);_this20.changeHandlers.forEach(function(h){return h(employee)})});this.$popup.find(".clear-search").click(function(){_this20.clearSearchHandlers.forEach(function(h){return h()})})};Dialog.prototype.show=function($el){if($el){this.$el=$el}this.render();this.lastShow=(new Date).getTime();this.$popup.position({my:"right top",at:"right bottom",of:this.$el}).css("visibility","visible")};Dialog.prototype.hide=function(force){var _this21=this;if(!this.lastShow){return}if(!force&&this.isHovering){return false}var now=(new Date).getTime();if(now-this.lastShow<10){return}if(this.$popup.css("visibility")=="visible"){this.$popup.fadeOut("fast",function(){_this21.$popup.show();_this21.$popup.css("visibility","hidden")})}};return Dialog});define("hbs!templates/EmployeeSelector",["hbs/handlebars","templates/helpers/if_gt","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return'\t<div class="adu-team-container">\n\t\t<div class="team-container pull-left">\n\t\t\t<select id="ddlAdu" class="form-control"></select>\n\t\t</div>\n\t\t<div class="team-container pull-right">\n\t\t\t<select id="ddlTeam" class="form-control"></select>\n\t\t</div>\n\t\t<div class="clearfix"></div>\n\t</div>\n'},3:function(depth0,helpers,partials,data){return'\t<div class="team-container">\n\t\t<select id="ddlTeam" class="form-control"></select>\n\t</div>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return((stack1=(helpers.if_gt||depth0&&depth0.if_gt||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.adus:depth0)!=null?stack1.length:stack1,{name:"if_gt",hash:{compare:1},fn:this.program(1,data,0),inverse:this.program(3,data,0),data:data}))!=null?stack1:"")+'<div class="search-container">\n\t<div class="form-group has-feedback">\n\t\t<span class="glyphicon glyphicon-search form-control-feedback"></span>\n\t    <input type="text" class="form-control search txtSearch" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Employee or Team",{name:"s",hash:{},data:data}))+' ..." />\n\t</div>\n</div>'},useData:true});Handlebars.registerPartial("templates/EmployeeSelector",t);return t});define("views/EmployeeSelector",["jquery","underscore","appogee","views/popups/EmployeesPopup","hbs!templates/EmployeeSelector"],function($,_,appogee,EmployeesPopup,tmpl){"use strict";var MODE_TEAM="team";var MODE_SEARCH="search";var View=function($container,adus,teams,employees){this.$container=$container;this.adus=adus;this.teams=teams;this.employees=employees;this.employeeChangeHandlers=[];this.employeesPopup=null;var aduKey=appogee.cookies.getConfig("adu");var teamKey=appogee.cookies.getConfig("team");var employeeKey=appogee.cookies.getConfig("employee");this.adu=_.findWhere(this.adus,{key:aduKey});this.team=_.findWhere(this.teams,{key:teamKey});this.employee=_.findWhere(this.employees,{key:employeeKey});this.mode=MODE_TEAM;this.lastSearchTime=null};View.prototype.onEmployeeChange=function(handler){if(handler){this.employeeChangeHandlers.push(handler)}};View.prototype.render=function(){var _this22=this;var data={adus:this.adus,teams:this.teams,employees:this.employees};this.$container.html(tmpl(data));var $ddlAdu=this.$container.find("#ddlAdu");appogee.ui.populateDropdown($ddlAdu,this.adus,{defaultValue:null,keyName:"key",valueName:"path",default:this.adu.key});$ddlAdu.change(function(e){var aduKey=$(e.currentTarget).val();var url="/teams?aduKey={0}&withMembers=true".format(aduKey);_this22.$container.find("#ddlTeam").html("<option>Loading ...</option>");appogee.api.get(url,function(response){_this22.teams=response.items;_this22.adu=_.findWhere(_this22.adus,{key:aduKey});_this22.team=_this22.teams[0];_this22.render();_this22.$container.find("#ddlTeam").change()})});var $ddlTeam=this.$container.find("#ddlTeam");appogee.ui.populateDropdown($ddlTeam,this.teams,{defaultValue:null,keyName:"key",valueName:"name",default:this.team.key});$ddlTeam.change(function(e){_this22.$container.find(".txtSearch").val("");var teamKey=$(e.currentTarget).val();var url="/employees?teamKey={0}&projection=ribbon".format(teamKey);appogee.api.get(url,function(response){_this22.employees=response.items;_this22.showEmployeesPopup(MODE_TEAM)})});this.$container.find(".txtSearch").on("click",function(){_this22.showEmployeesPopup()});this.$container.find(".txtSearch").on("keyup",function(e){_this22.onKeyUp(e)})};View.prototype.onKeyUp=function(e){var _this23=this;var keycode=null;if(window.event){keycode=event.keyCode}else{keycode=e.keyCode}if(keycode<48||keycode>57&&keycode<65||keycode>90){if(keycode!=appogee.globals.KEY_SPACE&&keycode!=appogee.globals.KEY_BACKSPACE&&keycode!=appogee.globals.KEY_RETURN&&keycode!=appogee.globals.KEY_ESC&&keycode!=appogee.globals.KEY_UP&&keycode!=appogee.globals.KEY_DOWN){return}}if(keycode==appogee.globals.KEY_UP){if(this.active){this.selectedIndex--;this.setSelected()}}else if(keycode==appogee.globals.KEY_DOWN){if(this.active){this.selectedIndex++;this.setSelected()}}else if(keycode==appogee.globals.KEY_RETURN){if(this.active){this.select()}}else if(keycode==appogee.globals.KEY_ESC){this.employeesPopup.hide()}else{var $textbox=this.$container.find(".txtSearch");$textbox.addClass("loading");this.cancelled=false;var t=String((new Date).getTime());this.lastSearchTime=t;setTimeout(function(){_this23.search(t)},400)}};View.prototype.search=function(queryTime){var _this24=this;if(queryTime!=this.lastSearchTime){return}var $textbox=this.$container.find(".txtSearch");var query=$textbox.val();if(query===""){$textbox.removeClass("loading");return}var params={};$textbox.addClass("loading");var body={t:queryTime,params:JSON.stringify(params)};var url="/employees/lookup/{0}".format(query);var urlParams=$.param(body);url+="?"+urlParams;appogee.api.get(url,function(response){if(response.t==_this24.lastSearchTime){$textbox.removeClass("loading");_this24.searchEmployees=response.employees;_this24.showEmployeesPopup(MODE_SEARCH)}})};View.prototype.showEmployeesPopup=function(mode){var _this25=this;if(!mode){mode=this.mode}this.mode=mode;var $textbox=this.$container.find(".txtSearch");var employees=this.employees;if(mode==MODE_SEARCH){employees=this.searchEmployees}if(this.employeesPopup===null){this.employeesPopup=new EmployeesPopup($textbox,employees);this.employeesPopup.onChange(function(employee){_this25.team=_.findWhere(_this25.teams,{key:employee.team.key});_this25.employee=employee;_this25.render();appogee.cookies.setConfig("employee",employee.key);appogee.cookies.setConfig("team",employee.team.key);if(_this25.employeeChangeHandlers){_this25.employeeChangeHandlers.forEach(function(h){return h(employee)})}});this.employeesPopup.onClearSearch(function(){_this25.mode=MODE_TEAM;_this25.employeesPopup.hide(true)})}this.employeesPopup.setEmployees(this.mode,employees);this.employeesPopup.show($textbox)};return View});define("views/EmployeeRibbon",["jquery","underscore","appogee","views/PicturePicker","views/EmployeeSelector"],function($,_,appogee,PicturePicker,EmployeeSelector){"use strict";var S,R={noJobTitle:"No Job Title",noTeam:"No Team",noHrManager:"No HR Manager"};var View=function($container,adus,teams,employees,selfRibbon){S=appogee.getStrings("EmployeeRibbon",R);this.$container=$container;this.selfRibbon=selfRibbon;if(this.selfRibbon){this.employee=appogee.getCurrentUser()}else{var employeeKey=appogee.cookies.getConfig("employee");this.employee=_.findWhere(employees,{key:employeeKey})}this.employeeSelector=null;this.employeeChangeHandlers=[];var pictureOptions={width:"90",height:"90",shape:"circle"};this.profilePicture=new PicturePicker(this.$container.find("#profileImg"),this.employee.imageUrl,this.employee.key,pictureOptions);this.profilePicture.render();this.initEmployeeSelector(adus,teams,employees)};View.prototype.initEmployeeSelector=function(adus,teams,employees){var _this26=this;if(teams.length===0||teams.length==1&&employees.length<=1){return}var $container=this.$container.find(".employee-selector");this.employeeSelector=new EmployeeSelector($container,adus,teams,employees);this.employeeSelector.render();this.employeeSelector.onEmployeeChange(function(employee){if(!_this26.selfRibbon){_this26.employee=employee;_this26.populate(employee)}_this26.employeeChangeHandlers.forEach(function(h){h(employee)})})};View.prototype.populate=function(){this.profilePicture.setEmployee(this.employee);var fullName="{0} {1}".format(this.employee.firstName,this.employee.lastName);var jobTitle="[{0}]".format(S.noJobTitle);var tel="";var team="[{0}]".format(S.noTeam);var manager="";var hrManager="[{0}]".format(S.noHrManager);if(this.employee.jobTitle){jobTitle=this.employee.jobTitle}if(this.employee.workTel){tel=this.employee.workTel}else if(this.employee.workMobile){tel=this.employee.workMobile}if(this.employee.team){team=this.employee.team.name}if(this.employee.team){team=this.employee.team.name}if(this.employee.manager){manager=this.employee.manager.name}if(this.employee.hrManager){hrManager=this.employee.hrManager.name}this.$container.find(".employee-name").html(fullName);this.$container.find(".employee-role").html(jobTitle);this.$container.find(".employee-email").html(this.employee.email);this.$container.find(".team-name").html(team);this.$container.find(".team-manager").html(manager)
;this.$container.find(".hr-manager").html(hrManager);if(appogee.canCustomerAccessHr()){this.$container.find(".employee-tel").html(tel)}};View.prototype.onEmployeeChange=function(handler){if(handler){this.employeeChangeHandlers.push(handler)}};return View});define("hbs!appogee/templates/ContextHelp",["hbs/handlebars"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var stack1,helper;return"\t"+((stack1=(helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"msg",hash:{},data:data}):helper))!=null?stack1:"")+"\n"},3:function(depth0,helpers,partials,data){var stack1,helper;return"\t<p>"+this.escapeExpression((helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"msg",hash:{},data:data}):helper))+"</p>\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.link:depth0,{name:"if",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:"")},4:function(depth0,helpers,partials,data){var stack1;return'\t<p><a href="'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.link:depth0)!=null?stack1.url:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.link:depth0)!=null?stack1.text:stack1,depth0))+"</a></p>\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1,helper;return"<h4>"+this.escapeExpression((helper=(helper=helpers.title||(depth0!=null?depth0.title:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"title",hash:{},data:data}):helper))+"</h4>\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.html:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.program(3,data,0),data:data}))!=null?stack1:"")},useData:true});Handlebars.registerPartial("appogee/templates/ContextHelp",t);return t});define("jquery.appogee.contextHelp",["jquery","appogee","hbs!appogee/templates/ContextHelp"],function($,appogee,tmpl){var data=null;var $div=null;var RE_TOIL=new RegExp("{toil_term}","g");var RE_APP_NAME=new RegExp("{app_name}","g");$.fn.contextHelp=function(params){params=params||{};if(!$div){$div=$("#contextHelp");$div=$("<div />").addClass("context-help");$div.appendTo("body");$div.hover(function(){$(this).stop().fadeIn()},function(){$(this).fadeOut("fast")})}if(data===null&&params.pageId){var user=appogee.getCurrentUser();var locale=user.locale;if(params.hasOwnProperty("locale")){locale=params.locale}$.get("/json/chlp/{0}/{1}.json".format(locale,params.pageId),function(response){data=response})}return this.hover(function(){if(!data){return}var helpId=$(this).data("context-help");if(!data.hasOwnProperty(helpId)){console.log('context help not found for "{0}"'.format(helpId));return}var help=data[helpId];if(help.hasOwnProperty("msgs")){help.msg=appogee.util.joinWithPs.apply(this,help.msgs);help.html=true}var html=tmpl(help);html=html.replace(RE_TOIL,appogee.getToilTerm());html=html.replace(RE_APP_NAME,appogee.getAppName());$div.html(html).fadeIn("fast");$div.position({my:"left+10 top",at:"right top",of:this})},function(){$div.fadeOut("fast")}).click(function(){$div.fadeOut("fast")})}});define("app",["module","jquery","jqueryui","backbone","underscore","appogee","ADU","User","enums/CommonStrings","views/popups/RoleSwitcherPopup","views/popups/AlertsPopup","views/popups/AccountPopup","views/popups/SupportPopup","views/popups/SubMenu","views/EmployeeRibbon","jquery.appogee.tooltip","jquery.appogee.contextHelp"],function(m,$,ui,Backbone,_,appogee,ADU,User,CommonStrings,RoleSwitcherPopup,AlertsPopup,AccountPopup,SupportPopup,SubMenu,EmployeeRibbon){"use strict";var FlashMessages={GappsReviewMsg:3,HrUpgradeMsg:5,TermsUpdatedOct17:6,V11Welcome:7};var App=function(pageId,module){this.pageId=pageId;this.module=module;this.routes=null;this._adus=null;this._currentUser=null;this._settings=null;this.bootstrapBreakpoint=appogee.getBootstrapBreakpoint();this.popups={role:null,alerts:null,account:null,support:null};this.submenu=null};App.prototype.initialize=function(args){CommonStrings.init();this.initJquery();this.attachEvents();var module=this.module;module.S=appogee.getStrings();module.pageId=this.pageId;module.adus=this.getAdus();module.currentUser=this.getCurrentUser();module.settings=this.getSettings();module.appName=appogee.getAppName();module.appAlias=appogee.getAppAlias();if(module.initRoutes){module.initRoutes(this)}var routes={"!":function(){}};if(this.routes!==null){$.extend(routes,this.routes)}if(module.routes){for(var routeUrl in module.routes){if(module.routes.hasOwnProperty(routeUrl)){routes[routeUrl]=module.routes[routeUrl].bind(module)}}}if(routes){module.router=new Backbone.Router({routes:routes})}if(module.defaultStrings){module.S.setDefaultStrings(null,module.defaultStrings)}else{}if(module.floatingHeader){this.initFloatingHeader()}args=$.extend({pageId:this.pageId},args||{});var me=this;$(function(){me.setMenuScroll();$(window).on("resize",function(){var bp=appogee.getBootstrapBreakpoint();if(me.bootstrapBreakpoint!=bp){$(".main-menu").toggle(bp=="md"||bp=="lg");if(module.onBootstrapBreakpointChange){module.onBootstrapBreakpointChange(me.bootstrapBreakpoint,bp)}me.bootstrapBreakpoint=bp}});if(module.contextHelp){$("i.context-help").contextHelp({pageId:module.pageId})}if(module.initialize){module.initialize(args)}if(module.currentUser.canShowFlashMsg(FlashMessages.V11Welcome)){me.showV11WelcomeMessage(module)}else if(module.currentUser.canShowFlashMsg(FlashMessages.TermsUpdatedOct17)){me.showRevisedTermsMessage()}var loadUrls=module.loadUrls;if(_.isFunction(module.getLoadUrls)){loadUrls=module.getLoadUrls()}if(!module.skipPageInit){if(!loadUrls){loadUrls={app:[]}}else if(!loadUrls.hasOwnProperty("app")){loadUrls.app=[]}loadUrls.app.splice(0,0,"/pageinit")}if(_.isObject(loadUrls)&&_.keys(loadUrls).length>0){var loadOptions={};if(module.hasOwnProperty("cachePolicies")){loadOptions.cachePolicies=module.cachePolicies}if(module.preventNotifier){loadOptions.preventNotifier=true}var allLoadUrls=[];if(loadUrls.app){allLoadUrls.push.apply(allLoadUrls,loadUrls.app)}if(loadUrls.api){allLoadUrls.push.apply(allLoadUrls,loadUrls.api.map(function(url){return"/api/{0}{1}".format(appogee.API_VERSION,url)}))}appogee.pageLoad(allLoadUrls,function(response){if(!module.skipPageInit){var pageInit=response.shift();if(module.onPageInit){module.onPageInit(pageInit.teams,pageInit.employees)}me.initMenu(pageInit.menu);me.initRibbon(pageInit.adus,pageInit.teams,pageInit.employees);var canShowThingsToTry=appogee.util.getUrlParam("t2t")=="1";if(canShowThingsToTry){me.showThingToTry()}}if(response.length>0){module.onLoad.apply(module,response)}if(module.router){Backbone.history.start()}},loadOptions)}else{$(".load_hide").fadeIn();$(".form-loader,.load_show").hide();if(module.router){Backbone.history.start()}}})};App.prototype.showV11WelcomeMessage=function(module){return;if(this.pageId=="password"){return}var title=null;var msgs=["To read about the latest changes please refer to the following update guides:"];var b=false;if(module.currentUser.canAccessHr()){title="Welcome to Appogee HR Version 11";if(module.currentUser.isManager()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000220315-appogee-hr-version-11-team-manager-update-guide" target="_BLANK">Team Manager Update Guide</a>');b=true}if(module.currentUser.isHrManager()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000220318-appogee-hr-version-11-hr-manager-update-guide" target="_BLANK">HR Manager Update Guide</a>');b=true}if(module.currentUser.isAdmin()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000220322-appogee-hr-version-11-administrator-update-guide" target="_BLANK">Administrator Update Guide</a>');b=true}if(!b){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000220306-appogee-hr-version-11-employee-update-guide" target="_BLANK">Appogee HR Update Guide</a>')}}else{title="Welcome to Appogee Leave Version 11";if(module.currentUser.isManager()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000219277-appogee-leave-version-11-team-manager-update-guide" target="_BLANK">Team Manager Update Guide</a>');b=true}if(module.currentUser.isHrManager()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000219328-appogee-leave-version-11-hr-manager-update-guide" target="_BLANK">HR Manager Update Guide</a>');b=true}if(module.currentUser.isAdmin()){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000219332-appogee-leave-version-11-administrator-update-guide" target="_BLANK">Administrator Update Guide</a>');b=true}if(!b){msgs.push('<a href="https://help.appogeehr.com/solution/articles/22000217995-appogee-leave-version-11-employee-update-guide" target="_BLANK">Appogee Leave Update Guide</a>')}}msgs.push('These guides are available at any time from the <i class="glyphicon glyphicon-question-sign"></i> icon at the top of the screen.');var msg="<p>"+msgs.join("</p><p>")+"</p>";if(module.currentUser.locale=="fr_FR"){msg=msg.replace("22000220322","22000220322#googtrans(en|fr)");msg=msg.replace("22000220318","22000220318#googtrans(en|fr)");msg=msg.replace("22000220315","22000220315#googtrans(en|fr)");msg=msg.replace("22000220306","22000220306#googtrans(en|fr)");msg=msg.replace("22000219277","22000219277#googtrans(en|fr)");msg=msg.replace("22000219328","22000219328#googtrans(en|fr)");msg=msg.replace("22000219332","22000219332#googtrans(en|fr)");msg=msg.replace("22000217995","22000217995#googtrans(en|fr)")}else if(module.currentUser.locale=="es_ES"){msg=msg.replace("22000220322","22000220322#googtrans(en|es)");msg=msg.replace("22000220318","22000220318#googtrans(en|es)");msg=msg.replace("22000220315","22000220315#googtrans(en|es)");msg=msg.replace("22000220306","22000220306#googtrans(en|es)");msg=msg.replace("22000219277","22000219277#googtrans(en|es)");msg=msg.replace("22000219328","22000219328#googtrans(en|es)");msg=msg.replace("22000219332","22000219332#googtrans(en|es)");msg=msg.replace("22000217995","22000217995#googtrans(en|es)")}appogee.alert(title,msg,function(){appogee.dismissFlashMessage(FlashMessages.V11Welcome);return true})};App.prototype.showRevisedTermsMessage=function(){if(this.pageId=="password"){return}var title="We have updated the Terms of Service for Appogee HR and Appogee Leave";var msg=appogee.util.joinWithPs('On 10th October 2017 we updated our <a href="https://www.appogeehr.com/terms-of-service/" target="_BLANK">Terms of Service</a> for Appogee HR and Appogee Leave. ',"The new terms provide minor additional clarifications regarding our data security, processing of your data, notifications of data incidents and identification of sub-processors. This update to our terms of service is one of a number of enhancements being introduced to support the new GDPR regulation coming in to force for EU customers or those with EU employees in May 2018.",'This is your notification, as per clause 7.2 of our agreement, of the modifications to our terms  which come into effect immediately. We hope you find value in the updates weâve made, however if you object to these changes you must notify us by email to <a href="mailto:support@appogeehr.com">support@appogeehr.com</a> no later than 9th November 2017. In this case you will remain subject to the <a href="https://www.appogeehr.com/former/terms-of-service-2-0/" target="_BLANK">former terms of service</a> until the expiry of your current Subscription Period. If you renew your subscription and continue to use our services, this will be subject to the latest terms of service at that time.','Thank you for your use of our services. You can read more about <a href="https://www.appogeehr.com/trust/gdpr/">our commitment to GDPR compliance</a> on the Appogee HR website.');appogee.alert(title,msg,"flashmsg",function(){appogee.dismissFlashMessage(FlashMessages.TermsUpdatedOct17);return true})};App.prototype.getSettings=function(){if(this._settings===null){this._settings=appogee.util.parseJsonFromHtml("jSettings");appogee.setSettings(this._settings)}return this._settings};App.prototype.getCurrentUser=function(){if(this._currentUser===null){var data=appogee.util.parseJsonFromHtml("jUser");this._currentUser=new User(data);appogee.setCurrentUser(this._currentUser)}return this._currentUser};App.prototype.getAdus=function(){if(this._adus===null){var adus=appogee.util.parseJsonFromHtml("jAdus");if(adus){this._adus=adus.map(function(adu){return new ADU(adu)});appogee.setAdus(this._adus)}}return this._adus};App.prototype.initMenu=function(menu){var _this27=this;$("#btnToggleMenu").click(function(){$("#pageContainer").toggleClass("collapsed");var collapsed=$("#pageContainer").hasClass("collapsed");appogee.cookies.setConfig("menu_collapsed",collapsed)});this.submenu=new SubMenu($("#submenu"),menu);$(".main-menu a").hover(function(e){e.stopPropagation();var alias=$(e.currentTarget).data("alias");_this27.submenu.toggle(alias)})};App.prototype.initRibbon=function(adus,teams,employees){var _this28=this;var hasRibbon=$("#employeeRibbon").length>0;if(!hasRibbon){return}var selfRibbon=this.module.selfRibbon===true;this.ribbon=new EmployeeRibbon($("#employeeRibbon"),adus,teams,employees,selfRibbon);this.ribbon.onEmployeeChange(function(employee){if(_this28.module.onEmployeeChange){_this28.module.onEmployeeChange(employee)}else{location.href="/profile?key="+employee.key}})};App.prototype.attachEvents=function(){var _this29=this;var me=this;$(".header .toolbar a.account").click(function(e){e.stopPropagation();me.showAccountPopup($(e.currentTarget))});$(".header .toolbar a.support").click(function(e){e.stopPropagation();me.showSupportPopup($(e.currentTarget))});$(".header .toolbar a.alerts").click(function(e){e.stopPropagation();me.showAlertsPopup($(e.currentTarget))});$("#btnBurger").click(function(){$(".main-menu").fadeToggle();$("#pageContainer").removeClass("collapsed")});$("#btnHideMobileMenu").click(function(){$(".mobile-menu").fadeOut("fast")});$("#btnThingsToTry").click(function(){_this29.showThingToTry()});$(".gapps-review-container .btnDismiss").click(function(){appogee.dismissFlashMessage(FlashMessages.GappsReviewMsg);$(".gapps-review-container").slideUp()});$(".hr_upgrade-banner-container .btnDismiss").click(function(){appogee.dismissFlashMessage(FlashMessages.HrUpgradeMsg);$(".hr_upgrade-banner-container").hide();$(".page-app").removeClass("banner")});$("#btnLicenseExceeded").click(function(){var msg="<p>"+CommonStrings.licenseExceededMsg1+"</p>";msg+="<p>"+CommonStrings.licenseExceededMsg2+"</p>";msg+="<ul><li>"+CommonStrings.licenseExceededMsg3+"</li><li>"+CommonStrings.licenseExceededMsg4+"</li></ul>";appogee.valert(CommonStrings.licenseExceededTitle,msg)});$("#btnMobHr").click(function(){$("#btnMobHr").removeClass("selected").addClass("selected");$("#btnMobLeave").removeClass("selected");$("#btnMobMgmt").removeClass("selected");$("#panMobHr").removeClass("selected").addClass("selected");$("#panMobLeave").removeClass("selected");$("#panMobMgmt").removeClass("selected")});$("#btnMobLeave").click(function(){$("#btnMobHr").removeClass("selected");$("#btnMobLeave").removeClass("selected").addClass("selected");$("#btnMobMgmt").removeClass("selected");$("#panMobHr").removeClass("selected");$("#panMobLeave").removeClass("selected").addClass("selected");$("#panMobMgmt").removeClass("selected")});$("#btnMobMgmt").click(function(){$("#btnMobHr").removeClass("selected");$("#btnMobLeave").removeClass("selected");$("#btnMobMgmt").removeClass("selected").addClass("selected");$("#panMobHr").removeClass("selected");$("#panMobLeave").removeClass("selected");$("#panMobMgmt").removeClass("selected").addClass("selected")})};App.prototype.hidePopups=function(){if(this.popups.role){this.popups.role.hide()}if(this.popups.alerts){this.popups.alerts.hide()}if(this.popups.account){this.popups.account.hide()}if(this.popups.support){this.popups.support.hide()}};App.prototype.showRoleSwitcherPopup=function($el){if(this.popups.role===null){this.popups.role=new RoleSwitcherPopup($el)}this.hidePopups();this.popups.role.show()};App.prototype.showAlertsPopup=function($el){if(this.popups.alerts===null){this.popups.alerts=new AlertsPopup($el)}this.hidePopups();this.popups.alerts.show()};App.prototype.showAccountPopup=function($el){if(this.popups.account===null){this.popups.account=new AccountPopup($el)}this.hidePopups();this.popups.account.show()};App.prototype.showSupportPopup=function($el){if(this.popups.support===null){this.popups.support=new SupportPopup($el)}this.hidePopups();this.popups.support.show()};App.prototype.initJquery=function(){$(function(){$.ajaxSetup({beforeSend:function(xhr){var csrf=appogee.getCsrfToken();xhr.setRequestHeader("X-CSRF",csrf)}});appogee._HANDLE_ERROR=true;$(document).ajaxError(function(e,response,settings){if(settings.url&&settings.url.length>5&&settings.url.substring(0,5)=="/json"){return}if(appogee._HANDLE_ERROR){var msg="";if(response.status===0){msg=CommonStrings.offline;return}else if(response.status==401){msg=CommonStrings.sessionExpired}else if(response.status==403){msg=CommonStrings.noAccess}else{msg=CommonStrings.genericError}if(response.status==400){msg=JSON.parse(response.responseText);appogee.alert(CommonStrings.invalidInput,msg.error.message)}else if(response.status==500){appogee.alert(CommonStrings.crikeyTitle,CommonStrings.crikeyMsg)}else if(response.status==410){appogee.alert(CommonStrings.alreadyDeletedTitle,CommonStrings.alreadyDeletedMsg)}else if(response.status!=200){appogee.alert(response.status+": "+response.statusText,msg)}appogee.notifier.hide();if(console){console.log(response)}}appogee._HANDLE_ERROR=true})})};App.prototype.initFloatingHeader=function(){var start=90;var maxHeight=50;var end=start+maxHeight;$(window).scroll(function(){var scrollTop=$(window).scrollTop();if(scrollTop<start){$("#floatingheader").hide()}else if(scrollTop<end){var height=scrollTop-start;var opacity=Math.min(1,.2+height*.02);$("#floatingheader").show().css("height",height).css("opacity",opacity)}else{$("#floatingheader").show().css("height",maxHeight).css("opacity",1);$("#floatingheader .notifier").centerX()}$("#floatingheader > div").toggle(scrollTop>=end)})};App.prototype.addRoute=function(path,func){if(this.routes===null){this.routes={}}this.routes[path]=func};App.prototype.setMenuScroll=function(){$(".main-menu a").each(function(i,a){if(a.classList.contains("selected")&&i>10){$(".main-menu").scrollTop(45*i)}})};App.prototype.showThingToTry=function(){if(this.thingsToTryWindow){if(this.thingsToTryWindow.closed){this.thingsToTryWindow=null}}if(this.thingsToTryWindow){this.thingsToTryWindow.focus();return}var windowName="trialistChecklist";var windowWidth=370;var windowHeight=570;var viewportwidth=document.documentElement.clientWidth;var leftMargin=viewportwidth-windowWidth;window.resizeBy(-windowWidth,0);window.moveTo(0,0);var windowSettings="toolbar=no, location=no, status=no, menubar=no, scrollbars=yes, resizable=yes,";windowSettings+="width="+windowWidth+",";windowSettings+="height="+windowHeight+",";windowSettings+="left="+leftMargin+",";windowSettings+="top=0";var url="/things-to-try";this.thingsToTryWindow=window.open(url,windowName,windowSettings)};return App});define("enums/MonthAbbr",["appogee"],function(appogee){"use strict";var S,R={january:"Jan",february:"Feb",march:"Mar",april:"Apr",may:"May",june:"Jun",july:"Jul",august:"Aug",september:"Sep",october:"Oct",november:"Nov",december:"Dec"};var Month={init:function(){if(!S){S=appogee.getStrings("MonthAbbr",R);this.months=[S.january,S.february,S.march,S.april,S.may,S.june,S.july,S.august,S.september,S.october,S.november,S.december]}},toString:function(i){this.init();if(i<1||i>12){console.error("month index out of range: "+i);return}return this.months[i-1]},asArrayList:function(){this.init();return this.months},asList:function(){this.init();return[{key:"1",value:S.january},{key:"2",value:S.february},{key:"3",value:S.march},{key:"4",value:S.april},{key:"5",value:S.may},{key:"6",value:S.june},{key:"7",value:S.july},{key:"8",value:S.august},{key:"9",value:S.september},{key:"10",value:S.october},{key:"11",value:S.november},{key:"12",value:S.december}]}};return Month});define("enums/EmployeeStatus",["appogee"],function(appogee){"use strict";var S,R={joining:"Joining",active:"Active",former:"Former",archived:"Archived"};var EmployeeStatus={Joining:"joining",Active:"active",Former:"former",Archived:"archived",init:function(){if(!S){S=appogee.getStrings("EmployeeStatus",R)}},toString:function(s){this.init();if(s=="joining"){return S.joining}else if(s=="active"){return S.active}else if(s=="former"){return S.former}else if(s=="archived"){return S.archived}}};return EmployeeStatus});define("templates/helpers/formatDate",["hbs/handlebars","underscore","appogee"],function(Handlebars,_,appogee){"use strict";function formatDate(date,dateFormatString){if(!_.isString(dateFormatString)){var currentUser=appogee.getCurrentUser();if(!currentUser){throw"formatDate helper error: Current User has not been loaded"}dateFormatString=currentUser.dateFormatString}if(!date){return""}return appogee.util.date.toString(date,dateFormatString)}Handlebars.registerHelper("formatDate",formatDate);return formatDate});define("hbs!admin/org/tmpl/OrgSelector",["hbs/handlebars","templates/helpers/s","templates/helpers/formatDate"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){return"form-inline"},3:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<select class="form-control input-sm ddlAdu">\n\t\t</select>\n\t</div>\n'},4:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Division",{name:"s",hash:{},data:data}))+"</label>\n"},6:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(7,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<select class="form-control input-sm ddlTeam">\n\t\t</select>\n\t</div>\n'},7:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Team",{name:"s",hash:{},data:data}))+"</label>\n"},9:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(10,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<select class="form-control input-sm ddlEmployee">\n\t\t</select>\n\t</div>\n'},10:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Employee",{name:"s",hash:{},data:data}))+"</label>\n"},12:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(13,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<select class="form-control input-sm ddlLeaveProfile">\n\t\t</select>\n\t</div>\n'},13:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Leave Profile",{name:"s",hash:{},data:data}))+"</label>\n"},15:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(16,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<select class="form-control input-sm ddlDateRange">\n\t\t</select>\n\t</div>\n'},16:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Select Date Range",{name:"s",hash:{},data:data}))+"</label>\n"},18:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.showDateRangeCustom:depth0,{name:"if",hash:{},fn:this.program(19,data,0),inverse:this.noop,data:data}))!=null?stack1:""},19:function(depth0,helpers,partials,data){var stack1;return'\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(20,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<input type="text" class="form-control input-sm date-picker txtStartDate"\n\t\t\t'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.dateRangeStartDate:depth0,{name:"if",hash:{},fn:this.program(22,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+' />\n\t</div>\n\t<div class="filter-group">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLabels:depth0,{name:"if",hash:{},fn:this.program(24,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\t\t<input type="text" class="form-control input-sm date-picker txtEndDate"\n\t\t\t '+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.dateRangeEndDate:depth0,{name:"if",hash:{},fn:this.program(26,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+' />\n\t</div>\n\t<div class="filter-group">\n\t\t<button class="btn btn-primary btn-sm btnGo">GO</button>\n\t</div>\n\t'},20:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Start Date",{name:"s",hash:{},data:data}))+"</label>\n"},22:function(depth0,helpers,partials,data){return'value="'+this.escapeExpression((helpers.formatDate||depth0&&depth0.formatDate||helpers.helperMissing).call(depth0,depth0!=null?depth0.dateRangeStartDate:depth0,{name:"formatDate",hash:{},data:data}))+'"'},24:function(depth0,helpers,partials,data){return"\t\t<label>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"End Date",{name:"s",hash:{},data:data}))+"</label>\n"},26:function(depth0,helpers,partials,data){return'value="'+this.escapeExpression((helpers.formatDate||depth0&&depth0.formatDate||helpers.helperMissing).call(depth0,depth0!=null?depth0.dateRangeEndDate:depth0,{name:"formatDate",hash:{},data:data}))+'"'},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1,helper;return'<div class="org-selector org-selector-'+this.escapeExpression((helper=(helper=helpers.align||(depth0!=null?depth0.align:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"align",hash:{},data:data}):helper))+" filters "+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.formInline:depth0,{name:"if",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showAdus:depth0,{name:"if",hash:{},fn:this.program(3,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showTeams:depth0,{name:"if",hash:{},fn:this.program(6,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showEmployees:depth0,{name:"if",hash:{},fn:this.program(9,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showLeaveProfiles:depth0,{name:"if",hash:{},fn:this.program(12,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\n"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.showDateRange:depth0,{name:"if",hash:{},fn:this.program(15,data,0),inverse:this.program(18,data,0),data:data}))!=null?stack1:"")+"</div>"},useData:true});Handlebars.registerPartial("admin/org/tmpl/OrgSelector",t);return t});define("enums/MonthEnum",["appogee"],function(appogee){"use strict";var S,R={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"};var Month={init:function(){if(!S){S=appogee.getStrings("MonthEnum",R);this.months=[S.january,S.february,S.march,S.april,S.may,S.june,S.july,S.august,S.september,S.october,S.november,S.december]}},toString:function(i){this.init();if(i<1||i>12){console.error("month index out of range: "+i);return}return this.months[i-1]},asArrayList:function(){this.init();return this.months},asList:function(){this.init();return[{key:"1",value:S.january},{key:"2",value:S.february},{key:"3",value:S.march},{key:"4",value:S.april},{key:"5",value:S.may},{key:"6",value:S.june},{key:"7",value:S.july},{key:"8",value:S.august},{key:"9",value:S.september},{key:"10",value:S.october},{key:"11",value:S.november},{key:"12",value:S.december}]}};return Month});define("enums/Weekday",["appogee"],function(appogee){"use strict";var S,R={monday:"Monday",tuesday:"Tuesday",wednesday:"Wednesday",thursday:"Thursday",friday:"Friday",saturday:"Saturday",sunday:"Sunday"};var Weekday={init:function(){if(!S){S=appogee.getStrings("Weekday",R);this.weekdays=[S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday,S.sunday];this.jsweekdays=[S.sunday,S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday]}},toString:function(i){this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.weekdays[i]},toJsString:function(i){this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.jsweekdays[i]},asArrayList:function(){this.init();return this.weekdays},asArrayListJs:function(){this.init();var clone=this.weekdays.slice(0);clone.splice(0,0,clone.pop());return clone},asList:function(){this.init();return[{key:"0",value:S.monday},{key:"1",value:S.tuesday},{key:"2",value:S.wednesday},{key:"3",value:S.thursday},{key:"4",value:S.friday},{key:"5",value:S.saturday},{key:"6",value:S.sunday}]}};return Weekday});define("enums/WeekdayAbbr",["appogee"],function(appogee){"use strict";var S,R={monday:"Mon",tuesday:"Tue",wednesday:"Wed",thursday:"Thu",friday:"Fri",saturday:"Sat",sunday:"Sun"};var Weekday={init:function(){if(!S){S=appogee.getStrings("WeekdayAbbr",R);this.weekdays=[S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday,S.sunday];this.jsweekdays=[S.sunday,S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday]}},toString:function(i){this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.weekdays[i]},toJsString:function(i){this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.jsweekdays[i]},asArrayList:function(){this.init();return this.weekdays},asArrayListJs:function(){this.init();var clone=this.weekdays.slice(0);clone.splice(0,0,clone.pop());return clone},asList:function(){this.init();return[{key:"0",value:S.monday},{key:"1",value:S.tuesday},{key:"2",value:S.wednesday},{key:"3",value:S.thursday},{key:"4",value:S.friday},{key:"5",value:S.saturday},{key:"6",value:S.sunday}]}};return Weekday});define("enums/WeekdayMin",["appogee"],function(appogee){"use strict";var S,R={monday:"Mo",tuesday:"Tu",wednesday:"We",thursday:"Th",friday:"Fr",saturday:"Sa",sunday:"Su"};var Weekday={init:function(){if(!S){S=appogee.getStrings("WeekdayAbbr",R);this.weekdays=[S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday,S.sunday];this.jsweekdays=[S.sunday,S.monday,S.tuesday,S.wednesday,S.thursday,S.friday,S.saturday]}},toString:function(i){this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.weekdays[i]},toJsString:function(i){
this.init();if(i<0||i>6){console.error("weekday index out of range: "+i);return}return this.jsweekdays[i]},asArrayList:function(){this.init();return this.weekdays},asArrayListJs:function(){this.init();var clone=this.weekdays.slice(0);clone.splice(0,0,clone.pop());return clone},asList:function(){this.init();return[{key:"0",value:S.monday},{key:"1",value:S.tuesday},{key:"2",value:S.wednesday},{key:"3",value:S.thursday},{key:"4",value:S.friday},{key:"5",value:S.saturday},{key:"6",value:S.sunday}]}};return Weekday});define("jquery.appogee.datePicker",["jquery","appogee","enums/CommonStrings","enums/MonthEnum","enums/MonthAbbr","enums/Weekday","enums/WeekdayAbbr","enums/WeekdayMin"],function($,appogee,CommonStrings,Month,MonthAbbr,Weekday,WeekdayAbbr,WeekdayMin){$.fn.appogeeDatePicker=function(options){var currentUser=appogee.getCurrentUser();if(!currentUser){if(console.warn){console.warn("attempt to initialze a datepicker, but current user has not been loaded. unable to set date format string")}else if(console.log){console.log("attempt to initialze a datepicker, but current user has not been loaded. unable to set date format string")}}var range=null;if(options){if(options.yearRange){var year=(new Date).getFullYear();range="{0}:{1}".format(year+options.yearRange[0],year+options.yearRange[1]);delete options["yearRange"]}}options=$.extend({monthNames:Month.asArrayList(),monthNamesShort:MonthAbbr.asArrayList(),dayNames:Weekday.asArrayListJs(),dayNamesShort:WeekdayAbbr.asArrayListJs(),dayNamesMin:WeekdayMin.asArrayListJs(),prevText:CommonStrings.prev,nextText:CommonStrings.next,beforeShow:function(){$("#ui-datepicker-div").addClass("hide_prev_next")},onClose:function(){$("#ui-datepicker-div").removeClass("hide_prev_next")},changeMonth:true,changeYear:true},options||{});if(range){options.yearRange=range}if(!options.dateFormat&&currentUser){options.dateFormat=currentUser.jqueryDateFormatString}return this.each(function(){if(!$(this).hasClass("icon-calendar-lookup")){$(this).addClass("icon-calendar-lookup")}$(this).datepicker(options)})}});define("admin/org/views/OrgSelector",["jquery","underscore","appogee","enums/MonthAbbr","enums/EmployeeStatus","hbs!admin/org/tmpl/OrgSelector","jquery.appogee.datePicker"],function($,_,appogee,MonthAbbr,EmployeeStatus,tmpl){"use strict";var S,R={loading:"Loading ...",allTeams:"- All Teams -",select:"- Select -",virtualTeams:"Virtual Teams",teams:"Teams",allEmployees:"- All Employees -"};var ADU_COOKIE_KEY="a_k";var TEAM_COOKIE_KEY="t_k";var LEAVE_PROFILE_COOKIE_KEY="lp_k";var DATE_RANGE_COOKIE_KEY="dr_k";var View=function($container,options){S=appogee.getStrings("OrgSelector",R);var adus=null;this.currentUser=appogee.getCurrentUser();if(this.currentUser.isAduManager()){adus=appogee.getAdus()}else{adus=appogee.getAdus({root:"self"})}this.$container=$container;options=$.extend({teamsUrl:"/teams",teamsUrlApi:true,teamsProjection:"basic",teams:[],leaveProfiles:[],aduDefaultKey:null,aduTraverse:"both",adus:adus,showTeamAll:false,showTeamAllForce:false,showTeamSelect:true,teamAutoSelect:true,teamDefaultKey:null,excludeTeamKeys:[],showLeaveProfiles:false,leaveProfileAutoSelect:true,leaveProfileDefaultKey:null,showTeams:true,showVTeams:true,showEmployees:false,groupEmployeesByStatus:false,showDateRange:false,dateRangeStartYear:null,dateRangeEndYear:null,dateRangeStartMonth:0,showDateRangeCustom:false,dateRangeStartDate:null,dateRangeEndDate:null,view:null,viewTeamKeyFieldName:"team_keys",useCookies:true,formInline:false,showLabels:true,align:"left"},options||{});this.adus=options.adus;this.teamsUrl=options.teamsUrl;this.teamsUrlApi=options.teamsUrlApi;this.teamsProjection=options.teamsProjection;this.teams=options.teams;this.leaveProfiles=options.leaveProfiles;this.employees=[];this.showAdus=this.adus.length>1;this.aduDefaultKey=options.aduDefaultKey;this.aduTraverse=options.aduTraverse;this.showVTeams=options.showVTeams;this.showTeams=options.showTeams;this.showTeamAll=options.showTeamAll;this.showTeamAllForce=options.showTeamAllForce;this.showTeamSelect=options.showTeamSelect;this.teamAutoSelect=options.teamAutoSelect;this.teamDefaultKey=options.teamDefaultKey;this.excludeTeamKeys=options.excludeTeamKeys;this.showLeaveProfiles=options.showLeaveProfiles;this.leaveProfileAutoSelect=options.leaveProfileAutoSelect;this.leaveProfileDefaultKey=options.leaveProfileDefaultKey;this.showEmployees=options.showEmployees;this.groupEmployeesByStatus=options.groupEmployeesByStatus;this.showDateRange=options.showDateRange;this.dateRangeStartYear=options.dateRangeStartYear;this.dateRangeEndYear=options.dateRangeEndYear;this.dateRangeStartMonth=options.dateRangeStartMonth;if(this.showDateRange){if(this.dateRangeStartYear===null||this.dateRangeEndYear===null){throw"dateRangeStartYear and dateRangeEndYear must be provided for date ranges"}}this.showDateRangeCustom=options.showDateRangeCustom;this.dateRangeStartDate=options.dateRangeStartDate;this.dateRangeEndDate=options.dateRangeEndDate;this.useCookies=options.useCookies;this.formInline=options.formInline;this.showLabels=options.showLabels;this.align=options.align;this.aduChangeHandlers=[];this.teamChangeHandlers=[];this.employeeChangeHandlers=[];this.leaveProfileChangeHandlers=[];this.dateRangeChangeHandlers=[];this.updateHandlers=[];this.teamFetchHandlers=[];this.employeeFetchHandlers=[];this.leaveProfileFetchHandlers=[];this.firstTeamPopulate=true;this.firstLeaveProfilePopulate=true;this.firstRender=true;if(options.view){this.onAduChange(function(adu){options.view.addDefaultKeyFilter("adu_key",adu.key);options.view.removeKeyFilter(options.viewTeamKeyFieldName,true);options.view.fetch()});this.onTeamChange(function(team){if(team){options.view.addKeyFilter(options.viewTeamKeyFieldName,team.key)}else{options.view.removeKeyFilter(options.viewTeamKeyFieldName)}})}};View.prototype.onUpdate=function(handler){this.updateHandlers.push(handler)};View.prototype.onAduChange=function(handler){this.aduChangeHandlers.push(handler)};View.prototype.onTeamFetch=function(handler){this.teamFetchHandlers.push(handler)};View.prototype.onTeamChange=function(handler){this.teamChangeHandlers.push(handler)};View.prototype.onLeaveProfileFetch=function(handler){this.leaveProfileFetchHandlers.push(handler)};View.prototype.onLeaveProfileChange=function(handler){this.leaveProfileChangeHandlers.push(handler)};View.prototype.onDateRangeChange=function(handler){this.dateRangeChangeHandlers.push(handler)};View.prototype.onEmployeeChange=function(handler){this.employeeChangeHandlers.push(handler)};View.prototype.onEmployeeFetch=function(handler){this.employeeFetchHandlers.push(handler)};View.prototype.disableControls=function(){this.$container.find("select,input,button").attr("disabled",true)};View.prototype.enableControls=function(){this.$container.find("select,input,button").attr("disabled",false)};View.prototype.getSelectedAdu=function(){var adu=this.adus[0];if(!adu){adu=this.currentUser.adu}if(this.showAdus){var aduKey=this.$container.find(".ddlAdu").val();adu=_.findWhere(this.adus,{key:aduKey})}return adu};View.prototype.getSelectedTeam=function(){var teamKey=this.$container.find(".ddlTeam").val();var team=_.findWhere(this.teams,{key:teamKey});return team};View.prototype.getSelectedEmployee=function(){var employeeKey=this.$container.find(".ddlEmployee").val();var employee=_.findWhere(this.employees,{key:employeeKey});return employee};View.prototype.getSelectedLeaveProfile=function(){var leaveProfileKey=this.$container.find(".ddlLeaveProfile").val();var leaveProfile=_.findWhere(this.leaveProfiles,{key:leaveProfileKey});return leaveProfile};View.prototype.getSelectedDateRange=function(){var year=this.$container.find(".ddlDateRange").val();return year};View.prototype.getSelectedStartDate=function(){var startDate=this.$container.find(".txtStartDate").datepicker("getDate");return startDate};View.prototype.getSelectedEndDate=function(){var endDate=this.$container.find(".txtEndDate").datepicker("getDate");return endDate};View.prototype.render=function(){var _this30=this;var data={align:this.align,formInline:this.formInline,showAdus:this.adus.length>1,showTeams:this.showTeams,showEmployees:this.showEmployees,showLeaveProfiles:this.showLeaveProfiles,showDateRange:this.showDateRange,showDateRangeCustom:this.showDateRangeCustom,dateRangeStartDate:this.dateRangeStartDate,dateRangeEndDate:this.dateRangeEndDate,showLabels:this.showLabels};this.$container.html(tmpl(data)).find(".date-picker").appogeeDatePicker();this.populateAduDropdown();this.populateTeamDropdown();this.populateEmployeeDropdown();this.populateLeaveProfileDropdown();this.populateDateRangeDropdown();var $ddlAdu=this.$container.find(".ddlAdu");var $ddlTeam=this.$container.find(".ddlTeam");var $ddlEmployee=this.$container.find(".ddlEmployee");var $ddlLeaveProfile=this.$container.find(".ddlLeaveProfile");var $ddlDateRange=this.$container.find(".ddlDateRange");var $btnGo=this.$container.find(".btnGo");$ddlAdu.change(function(e){var aduKey=$(e.currentTarget).val();var adu=_.findWhere(_this30.adus,{key:aduKey});_this30.aduChangeHandlers.forEach(function(h){return h(adu)});$ddlTeam.html("<option>"+S.loading+"</option>");$ddlLeaveProfile.html("<option>"+S.loading+"</option>");_this30.fetchTeams();_this30.fetchLeaveProfiles()});$ddlTeam.change(function(e){var teamKey=$(e.currentTarget).val();var team=_.findWhere(_this30.teams,{key:teamKey});$ddlEmployee.val("");_this30.teamChangeHandlers.forEach(function(h){return h(team)});_this30.fetchEmployees()});$ddlLeaveProfile.change(function(e){var leaveProfileKey=$(e.currentTarget).val();var leaveProfile=_.findWhere(_this30.leaveProfiles,{key:leaveProfileKey});_this30.leaveProfileChangeHandlers.forEach(function(h){return h(leaveProfile)})});$ddlEmployee.change(function(e){var employeeKey=$(e.currentTarget).val();var employee=_.findWhere(_this30.employees,{key:employeeKey});_this30.employeeChangeHandlers.forEach(function(h){return h(employee)})});$ddlDateRange.change(function(e){var year=$(e.currentTarget).val();_this30.dateRangeChangeHandlers.forEach(function(h){return h(year)})});$btnGo.click(function(){_this30.updateHandlers.forEach(function(h){return h()})});if(this.firstRender){if(!this.teams||this.teams.length===0){this.fetchTeams()}if(!this.leaveProfiles||this.leaveProfiles.length===0){this.fetchLeaveProfiles()}this.firstRender=false}};View.prototype.populateAduDropdown=function(){var defaultKey=this.aduDefaultKey;var defaultAdu=_.find(this.adus,{key:defaultKey});if(!defaultKey){var adu=this.currentUser.getActiveAdu();if(adu){defaultKey=adu.key}}if(!defaultKey){defaultKey=this.currentUser.adu.key}var options={keyName:"key",valueName:"path",defaultValue:"",defaultKey:defaultKey};if(this.useCookies){options.cookieKey=ADU_COOKIE_KEY}if(this.aduTraverse=="up"){this.adus=_.filter(this.adus,function(a){if(a.isParent(defaultAdu,true)){return a}})}else if(this.aduTraverse=="down"){this.adus=_.filter(this.adus,function(a){if(defaultAdu.isParent(a,true)){return a}})}var $ddlAdu=this.$container.find(".ddlAdu");appogee.ui.populateDropdown($ddlAdu,this.adus,options);var adu=this.getSelectedAdu();this.aduChangeHandlers.forEach(function(h){return h(adu)})};View.prototype.fetchTeams=function(){var _this31=this;if(!this.showTeams){return}this.teamFetchHandlers.forEach(function(h){return h()});var adu=this.getSelectedAdu();var url="{0}?projection={1}&aduKey={2}".format(this.teamsUrl,this.teamsProjection,adu.key);if(this.showVTeams){url+="&includeVirtualTeams=true"}var ob=this.teamsUrlApi?appogee.api:appogee.xhr;ob.get(url,function(response){_this31.teams=response.items;_this31.populateTeamDropdown();_this31.fetchEmployees()})};View.prototype.populateTeamDropdown=function(){var _this32=this;var teams=_.filter(this.teams,function(t){return _this32.excludeTeamKeys.indexOf(t.key)==-1});var defaultKey="";if(this.teamAutoSelect&&teams.length>0){defaultKey=teams[0].key}if(this.firstTeamPopulate&&this.teamDefaultKey){defaultKey=this.teamDefaultKey}var defaultValue=null;if(this.showTeamAllForce||this.showTeamAll&&this.currentUser.isHrManager()){defaultValue=S.allTeams}else if(this.showTeamSelect){defaultValue=S.select}var options={keyName:"key",valueName:"name",defaultValue:defaultValue,default:defaultKey};if(this.useCookies){options.cookieKey=TEAM_COOKIE_KEY}if(this.showVTeams){teams.forEach(function(t){if(t.type=="vteam"){t.typeString=S.virtualTeams}else{t.typeString=S.teams}});options.groupBy="typeString";options.groupBySingle=false}var $ddlTeam=this.$container.find(".ddlTeam");appogee.ui.populateDropdown($ddlTeam,teams,options);var team=this.getSelectedTeam();this.teamChangeHandlers.forEach(function(h){return h(team)});if(this.firstTeamPopulate){this.fetchEmployees()}this.firstTeamPopulate=false};View.prototype.fetchLeaveProfiles=function(){var _this33=this;if(!this.showLeaveProfiles){return}this.leaveProfileFetchHandlers.forEach(function(h){return h()});var adu=this.getSelectedAdu();var url="/leave-profiles?projection=summary&aduKey={0}&aduTraverse=up".format(adu.key);appogee.api.get(url,function(response){_this33.leaveProfiles=response.items;_this33.populateLeaveProfileDropdown()})};View.prototype.populateLeaveProfileDropdown=function(){var defaultKey="";if(this.leaveProfileAutoSelect&&this.leaveProfiles.length>0){defaultKey=this.leaveProfiles[0].key}if(this.firstLeaveProfilePopulate&&this.leaveProfileDefaultKey){defaultKey=this.leaveProfileDefaultKey}this.firstLeaveProfilePopulate=false;var options={keyName:"key",valueName:"name",groupBy:"adu.path",default:defaultKey};if(this.useCookies){options.cookieKey=LEAVE_PROFILE_COOKIE_KEY}var $ddlLeaveProfile=this.$container.find(".ddlLeaveProfile");appogee.ui.populateDropdown($ddlLeaveProfile,this.leaveProfiles,options);var leaveProfile=this.getSelectedLeaveProfile();this.leaveProfileChangeHandlers.forEach(function(h){return h(leaveProfile)})};View.prototype.populateDateRangeDropdown=function(){var dateRanges=[];var defaultKey="";var today=new Date;for(var year=this.dateRangeStartYear;year<=this.dateRangeEndYear;year++){var dateRangeEndMonth=this.dateRangeStartMonth===0?11:this.dateRangeStartMonth-1;var endYear=this.dateRangeStartMonth===0?year:year+1;var startDate=new Date(year,this.dateRangeStartMonth,1);var endDate=new Date(year+1,this.dateRangeStartMonth,1);if(today>=startDate&&today<endDate){defaultKey=year}var value="{0} {1} - {2} {3}".format(MonthAbbr.toString(this.dateRangeStartMonth+1),year,MonthAbbr.toString(dateRangeEndMonth+1),endYear);dateRanges.push({key:year,value:value})}var options={default:defaultKey};if(this.useCookies){options.cookieKey=DATE_RANGE_COOKIE_KEY}var $ddlDateRange=this.$container.find(".ddlDateRange");appogee.ui.populateDropdown($ddlDateRange,dateRanges,options);var dateRange=this.getSelectedDateRange();this.dateRangeChangeHandlers.forEach(function(h){return h(dateRange)})};View.prototype.fetchEmployees=function(){var _this34=this;if(!this.showEmployees){return}var team=this.getSelectedTeam();if(!team){this.employees=[];this.populateEmployeeDropdown();return}this.employeeFetchHandlers.forEach(function(h){return h()});var url="/employees?teamKey={0}&projection=basic".format(team.key);appogee.api.get(url,function(response){_this34.employees=response.items;_this34.populateEmployeeDropdown()})};View.prototype.populateEmployeeDropdown=function(){var $ddlEmployee=this.$container.find(".ddlEmployee");var params={keyName:"key",valueFormatter:function(e){return e.firstName+" "+e.lastName},defaultValue:S.allEmployees};if(this.groupEmployeesByStatus){params.groupBy="status";params.groupByFormatter=function(s){return EmployeeStatus.toString(s)}}appogee.ui.populateDropdown($ddlEmployee,this.employees,params)};return View});define("checklists/checklists",["jquery","appogee","admin/org/views/OrgSelector"],function($,appogee,OrgSelector){"use strict";var S,R={colChecklist:"Checklist",colAssignedTo:"Assigned To",colAssignedBy:"Assigned By",colTarget:"Target Employee",colDue:"Due",colProgress:"Progress",colStatus:"Status"};var PAGE_ID_EMPLOYEE="myhr-checklists";var PAGE_ID_MANAGER="mgmt-checklists";return{defaultStrings:R,view:null,getLoadUrls:function(){var urls=[];if(this.isManagerPage()){var aduKey=this.currentUser.getActiveAduKey();var teamsUrl="/teams?aduKey={0}&projection=basic&includeVirtualTeams=true&limit=1000".format(aduKey);urls.push(teamsUrl)}return{api:urls}},initialize:function(args){var _this35=this;S=this.S;this.pageId=args.pageId;this.initView();var status=appogee.util.getUrlParam("status");if(appogee.validation.validateInt(status)){status=parseInt(status);var allowedStatuses=[0,1,2,5];if(allowedStatuses.indexOf(status)>-1){$("#ddlStatus").val(status)}}$("#ddlStatus").change(function(e){var value=e.currentTarget.value;if(value===""){_this35.view.removeFilter("status")}else if(value=="default"){_this35.view.addFilter("status","0,1")}else{_this35.view.addFilter("status",parseInt(value))}})},isEmployeePage:function(){return this.pageId==PAGE_ID_EMPLOYEE},isManagerPage:function(){return this.pageId==PAGE_ID_MANAGER},onLoad:function(teams){if(this.isManagerPage()){this.initOrgSelector(teams.items)}$("#h2PageTitle").html("")},initView:function(){var urlPart=null;if(this.isManagerPage()){urlPart="/mgmt"}else{urlPart="/my"}var now=new Date;var now3=(new Date).setDate(now.getDate()+3);this.view=new appogee.View($("#viewContainer"),"checklists",{showSearch:false});this.view.addFilter("status","0,1",true);if(this.isEmployeePage()){this.view.addDefaultKeyFilter("assigned_to_key",this.currentUser.key);this.view.addDefaultKeyFilter("adu_key",this.currentUser.adu.key)}else{this.view.addDefaultKeyFilter("adu_key",this.currentUser.getActiveAduKey())}this.view.addColumn({type:"link",label:S.colChecklist,field:"[name]",link:urlPart+"/checklist?key=[key]"});if(!this.isEmployeePage()){this.view.addColumn({type:"text",label:S.colAssignedTo,field:"[assignedTo.email]"})}this.view.addColumn({type:"text",label:S.colAssignedBy,field:"[assignedBy.email]"});this.view.addColumn({type:"custom",label:S.colTarget,render:function(checklist){if(checklist.targetEmployee){return checklist.targetEmployee.email}return""}});this.view.addColumn({type:"custom",label:S.colDue,field:"[dueIn]",render:function(checklist){var date=new Date(checklist.dueDate);var flag="red";if(date<now){flag="red"}else if(date<now3){flag="yellow"}else{flag="green"}var html='<div class="flag-{0} flag-left">{1}</div>'.format(flag,checklist.dueIn);return html}});this.view.addColumn({type:"custom",label:S.colProgress,render:function(checklist){var perc=(checklist.completeCount/checklist.itemCount*100).toFixed(1);return perc+"%"}});this.view.addColumn({type:"text",label:S.colStatus,field:"[statusDisplay]"});this.view.fetch()},initOrgSelector:function(teams){if(!this.isManagerPage()){return}var showTeamAll=this.currentUser.isHrManager();this.orgSelector=new OrgSelector($("#orgSelector"),{teams:teams,showTeamAll:showTeamAll,showTeamSelect:false,showVTeams:true,view:this.view,viewTeamKeyFieldName:"assigned_to_team_keys"});this.orgSelector.render()}}});if(typeof jQuery==="undefined"){throw new Error("Bootstrap's JavaScript requires jQuery")}+function($){"use strict";var version=$.fn.jquery.split(" ")[0].split(".");if(version[0]<2&&version[1]<9||version[0]==1&&version[1]==9&&version[2]<1){throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}}(jQuery);+function($){"use strict";function transitionEnd(){var el=document.createElement("bootstrap");var transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var name in transEndEventNames){if(el.style[name]!==undefined){return{end:transEndEventNames[name]}}}return false}$.fn.emulateTransitionEnd=function(duration){var called=false;var $el=this;$(this).one("bsTransitionEnd",function(){called=true});var callback=function(){if(!called)$($el).trigger($.support.transition.end)};setTimeout(callback,duration);return this};$(function(){$.support.transition=transitionEnd();if(!$.support.transition)return;$.event.special.bsTransitionEnd={bindType:$.support.transition.end,delegateType:$.support.transition.end,handle:function(e){if($(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}})}(jQuery);+function($){"use strict";var dismiss='[data-dismiss="alert"]';var Alert=function(el){$(el).on("click",dismiss,this.close)};Alert.VERSION="3.3.5";Alert.TRANSITION_DURATION=150;Alert.prototype.close=function(e){var $this=$(this);var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=$(selector);if(e)e.preventDefault();if(!$parent.length){$parent=$this.closest(".alert")}$parent.trigger(e=$.Event("close.bs.alert"));if(e.isDefaultPrevented())return;$parent.removeClass("in");function removeElement(){$parent.detach().trigger("closed.bs.alert").remove()}$.support.transition&&$parent.hasClass("fade")?$parent.one("bsTransitionEnd",removeElement).emulateTransitionEnd(Alert.TRANSITION_DURATION):removeElement()};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.alert");if(!data)$this.data("bs.alert",data=new Alert(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.alert;$.fn.alert=Plugin;$.fn.alert.Constructor=Alert;$.fn.alert.noConflict=function(){$.fn.alert=old;return this};$(document).on("click.bs.alert.data-api",dismiss,Alert.prototype.close)}(jQuery);+function($){"use strict";var Button=function(element,options){this.$element=$(element);this.options=$.extend({},Button.DEFAULTS,options);this.isLoading=false};Button.VERSION="3.3.5";Button.DEFAULTS={loadingText:"loading..."};Button.prototype.setState=function(state){var d="disabled";var $el=this.$element;var val=$el.is("input")?"val":"html";var data=$el.data();state+="Text";if(data.resetText==null)$el.data("resetText",$el[val]());setTimeout($.proxy(function(){$el[val](data[state]==null?this.options[state]:data[state]);if(state=="loadingText"){this.isLoading=true;$el.addClass(d).attr(d,d)}else if(this.isLoading){this.isLoading=false;$el.removeClass(d).removeAttr(d)}},this),0)};Button.prototype.toggle=function(){var changed=true;var $parent=this.$element.closest('[data-toggle="buttons"]');if($parent.length){var $input=this.$element.find("input");if($input.prop("type")=="radio"){if($input.prop("checked"))changed=false;$parent.find(".active").removeClass("active");this.$element.addClass("active")}else if($input.prop("type")=="checkbox"){if($input.prop("checked")!==this.$element.hasClass("active"))changed=false;this.$element.toggleClass("active")}$input.prop("checked",this.$element.hasClass("active"));if(changed)$input.trigger("change")}else{this.$element.attr("aria-pressed",!this.$element.hasClass("active"));this.$element.toggleClass("active")}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.button");var options=typeof option=="object"&&option;if(!data)$this.data("bs.button",data=new Button(this,options));if(option=="toggle")data.toggle();else if(option)data.setState(option)})}var old=$.fn.button;$.fn.button=Plugin;$.fn.button.Constructor=Button;$.fn.button.noConflict=function(){$.fn.button=old;return this};$(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var $btn=$(e.target);if(!$btn.hasClass("btn"))$btn=$btn.closest(".btn");Plugin.call($btn,"toggle");if(!($(e.target).is('input[type="radio"]')||$(e.target).is('input[type="checkbox"]')))e.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){$(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery);+function($){"use strict";var Carousel=function(element,options){this.$element=$(element);this.$indicators=this.$element.find(".carousel-indicators");this.options=options;this.paused=null;this.sliding=null;this.interval=null;this.$active=null;this.$items=null;this.options.keyboard&&this.$element.on("keydown.bs.carousel",$.proxy(this.keydown,this));this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",$.proxy(this.pause,this)).on("mouseleave.bs.carousel",$.proxy(this.cycle,this))};Carousel.VERSION="3.3.5";Carousel.TRANSITION_DURATION=600;Carousel.DEFAULTS={interval:5e3,pause:"hover",wrap:true,keyboard:true};Carousel.prototype.keydown=function(e){if(/input|textarea/i.test(e.target.tagName))return;switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()};Carousel.prototype.cycle=function(e){e||(this.paused=false);this.interval&&clearInterval(this.interval);this.options.interval&&!this.paused&&(this.interval=setInterval($.proxy(this.next,this),this.options.interval));return this};Carousel.prototype.getItemIndex=function(item){this.$items=item.parent().children(".item");return this.$items.index(item||this.$active)};Carousel.prototype.getItemForDirection=function(direction,active){var activeIndex=this.getItemIndex(active);var willWrap=direction=="prev"&&activeIndex===0||direction=="next"&&activeIndex==this.$items.length-1;if(willWrap&&!this.options.wrap)return active;var delta=direction=="prev"?-1:1;var itemIndex=(activeIndex+delta)%this.$items.length;return this.$items.eq(itemIndex)};Carousel.prototype.to=function(pos){var that=this;var activeIndex=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(pos>this.$items.length-1||pos<0)return;if(this.sliding)return this.$element.one("slid.bs.carousel",function(){that.to(pos)});if(activeIndex==pos)return this.pause().cycle();return this.slide(pos>activeIndex?"next":"prev",this.$items.eq(pos))};Carousel.prototype.pause=function(e){e||(this.paused=true);if(this.$element.find(".next, .prev").length&&$.support.transition){this.$element.trigger($.support.transition.end);this.cycle(true)}this.interval=clearInterval(this.interval);return this};Carousel.prototype.next=function(){if(this.sliding)return;return this.slide("next")};Carousel.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")};Carousel.prototype.slide=function(type,next){var $active=this.$element.find(".item.active");var $next=next||this.getItemForDirection(type,$active);var isCycling=this.interval;var direction=type=="next"?"left":"right";var that=this;if($next.hasClass("active"))return this.sliding=false;var relatedTarget=$next[0];var slideEvent=$.Event("slide.bs.carousel",{relatedTarget:relatedTarget,direction:direction});this.$element.trigger(slideEvent);if(slideEvent.isDefaultPrevented())return;this.sliding=true;isCycling&&this.pause();if(this.$indicators.length){this.$indicators.find(".active").removeClass("active");var $nextIndicator=$(this.$indicators.children()[this.getItemIndex($next)]);$nextIndicator&&$nextIndicator.addClass("active")}var slidEvent=$.Event("slid.bs.carousel",{relatedTarget:relatedTarget,direction:direction});if($.support.transition&&this.$element.hasClass("slide")){$next.addClass(type);$next[0].offsetWidth;$active.addClass(direction);$next.addClass(direction);$active.one("bsTransitionEnd",function(){$next.removeClass([type,direction].join(" ")).addClass("active");$active.removeClass(["active",direction].join(" "));that.sliding=false;setTimeout(function(){that.$element.trigger(slidEvent)},0)}).emulateTransitionEnd(Carousel.TRANSITION_DURATION)}else{$active.removeClass("active");$next.addClass("active");this.sliding=false;this.$element.trigger(slidEvent)}isCycling&&this.cycle();return this};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.carousel");var options=$.extend({},Carousel.DEFAULTS,$this.data(),typeof option=="object"&&option);var action=typeof option=="string"?option:options.slide;if(!data)$this.data("bs.carousel",data=new Carousel(this,options));if(typeof option=="number")data.to(option);else if(action)data[action]();else if(options.interval)data.pause().cycle()})}var old=$.fn.carousel;$.fn.carousel=Plugin;$.fn.carousel.Constructor=Carousel;$.fn.carousel.noConflict=function(){$.fn.carousel=old;return this};var clickHandler=function(e){var href;var $this=$(this);var $target=$($this.attr("data-target")||(href=$this.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,""));if(!$target.hasClass("carousel"))return;var options=$.extend({},$target.data(),$this.data());var slideIndex=$this.attr("data-slide-to");if(slideIndex)options.interval=false;Plugin.call($target,options);if(slideIndex){$target.data("bs.carousel").to(slideIndex)}e.preventDefault()};$(document).on("click.bs.carousel.data-api","[data-slide]",clickHandler).on("click.bs.carousel.data-api","[data-slide-to]",clickHandler);$(window).on("load",function(){$('[data-ride="carousel"]').each(function(){var $carousel=$(this);Plugin.call($carousel,$carousel.data())})})}(jQuery);+function($){"use strict";var Collapse=function(element,options){this.$element=$(element);this.options=$.extend({},Collapse.DEFAULTS,options);this.$trigger=$('[data-toggle="collapse"][href="#'+element.id+'"],'+'[data-toggle="collapse"][data-target="#'+element.id+'"]');this.transitioning=null;if(this.options.parent){this.$parent=this.getParent()}else{this.addAriaAndCollapsedClass(this.$element,this.$trigger)}if(this.options.toggle)this.toggle()};Collapse.VERSION="3.3.5";Collapse.TRANSITION_DURATION=350;Collapse.DEFAULTS={toggle:true};Collapse.prototype.dimension=function(){var hasWidth=this.$element.hasClass("width");return hasWidth?"width":"height"};Collapse.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var activesData;var actives=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(actives&&actives.length){activesData=actives.data("bs.collapse");if(activesData&&activesData.transitioning)return}var startEvent=$.Event("show.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;if(actives&&actives.length){Plugin.call(actives,"hide");activesData||actives.data("bs.collapse",null)}var dimension=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[dimension](0).attr("aria-expanded",true);this.$trigger.removeClass("collapsed").attr("aria-expanded",true);this.transitioning=1;var complete=function(){this.$element.removeClass("collapsing").addClass("collapse in")[dimension]("");this.transitioning=0;this.$element.trigger("shown.bs.collapse")};if(!$.support.transition)return complete.call(this);var scrollSize=$.camelCase(["scroll",dimension].join("-"));this.$element.one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)[dimension](this.$element[0][scrollSize])};Collapse.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var startEvent=$.Event("hide.bs.collapse");this.$element.trigger(startEvent);if(startEvent.isDefaultPrevented())return;var dimension=this.dimension();this.$element[dimension](this.$element[dimension]())[0].offsetHeight;this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",false);this.$trigger.addClass("collapsed").attr("aria-expanded",false);this.transitioning=1;var complete=function(){this.transitioning=0;this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!$.support.transition)return complete.call(this);this.$element[dimension](0).one("bsTransitionEnd",$.proxy(complete,this)).emulateTransitionEnd(Collapse.TRANSITION_DURATION)};Collapse.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};Collapse.prototype.getParent=function(){return $(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each($.proxy(function(i,element){var $element=$(element);this.addAriaAndCollapsedClass(getTargetFromTrigger($element),$element)},this)).end()};Collapse.prototype.addAriaAndCollapsedClass=function($element,$trigger){var isOpen=$element.hasClass("in")
;$element.attr("aria-expanded",isOpen);$trigger.toggleClass("collapsed",!isOpen).attr("aria-expanded",isOpen)};function getTargetFromTrigger($trigger){var href;var target=$trigger.attr("data-target")||(href=$trigger.attr("href"))&&href.replace(/.*(?=#[^\s]+$)/,"");return $(target)}function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.collapse");var options=$.extend({},Collapse.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data&&options.toggle&&/show|hide/.test(option))options.toggle=false;if(!data)$this.data("bs.collapse",data=new Collapse(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.collapse;$.fn.collapse=Plugin;$.fn.collapse.Constructor=Collapse;$.fn.collapse.noConflict=function(){$.fn.collapse=old;return this};$(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var $this=$(this);if(!$this.attr("data-target"))e.preventDefault();var $target=getTargetFromTrigger($this);var data=$target.data("bs.collapse");var option=data?"toggle":$this.data();Plugin.call($target,option)})}(jQuery);+function($){"use strict";var backdrop=".dropdown-backdrop";var toggle='[data-toggle="dropdown"]';var Dropdown=function(element){$(element).on("click.bs.dropdown",this.toggle)};Dropdown.VERSION="3.3.5";function getParent($this){var selector=$this.attr("data-target");if(!selector){selector=$this.attr("href");selector=selector&&/#[A-Za-z]/.test(selector)&&selector.replace(/.*(?=#[^\s]*$)/,"")}var $parent=selector&&$(selector);return $parent&&$parent.length?$parent:$this.parent()}function clearMenus(e){if(e&&e.which===3)return;$(backdrop).remove();$(toggle).each(function(){var $this=$(this);var $parent=getParent($this);var relatedTarget={relatedTarget:this};if(!$parent.hasClass("open"))return;if(e&&e.type=="click"&&/input|textarea/i.test(e.target.tagName)&&$.contains($parent[0],e.target))return;$parent.trigger(e=$.Event("hide.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.attr("aria-expanded","false");$parent.removeClass("open").trigger("hidden.bs.dropdown",relatedTarget)})}Dropdown.prototype.toggle=function(e){var $this=$(this);if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");clearMenus();if(!isActive){if("ontouchstart"in document.documentElement&&!$parent.closest(".navbar-nav").length){$(document.createElement("div")).addClass("dropdown-backdrop").insertAfter($(this)).on("click",clearMenus)}var relatedTarget={relatedTarget:this};$parent.trigger(e=$.Event("show.bs.dropdown",relatedTarget));if(e.isDefaultPrevented())return;$this.trigger("focus").attr("aria-expanded","true");$parent.toggleClass("open").trigger("shown.bs.dropdown",relatedTarget)}return false};Dropdown.prototype.keydown=function(e){if(!/(38|40|27|32)/.test(e.which)||/input|textarea/i.test(e.target.tagName))return;var $this=$(this);e.preventDefault();e.stopPropagation();if($this.is(".disabled, :disabled"))return;var $parent=getParent($this);var isActive=$parent.hasClass("open");if(!isActive&&e.which!=27||isActive&&e.which==27){if(e.which==27)$parent.find(toggle).trigger("focus");return $this.trigger("click")}var desc=" li:not(.disabled):visible a";var $items=$parent.find(".dropdown-menu"+desc);if(!$items.length)return;var index=$items.index(e.target);if(e.which==38&&index>0)index--;if(e.which==40&&index<$items.length-1)index++;if(!~index)index=0;$items.eq(index).trigger("focus")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.dropdown");if(!data)$this.data("bs.dropdown",data=new Dropdown(this));if(typeof option=="string")data[option].call($this)})}var old=$.fn.dropdown;$.fn.dropdown=Plugin;$.fn.dropdown.Constructor=Dropdown;$.fn.dropdown.noConflict=function(){$.fn.dropdown=old;return this};$(document).on("click.bs.dropdown.data-api",clearMenus).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",toggle,Dropdown.prototype.toggle).on("keydown.bs.dropdown.data-api",toggle,Dropdown.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",Dropdown.prototype.keydown)}(jQuery);+function($){"use strict";var Modal=function(element,options){this.options=options;this.$body=$(document.body);this.$element=$(element);this.$dialog=this.$element.find(".modal-dialog");this.$backdrop=null;this.isShown=null;this.originalBodyPad=null;this.scrollbarWidth=0;this.ignoreBackdropClick=false;if(this.options.remote){this.$element.find(".modal-content").load(this.options.remote,$.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))}};Modal.VERSION="3.3.5";Modal.TRANSITION_DURATION=300;Modal.BACKDROP_TRANSITION_DURATION=150;Modal.DEFAULTS={backdrop:true,keyboard:true,show:true};Modal.prototype.toggle=function(_relatedTarget){return this.isShown?this.hide():this.show(_relatedTarget)};Modal.prototype.show=function(_relatedTarget){var that=this;var e=$.Event("show.bs.modal",{relatedTarget:_relatedTarget});this.$element.trigger(e);if(this.isShown||e.isDefaultPrevented())return;this.isShown=true;this.checkScrollbar();this.setScrollbar();this.$body.addClass("modal-open");this.escape();this.resize();this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',$.proxy(this.hide,this));this.$dialog.on("mousedown.dismiss.bs.modal",function(){that.$element.one("mouseup.dismiss.bs.modal",function(e){if($(e.target).is(that.$element))that.ignoreBackdropClick=true})});this.backdrop(function(){var transition=$.support.transition&&that.$element.hasClass("fade");if(!that.$element.parent().length){that.$element.appendTo(that.$body)}that.$element.show().scrollTop(0);that.adjustDialog();if(transition){that.$element[0].offsetWidth}that.$element.addClass("in");that.enforceFocus();var e=$.Event("shown.bs.modal",{relatedTarget:_relatedTarget});transition?that.$dialog.one("bsTransitionEnd",function(){that.$element.trigger("focus").trigger(e)}).emulateTransitionEnd(Modal.TRANSITION_DURATION):that.$element.trigger("focus").trigger(e)})};Modal.prototype.hide=function(e){if(e)e.preventDefault();e=$.Event("hide.bs.modal");this.$element.trigger(e);if(!this.isShown||e.isDefaultPrevented())return;this.isShown=false;this.escape();this.resize();$(document).off("focusin.bs.modal");this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal");this.$dialog.off("mousedown.dismiss.bs.modal");$.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",$.proxy(this.hideModal,this)).emulateTransitionEnd(Modal.TRANSITION_DURATION):this.hideModal()};Modal.prototype.enforceFocus=function(){$(document).off("focusin.bs.modal").on("focusin.bs.modal",$.proxy(function(e){if(this.$element[0]!==e.target&&!this.$element.has(e.target).length){this.$element.trigger("focus")}},this))};Modal.prototype.escape=function(){if(this.isShown&&this.options.keyboard){this.$element.on("keydown.dismiss.bs.modal",$.proxy(function(e){e.which==27&&this.hide()},this))}else if(!this.isShown){this.$element.off("keydown.dismiss.bs.modal")}};Modal.prototype.resize=function(){if(this.isShown){$(window).on("resize.bs.modal",$.proxy(this.handleUpdate,this))}else{$(window).off("resize.bs.modal")}};Modal.prototype.hideModal=function(){var that=this;this.$element.hide();this.backdrop(function(){that.$body.removeClass("modal-open");that.resetAdjustments();that.resetScrollbar();that.$element.trigger("hidden.bs.modal")})};Modal.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove();this.$backdrop=null};Modal.prototype.backdrop=function(callback){var that=this;var animate=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var doAnimate=$.support.transition&&animate;this.$backdrop=$(document.createElement("div")).addClass("modal-backdrop "+animate).appendTo(this.$body);this.$element.on("click.dismiss.bs.modal",$.proxy(function(e){if(this.ignoreBackdropClick){this.ignoreBackdropClick=false;return}if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus():this.hide()},this));if(doAnimate)this.$backdrop[0].offsetWidth;this.$backdrop.addClass("in");if(!callback)return;doAnimate?this.$backdrop.one("bsTransitionEnd",callback).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callback()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var callbackRemove=function(){that.removeBackdrop();callback&&callback()};$.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",callbackRemove).emulateTransitionEnd(Modal.BACKDROP_TRANSITION_DURATION):callbackRemove()}else if(callback){callback()}};Modal.prototype.handleUpdate=function(){this.adjustDialog()};Modal.prototype.adjustDialog=function(){var modalIsOverflowing=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&modalIsOverflowing?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!modalIsOverflowing?this.scrollbarWidth:""})};Modal.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})};Modal.prototype.checkScrollbar=function(){var fullWindowWidth=window.innerWidth;if(!fullWindowWidth){var documentElementRect=document.documentElement.getBoundingClientRect();fullWindowWidth=documentElementRect.right-Math.abs(documentElementRect.left)}this.bodyIsOverflowing=document.body.clientWidth<fullWindowWidth;this.scrollbarWidth=this.measureScrollbar()};Modal.prototype.setScrollbar=function(){var bodyPad=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";if(this.bodyIsOverflowing)this.$body.css("padding-right",bodyPad+this.scrollbarWidth)};Modal.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)};Modal.prototype.measureScrollbar=function(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";this.$body.append(scrollDiv);var scrollbarWidth=scrollDiv.offsetWidth-scrollDiv.clientWidth;this.$body[0].removeChild(scrollDiv);return scrollbarWidth};function Plugin(option,_relatedTarget){return this.each(function(){var $this=$(this);var data=$this.data("bs.modal");var options=$.extend({},Modal.DEFAULTS,$this.data(),typeof option=="object"&&option);if(!data)$this.data("bs.modal",data=new Modal(this,options));if(typeof option=="string")data[option](_relatedTarget);else if(options.show)data.show(_relatedTarget)})}var old=$.fn.modal;$.fn.modal=Plugin;$.fn.modal.Constructor=Modal;$.fn.modal.noConflict=function(){$.fn.modal=old;return this};$(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var $this=$(this);var href=$this.attr("href");var $target=$($this.attr("data-target")||href&&href.replace(/.*(?=#[^\s]+$)/,""));var option=$target.data("bs.modal")?"toggle":$.extend({remote:!/#/.test(href)&&href},$target.data(),$this.data());if($this.is("a"))e.preventDefault();$target.one("show.bs.modal",function(showEvent){if(showEvent.isDefaultPrevented())return;$target.one("hidden.bs.modal",function(){$this.is(":visible")&&$this.trigger("focus")})});Plugin.call($target,option,this)})}(jQuery);+function($){"use strict";var Tooltip=function(element,options){this.type=null;this.options=null;this.enabled=null;this.timeout=null;this.hoverState=null;this.$element=null;this.inState=null;this.init("tooltip",element,options)};Tooltip.VERSION="3.3.5";Tooltip.TRANSITION_DURATION=150;Tooltip.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};Tooltip.prototype.init=function(type,element,options){this.enabled=true;this.type=type;this.$element=$(element);this.options=this.getOptions(options);this.$viewport=this.options.viewport&&$($.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport);this.inState={click:false,hover:false,focus:false};if(this.$element[0]instanceof document.constructor&&!this.options.selector){throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!")}var triggers=this.options.trigger.split(" ");for(var i=triggers.length;i--;){var trigger=triggers[i];if(trigger=="click"){this.$element.on("click."+this.type,this.options.selector,$.proxy(this.toggle,this))}else if(trigger!="manual"){var eventIn=trigger=="hover"?"mouseenter":"focusin";var eventOut=trigger=="hover"?"mouseleave":"focusout";this.$element.on(eventIn+"."+this.type,this.options.selector,$.proxy(this.enter,this));this.$element.on(eventOut+"."+this.type,this.options.selector,$.proxy(this.leave,this))}}this.options.selector?this._options=$.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()};Tooltip.prototype.getDefaults=function(){return Tooltip.DEFAULTS};Tooltip.prototype.getOptions=function(options){options=$.extend({},this.getDefaults(),this.$element.data(),options);if(options.delay&&typeof options.delay=="number"){options.delay={show:options.delay,hide:options.delay}}return options};Tooltip.prototype.getDelegateOptions=function(){var options={};var defaults=this.getDefaults();this._options&&$.each(this._options,function(key,value){if(defaults[key]!=value)options[key]=value});return options};Tooltip.prototype.enter=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusin"?"focus":"hover"]=true}if(self.tip().hasClass("in")||self.hoverState=="in"){self.hoverState="in";return}clearTimeout(self.timeout);self.hoverState="in";if(!self.options.delay||!self.options.delay.show)return self.show();self.timeout=setTimeout(function(){if(self.hoverState=="in")self.show()},self.options.delay.show)};Tooltip.prototype.isInStateTrue=function(){for(var key in this.inState){if(this.inState[key])return true}return false};Tooltip.prototype.leave=function(obj){var self=obj instanceof this.constructor?obj:$(obj.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(obj.currentTarget,this.getDelegateOptions());$(obj.currentTarget).data("bs."+this.type,self)}if(obj instanceof $.Event){self.inState[obj.type=="focusout"?"focus":"hover"]=false}if(self.isInStateTrue())return;clearTimeout(self.timeout);self.hoverState="out";if(!self.options.delay||!self.options.delay.hide)return self.hide();self.timeout=setTimeout(function(){if(self.hoverState=="out")self.hide()},self.options.delay.hide)};Tooltip.prototype.show=function(){var e=$.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var inDom=$.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!inDom)return;var that=this;var $tip=this.tip();var tipId=this.getUID(this.type);this.setContent();$tip.attr("id",tipId);this.$element.attr("aria-describedby",tipId);if(this.options.animation)$tip.addClass("fade");var placement=typeof this.options.placement=="function"?this.options.placement.call(this,$tip[0],this.$element[0]):this.options.placement;var autoToken=/\s?auto?\s?/i;var autoPlace=autoToken.test(placement);if(autoPlace)placement=placement.replace(autoToken,"")||"top";$tip.detach().css({top:0,left:0,display:"block"}).addClass(placement).data("bs."+this.type,this);this.options.container?$tip.appendTo(this.options.container):$tip.insertAfter(this.$element);this.$element.trigger("inserted.bs."+this.type);var pos=this.getPosition();var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(autoPlace){var orgPlacement=placement;var viewportDim=this.getPosition(this.$viewport);placement=placement=="bottom"&&pos.bottom+actualHeight>viewportDim.bottom?"top":placement=="top"&&pos.top-actualHeight<viewportDim.top?"bottom":placement=="right"&&pos.right+actualWidth>viewportDim.width?"left":placement=="left"&&pos.left-actualWidth<viewportDim.left?"right":placement;$tip.removeClass(orgPlacement).addClass(placement)}var calculatedOffset=this.getCalculatedOffset(placement,pos,actualWidth,actualHeight);this.applyPlacement(calculatedOffset,placement);var complete=function(){var prevHoverState=that.hoverState;that.$element.trigger("shown.bs."+that.type);that.hoverState=null;if(prevHoverState=="out")that.leave(that)};$.support.transition&&this.$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete()}};Tooltip.prototype.applyPlacement=function(offset,placement){var $tip=this.tip();var width=$tip[0].offsetWidth;var height=$tip[0].offsetHeight;var marginTop=parseInt($tip.css("margin-top"),10);var marginLeft=parseInt($tip.css("margin-left"),10);if(isNaN(marginTop))marginTop=0;if(isNaN(marginLeft))marginLeft=0;offset.top+=marginTop;offset.left+=marginLeft;$.offset.setOffset($tip[0],$.extend({using:function(props){$tip.css({top:Math.round(props.top),left:Math.round(props.left)})}},offset),0);$tip.addClass("in");var actualWidth=$tip[0].offsetWidth;var actualHeight=$tip[0].offsetHeight;if(placement=="top"&&actualHeight!=height){offset.top=offset.top+height-actualHeight}var delta=this.getViewportAdjustedDelta(placement,offset,actualWidth,actualHeight);if(delta.left)offset.left+=delta.left;else offset.top+=delta.top;var isVertical=/top|bottom/.test(placement);var arrowDelta=isVertical?delta.left*2-width+actualWidth:delta.top*2-height+actualHeight;var arrowOffsetPosition=isVertical?"offsetWidth":"offsetHeight";$tip.offset(offset);this.replaceArrow(arrowDelta,$tip[0][arrowOffsetPosition],isVertical)};Tooltip.prototype.replaceArrow=function(delta,dimension,isVertical){this.arrow().css(isVertical?"left":"top",50*(1-delta/dimension)+"%").css(isVertical?"top":"left","")};Tooltip.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();$tip.find(".tooltip-inner")[this.options.html?"html":"text"](title);$tip.removeClass("fade in top bottom left right")};Tooltip.prototype.hide=function(callback){var that=this;var $tip=$(this.$tip);var e=$.Event("hide.bs."+this.type);function complete(){if(that.hoverState!="in")$tip.detach();that.$element.removeAttr("aria-describedby").trigger("hidden.bs."+that.type);callback&&callback()}this.$element.trigger(e);if(e.isDefaultPrevented())return;$tip.removeClass("in");$.support.transition&&$tip.hasClass("fade")?$tip.one("bsTransitionEnd",complete).emulateTransitionEnd(Tooltip.TRANSITION_DURATION):complete();this.hoverState=null;return this};Tooltip.prototype.fixTitle=function(){var $e=this.$element;if($e.attr("title")||typeof $e.attr("data-original-title")!="string"){$e.attr("data-original-title",$e.attr("title")||"").attr("title","")}};Tooltip.prototype.hasContent=function(){return this.getTitle()};Tooltip.prototype.getPosition=function($element){$element=$element||this.$element;var el=$element[0];var isBody=el.tagName=="BODY";var elRect=el.getBoundingClientRect();if(elRect.width==null){elRect=$.extend({},elRect,{width:elRect.right-elRect.left,height:elRect.bottom-elRect.top})}var elOffset=isBody?{top:0,left:0}:$element.offset();var scroll={scroll:isBody?document.documentElement.scrollTop||document.body.scrollTop:$element.scrollTop()};var outerDims=isBody?{width:$(window).width(),height:$(window).height()}:null;return $.extend({},elRect,scroll,outerDims,elOffset)};Tooltip.prototype.getCalculatedOffset=function(placement,pos,actualWidth,actualHeight){return placement=="bottom"?{top:pos.top+pos.height,left:pos.left+pos.width/2-actualWidth/2}:placement=="top"?{top:pos.top-actualHeight,left:pos.left+pos.width/2-actualWidth/2}:placement=="left"?{top:pos.top+pos.height/2-actualHeight/2,left:pos.left-actualWidth}:{top:pos.top+pos.height/2-actualHeight/2,left:pos.left+pos.width}};Tooltip.prototype.getViewportAdjustedDelta=function(placement,pos,actualWidth,actualHeight){var delta={top:0,left:0};if(!this.$viewport)return delta;var viewportPadding=this.options.viewport&&this.options.viewport.padding||0;var viewportDimensions=this.getPosition(this.$viewport);if(/right|left/.test(placement)){var topEdgeOffset=pos.top-viewportPadding-viewportDimensions.scroll;var bottomEdgeOffset=pos.top+viewportPadding-viewportDimensions.scroll+actualHeight;if(topEdgeOffset<viewportDimensions.top){delta.top=viewportDimensions.top-topEdgeOffset}else if(bottomEdgeOffset>viewportDimensions.top+viewportDimensions.height){delta.top=viewportDimensions.top+viewportDimensions.height-bottomEdgeOffset}}else{var leftEdgeOffset=pos.left-viewportPadding;var rightEdgeOffset=pos.left+viewportPadding+actualWidth;if(leftEdgeOffset<viewportDimensions.left){delta.left=viewportDimensions.left-leftEdgeOffset}else if(rightEdgeOffset>viewportDimensions.right){delta.left=viewportDimensions.left+viewportDimensions.width-rightEdgeOffset}}return delta};Tooltip.prototype.getTitle=function(){var title;var $e=this.$element;var o=this.options;title=$e.attr("data-original-title")||(typeof o.title=="function"?o.title.call($e[0]):o.title);return title};Tooltip.prototype.getUID=function(prefix){do{prefix+=~~(Math.random()*1e6)}while(document.getElementById(prefix));return prefix};Tooltip.prototype.tip=function(){if(!this.$tip){this.$tip=$(this.options.template);if(this.$tip.length!=1){throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!")}}return this.$tip};Tooltip.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")};Tooltip.prototype.enable=function(){this.enabled=true};Tooltip.prototype.disable=function(){this.enabled=false};Tooltip.prototype.toggleEnabled=function(){this.enabled=!this.enabled};Tooltip.prototype.toggle=function(e){var self=this;if(e){self=$(e.currentTarget).data("bs."+this.type);if(!self){self=new this.constructor(e.currentTarget,this.getDelegateOptions());$(e.currentTarget).data("bs."+this.type,self)}}if(e){self.inState.click=!self.inState.click;if(self.isInStateTrue())self.enter(self);else self.leave(self)}else{self.tip().hasClass("in")?self.leave(self):self.enter(self)}};Tooltip.prototype.destroy=function(){var that=this;clearTimeout(this.timeout);this.hide(function(){that.$element.off("."+that.type).removeData("bs."+that.type);if(that.$tip){that.$tip.detach()}that.$tip=null;that.$arrow=null;that.$viewport=null})};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tooltip");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option))return;if(!data)$this.data("bs.tooltip",data=new Tooltip(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.tooltip;$.fn.tooltip=Plugin;$.fn.tooltip.Constructor=Tooltip;$.fn.tooltip.noConflict=function(){$.fn.tooltip=old;return this}}(jQuery);+function($){"use strict";var Popover=function(element,options){this.init("popover",element,options)};if(!$.fn.tooltip)throw new Error("Popover requires tooltip.js");Popover.VERSION="3.3.5";Popover.DEFAULTS=$.extend({},$.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});Popover.prototype=$.extend({},$.fn.tooltip.Constructor.prototype);Popover.prototype.constructor=Popover;Popover.prototype.getDefaults=function(){return Popover.DEFAULTS};Popover.prototype.setContent=function(){var $tip=this.tip();var title=this.getTitle();var content=this.getContent();$tip.find(".popover-title")[this.options.html?"html":"text"](title);$tip.find(".popover-content").children().detach().end()[this.options.html?typeof content=="string"?"html":"append":"text"](content);$tip.removeClass("fade top bottom left right in");if(!$tip.find(".popover-title").html())$tip.find(".popover-title").hide()};Popover.prototype.hasContent=function(){return this.getTitle()||this.getContent()};Popover.prototype.getContent=function(){var $e=this.$element;var o=this.options;return $e.attr("data-content")||(typeof o.content=="function"?o.content.call($e[0]):o.content)};Popover.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.popover");var options=typeof option=="object"&&option;if(!data&&/destroy|hide/.test(option))return;if(!data)$this.data("bs.popover",data=new Popover(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.popover;$.fn.popover=Plugin;$.fn.popover.Constructor=Popover;$.fn.popover.noConflict=function(){$.fn.popover=old;return this}}(jQuery);+function($){"use strict";function ScrollSpy(element,options){this.$body=$(document.body);this.$scrollElement=$(element).is(document.body)?$(window):$(element);this.options=$.extend({},ScrollSpy.DEFAULTS,options);this.selector=(this.options.target||"")+" .nav li > a";this.offsets=[];this.targets=[];this.activeTarget=null;this.scrollHeight=0;this.$scrollElement.on("scroll.bs.scrollspy",$.proxy(this.process,this));this.refresh();this.process()}ScrollSpy.VERSION="3.3.5";ScrollSpy.DEFAULTS={offset:10};ScrollSpy.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)};ScrollSpy.prototype.refresh=function(){var that=this;var offsetMethod="offset";var offsetBase=0;this.offsets=[];this.targets=[];this.scrollHeight=this.getScrollHeight();if(!$.isWindow(this.$scrollElement[0])){offsetMethod="position";offsetBase=this.$scrollElement.scrollTop()}this.$body.find(this.selector).map(function(){var $el=$(this);var href=$el.data("target")||$el.attr("href");var $href=/^#./.test(href)&&$(href);return $href&&$href.length&&$href.is(":visible")&&[[$href[offsetMethod]().top+offsetBase,href]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){that.offsets.push(this[0]);that.targets.push(this[1])})};ScrollSpy.prototype.process=function(){var scrollTop=this.$scrollElement.scrollTop()+this.options.offset;var scrollHeight=this.getScrollHeight();var maxScroll=this.options.offset+scrollHeight-this.$scrollElement.height();var offsets=this.offsets;var targets=this.targets;var activeTarget=this.activeTarget;var i;if(this.scrollHeight!=scrollHeight){this.refresh()}if(scrollTop>=maxScroll){return activeTarget!=(i=targets[targets.length-1])&&this.activate(i)}if(activeTarget&&scrollTop<offsets[0]){this.activeTarget=null;return this.clear()}for(i=offsets.length;i--;){activeTarget!=targets[i]&&scrollTop>=offsets[i]&&(offsets[i+1]===undefined||scrollTop<offsets[i+1])&&this.activate(targets[i])}};ScrollSpy.prototype.activate=function(target){this.activeTarget=target;this.clear();var selector=this.selector+'[data-target="'+target+'"],'+this.selector+'[href="'+target+'"]';var active=$(selector).parents("li").addClass("active");if(active.parent(".dropdown-menu").length){active=active.closest("li.dropdown").addClass("active")}active.trigger("activate.bs.scrollspy")};ScrollSpy.prototype.clear=function(){$(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.scrollspy");var options=typeof option=="object"&&option;if(!data)$this.data("bs.scrollspy",data=new ScrollSpy(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.scrollspy;$.fn.scrollspy=Plugin;$.fn.scrollspy.Constructor=ScrollSpy;$.fn.scrollspy.noConflict=function(){$.fn.scrollspy=old;return this};$(window).on("load.bs.scrollspy.data-api",function(){$('[data-spy="scroll"]').each(function(){var $spy=$(this);Plugin.call($spy,$spy.data())})})}(jQuery);+function($){"use strict";var Tab=function(element){this.element=$(element)};Tab.VERSION="3.3.5";Tab.TRANSITION_DURATION=150;Tab.prototype.show=function(){var $this=this.element;var $ul=$this.closest("ul:not(.dropdown-menu)");var selector=$this.data("target");if(!selector){selector=$this.attr("href");selector=selector&&selector.replace(/.*(?=#[^\s]*$)/,"")}if($this.parent("li").hasClass("active"))return;var $previous=$ul.find(".active:last a");var hideEvent=$.Event("hide.bs.tab",{relatedTarget:$this[0]});var showEvent=$.Event("show.bs.tab",{relatedTarget:$previous[0]});$previous.trigger(hideEvent);$this.trigger(showEvent);if(showEvent.isDefaultPrevented()||hideEvent.isDefaultPrevented())return;var $target=$(selector);this.activate($this.closest("li"),$ul);this.activate($target,$target.parent(),function(){$previous.trigger({type:"hidden.bs.tab",relatedTarget:$this[0]});$this.trigger({type:"shown.bs.tab",relatedTarget:$previous[0]})})};Tab.prototype.activate=function(element,container,callback){var $active=container.find("> .active");var transition=callback&&$.support.transition&&($active.length&&$active.hasClass("fade")||!!container.find("> .fade").length);function next(){$active.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",false);element.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",true);if(transition){element[0].offsetWidth;element.addClass("in")}else{element.removeClass("fade")}if(element.parent(".dropdown-menu").length){element.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",true)}callback&&callback()}$active.length&&transition?$active.one("bsTransitionEnd",next).emulateTransitionEnd(Tab.TRANSITION_DURATION):next();$active.removeClass("in")};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.tab");if(!data)$this.data("bs.tab",data=new Tab(this));if(typeof option=="string")data[option]()})}var old=$.fn.tab;$.fn.tab=Plugin;$.fn.tab.Constructor=Tab;$.fn.tab.noConflict=function(){$.fn.tab=old;return this};var clickHandler=function(e){e.preventDefault();Plugin.call($(this),"show")};$(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',clickHandler).on("click.bs.tab.data-api",'[data-toggle="pill"]',clickHandler)}(jQuery);+function($){"use strict";var Affix=function(element,options){this.options=$.extend({},Affix.DEFAULTS,options);this.$target=$(this.options.target).on("scroll.bs.affix.data-api",$.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",$.proxy(this.checkPositionWithEventLoop,this));this.$element=$(element);this.affixed=null;this.unpin=null;this.pinnedOffset=null;this.checkPosition()};Affix.VERSION="3.3.5";Affix.RESET="affix affix-top affix-bottom";Affix.DEFAULTS={offset:0,target:window};Affix.prototype.getState=function(scrollHeight,height,offsetTop,offsetBottom){var scrollTop=this.$target.scrollTop();var position=this.$element.offset();var targetHeight=this.$target.height();if(offsetTop!=null&&this.affixed=="top")return scrollTop<offsetTop?"top":false;if(this.affixed=="bottom"){if(offsetTop!=null)return scrollTop+this.unpin<=position.top?false:"bottom";return scrollTop+targetHeight<=scrollHeight-offsetBottom?false:"bottom"}var initializing=this.affixed==null;var colliderTop=initializing?scrollTop:position.top;var colliderHeight=initializing?targetHeight:height;if(offsetTop!=null&&scrollTop<=offsetTop)return"top";if(offsetBottom!=null&&colliderTop+colliderHeight>=scrollHeight-offsetBottom)return"bottom";return false};Affix.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(Affix.RESET).addClass("affix");var scrollTop=this.$target.scrollTop();var position=this.$element.offset();return this.pinnedOffset=position.top-scrollTop};Affix.prototype.checkPositionWithEventLoop=function(){setTimeout($.proxy(this.checkPosition,this),1)};Affix.prototype.checkPosition=function(){
if(!this.$element.is(":visible"))return;var height=this.$element.height();var offset=this.options.offset;var offsetTop=offset.top;var offsetBottom=offset.bottom;var scrollHeight=Math.max($(document).height(),$(document.body).height());if(typeof offset!="object")offsetBottom=offsetTop=offset;if(typeof offsetTop=="function")offsetTop=offset.top(this.$element);if(typeof offsetBottom=="function")offsetBottom=offset.bottom(this.$element);var affix=this.getState(scrollHeight,height,offsetTop,offsetBottom);if(this.affixed!=affix){if(this.unpin!=null)this.$element.css("top","");var affixType="affix"+(affix?"-"+affix:"");var e=$.Event(affixType+".bs.affix");this.$element.trigger(e);if(e.isDefaultPrevented())return;this.affixed=affix;this.unpin=affix=="bottom"?this.getPinnedOffset():null;this.$element.removeClass(Affix.RESET).addClass(affixType).trigger(affixType.replace("affix","affixed")+".bs.affix")}if(affix=="bottom"){this.$element.offset({top:scrollHeight-height-offsetBottom})}};function Plugin(option){return this.each(function(){var $this=$(this);var data=$this.data("bs.affix");var options=typeof option=="object"&&option;if(!data)$this.data("bs.affix",data=new Affix(this,options));if(typeof option=="string")data[option]()})}var old=$.fn.affix;$.fn.affix=Plugin;$.fn.affix.Constructor=Affix;$.fn.affix.noConflict=function(){$.fn.affix=old;return this};$(window).on("load",function(){$('[data-spy="affix"]').each(function(){var $spy=$(this);var data=$spy.data();data.offset=data.offset||{};if(data.offsetBottom!=null)data.offset.bottom=data.offsetBottom;if(data.offsetTop!=null)data.offset.top=data.offsetTop;Plugin.call($spy,data)})})}(jQuery);define("bootstrap",["jquery"],function(){});define("templates/helpers/perc",["hbs/handlebars"],function(Handlebars){"use strict";function perc(num,total,dp){if(arguments.length==3){dp=1}var p=(num/total*100).toFixed(dp);return p+"%"}Handlebars.registerHelper("perc",perc);return perc});define("templates/helpers/formatDateTime",["hbs/handlebars","underscore","appogee"],function(Handlebars,_,appogee){"use strict";function formatDateTime(date,dateFormatString){if(!_.isString(dateFormatString)){var currentUser=appogee.getCurrentUser();if(!currentUser){throw"formatDateTime helper error: Current User has not been loaded"}dateFormatString=currentUser.dateTimeFormatString}if(!date){return""}return appogee.util.datetime.toString(date,dateFormatString)}Handlebars.registerHelper("formatDateTime",formatDateTime);return formatDateTime});define("templates/helpers/ifnotequal",["hbs/handlebars"],function(Handlebars){function ifnotequal(v1,v2,options){if(v1!=v2)return options.fn(this);return options.inverse(this)}Handlebars.registerHelper("ifnotequal",ifnotequal);return ifnotequal});define("hbs!checklists/templates/ChecklistHeader",["hbs/handlebars","templates/helpers/ifequal","templates/helpers/s","templates/helpers/perc","templates/helpers/formatDate","templates/helpers/formatDateTime","templates/helpers/ifnotequal"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.itemCount:stack1,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.completeCount:stack1,{name:"ifequal",hash:{},fn:this.program(2,data,0),inverse:this.noop,data:data}))!=null?stack1:""},2:function(depth0,helpers,partials,data){return'\n<div class="alert alert-danger">\n\t<p>\n\t\t<i class="glyphicon glyphicon-warning-sign center"></i>\n\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"This checklist has not been submitted. Please review the checklist and click the <strong>Save &amp; Submit</strong> button to complete submission.",{name:"s",hash:{},data:data}))+"\n\t</p>\n</div>\n"},4:function(depth0,helpers,partials,data){var stack1;return'<div class="alert alert-danger">\n\t<h4>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Checklist Cancelled",{name:"s",hash:{},data:data}))+"</h4>\n\t<p>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"This checklist was cancelled by {cancelled_by} on {cancelled_on}.",{name:"s",hash:{cancelled_on:depth0!=null?depth0.cancelledDateFormatted:depth0,cancelled_by:(stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.cancelledBy:stack1)!=null?stack1.email:stack1},data:data}))+'</p>\n\t\n\t<div class="pull-left">\n\t\t<p>\n\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"To restore the checklist, click the restore button.",{name:"s",hash:{},data:data}))+"\n\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"To permanently delete the checklist, click the delete button.",{name:"s",hash:{},data:data}))+'\n\t\t</p>\n\t</div>\n  \t<div class="pull-right">\n\t\t<button class="btn btn-default btn-sm btnRestore">\n\t\t\t<i class="glyphicon glyphicon-share-alt"></i>\n\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Restore",{name:"s",hash:{},data:data}))+'</span>\n\t\t</button>\n\t\t<button class="btn btn-danger btn-sm btnDelete">\n\t\t\t<i class="glyphicon glyphicon-trash"></i>\n\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Delete",{name:"s",hash:{},data:data}))+'</span>\n\t\t</button>\n\t</div>\n\t<div class="clearfix"></div>\n</div>\n'},6:function(depth0,helpers,partials,data){return"\t\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Not Started",{name:"s",hash:{},data:data}))+"\n\t\t\t"},8:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,1,{name:"ifequal",hash:{},fn:this.program(9,data,0),inverse:this.program(14,data,0),data:data}))!=null?stack1:""},9:function(depth0,helpers,partials,data){var stack1;return"\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.itemCount:stack1,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.completeCount:stack1,{name:"ifequal",hash:{},fn:this.program(10,data,0),inverse:this.program(12,data,0),data:data}))!=null?stack1:"")+"\t\t\t"},10:function(depth0,helpers,partials,data){return'\t\t\t\t\t\n\t\t\t\t\t<button class="btn btn-primary btnSubmit">\n\t\t\t\t\t\t<i class="glyphicon glyphicon-ok"></i>\n\t\t\t\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Save &amp; Submit",{name:"s",hash:{},data:data}))+"</span>\n\t\t\t\t\t</button>\n\t\t\t\t\t\n"},12:function(depth0,helpers,partials,data){return"\t\t\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"In Progress",{name:"s",hash:{},data:data}))+"\n"},14:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,2,{name:"ifequal",hash:{},fn:this.program(15,data,0),inverse:this.program(17,data,0),data:data}))!=null?stack1:""},15:function(depth0,helpers,partials,data){return"\n\t\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Complete",{name:"s",hash:{},data:data}))+"\n\t\t\t"},17:function(depth0,helpers,partials,data){var stack1;return(stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,5,{name:"ifequal",hash:{},fn:this.program(18,data,0),inverse:this.noop,data:data}))!=null?stack1:""},18:function(depth0,helpers,partials,data){return"\n\t\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Cancelled",{name:"s",hash:{},data:data}))+"\n\t\t\t"},20:function(depth0,helpers,partials,data){var stack1;return((stack1=helpers["if"].call(depth0,depth0!=null?depth0.editMode:depth0,{name:"if",hash:{},fn:this.program(21,data,0),inverse:this.program(26,data,0),data:data}))!=null?stack1:"")+'\t\t<table class="table table-shaded checklist-header">\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned On",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">'+this.escapeExpression((helpers.formatDateTime||depth0&&depth0.formatDateTime||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedOn:stack1,{name:"formatDateTime",hash:{},data:data}))+'</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned By",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8"><a href="/mgmt/profile?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedBy:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedBy:stack1)!=null?stack1.email:stack1,depth0))+'</a></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Template",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n'+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.template:stack1,{name:"if",hash:{},fn:this.program(33,data,0),inverse:this.program(29,data,0),data:data}))!=null?stack1:"")+"\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n"},21:function(depth0,helpers,partials,data){var stack1;return'\t\t<table class="table table-shaded checklist-header">\n\t\t\t<tr>\n\t\t\t\t<th class="col-sm-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Reassign To",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-sm-8">\n\t\t\t\t\t<input type="text" class="form-control input-sm userpicker icon-user-lookup" id="txtNewAssignee" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Search User ...",{name:"s",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1,{name:"if",hash:{},fn:this.program(22,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+' />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Reschedule to Due Date",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n\t\t\t\t\t<input type="text" class="form-control input-sm datepicker icon-calendar-lookup" id="txtNewDueDate" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Pick Date ...",{name:"s",hash:{},data:data}))+'" />\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Change Target Employee",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n\t\t\t\t\t<input type="text" class="form-control input-sm userpicker icon-user-lookup" id="txtNewTarget" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Search User ...",{name:"s",hash:{},data:data}))+'" '+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1,{name:"if",hash:{},fn:this.program(24,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+' />\n\t\t\t\t\t\n\t\t\t\t\t<div class="pull-left appogee-alert-danger" id="saveAlert" style="display: none; padding-top: 15px;">\n\t\t\t\t\t\t<i class="glyphicon glyphicon-warning-sign"></i>\n\t\t\t\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Please save to commit changes.",{name:"s",hash:{},data:data}))+'</span>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="pull-right" style="padding-top: 5px;">\n\t\t\t\t\t\t<button class="btn btn-delete btn-default btn-sm" id="btnReadMeta" title="back">\n\t\t\t\t\t\t\t<i class="glyphicon glyphicon-remove"></i>\n\t\t\t\t\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Cancel Changes",{name:"s",hash:{},data:data}))+'\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\t<button class="btn btn-success btn-sm" id="btnSaveMeta" title="save" style="display: none;">\n\t\t\t\t\t\t\t<i class="glyphicon glyphicon-ok"></i>\n\t\t\t\t\t\t\t'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Save Changes",{name:"s",hash:{},data:data}))+'\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear-fix"></div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n'},22:function(depth0,helpers,partials,data){var stack1;return'value="'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.email:stack1,depth0))+'"'},24:function(depth0,helpers,partials,data){var stack1;return'value="'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1)!=null?stack1.email:stack1,depth0))+'"'},26:function(depth0,helpers,partials,data){var stack1;return'\t\t<table class="table table-shaded checklist-header">\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned To",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n\t\t\t\t\t<a href="/mgmt/profile?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.email:stack1,depth0))+'</a>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Due",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n\t\t\t\t\t'+this.escapeExpression((helpers.formatDate||depth0&&depth0.formatDate||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.dueDate:stack1,{name:"formatDate",hash:{},data:data}))+" \x3c!-- "+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.dueIn:stack1,depth0))+' --\x3e \n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Target Employee",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n'+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1,{name:"if",hash:{},fn:this.program(27,data,0),inverse:this.program(29,data,0),data:data}))!=null?stack1:"")+"\t\t\t\t\n"+((stack1=(helpers.ifnotequal||depth0&&depth0.ifnotequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,2,{name:"ifnotequal",hash:{},fn:this.program(31,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\n"},27:function(depth0,helpers,partials,data){var stack1;return'\t\t\t\t\t<a href="/mgmt/profile?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1)!=null?stack1.email:stack1,depth0))+"</a>\n"},29:function(depth0,helpers,partials,data){return"\t\t\t\t\t"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"None",{name:"s",hash:{},data:data}))+"\n"},31:function(depth0,helpers,partials,data){return'\t\t\t\t\t<div class="pull-right">\n\t\t\t\t\t\t<button class="btn btn-primary btn-sm" id="btnEditMeta"><i class="glyphicon glyphicon-edit"></i></button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="clear-fix"></div>\n'},33:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.is_hr_manager:depth0,{name:"if",hash:{},fn:this.program(34,data,0),inverse:this.program(36,data,0),data:data}))!=null?stack1:""},34:function(depth0,helpers,partials,data){var stack1;return'\t\t\t\t\t\t<a href="/mgmt/checklists/template?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.template:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.template:stack1)!=null?stack1.name:stack1,depth0))+"</a>\n"},36:function(depth0,helpers,partials,data){var stack1;return"\t\t\t\t\t\t"+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.template:stack1)!=null?stack1.name:stack1,depth0))+"\n"},38:function(depth0,helpers,partials,data){var stack1;return'\t\t<table class="table table-shaded checklist-header">\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned To",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8"><a href="/mgmt/profile?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.email:stack1,depth0))+'</a></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Due",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">'+this.escapeExpression(this.lambda((stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.dueIn:stack1,depth0))+" "+this.escapeExpression((helpers.formatDate||depth0&&depth0.formatDate||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.dueDate:stack1,{name:"formatDate",hash:{},data:data}))+'</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Target Employee",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n'+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.targetEmployee:stack1,{name:"if",hash:{},fn:this.program(27,data,0),inverse:this.program(29,data,0),data:data}))!=null?stack1:"")+'\t\t\t\t</td>\n\t\t\t</tr>\t\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned On",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">'+this.escapeExpression((helpers.formatDateTime||depth0&&depth0.formatDateTime||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedOn:stack1,{name:"formatDateTime",hash:{},data:data}))+'</td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Assigned By",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8"><a href="/mgmt/profile?key='+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedBy:stack1)!=null?stack1.key:stack1,depth0))+'">'+this.escapeExpression(this.lambda((stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedBy:stack1)!=null?stack1.email:stack1,depth0))+'</a></td>\n\t\t\t</tr>\n\t\t\t<tr>\n\t\t\t\t<th class="col-xs-4">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Template",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t\t<td class="col-xs-8">\n'+((stack1=helpers["if"].call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.template:stack1,{name:"if",hash:{},fn:this.program(33,data,0),inverse:this.program(29,data,0),data:data}))!=null?stack1:"")+"\t\t\t\t</td>\n\t\t\t</tr>\n\t\t</table>\t\n"},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1,helper;return((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,1,{name:"ifequal",hash:{},fn:this.program(1,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+"\n\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,5,{name:"ifequal",hash:{},fn:this.program(4,data,0),inverse:this.noop,data:data}))!=null?stack1:"")+'\n<div class="row">\n\t<div id="checklistPercentage" class="col-sm-4 checklist-percentage checklist-percentage-'+this.escapeExpression((helper=(helper=helpers.cssStatus||(depth0!=null?depth0.cssStatus:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"cssStatus",hash:{},data:data}):helper))+'">\n\t\t<div class="circle-status">\n\t\t\t'+this.escapeExpression((helpers.perc||depth0&&depth0.perc||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.completeCount:stack1,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.itemCount:stack1,{name:"perc",hash:{},data:data}))+'\n\t\t</div>\n\t\t<div class="col-sm-12 txt-status" id="checklistStatus">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.status:stack1,0,{name:"ifequal",hash:{},fn:this.program(6,data,0),inverse:this.program(8,data,0),data:data}))!=null?stack1:"")+'\n\t\t</div>\n\t</div>\n\t\n\t<div class="col-sm-8" id="checklistInfo1">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canEdit:depth0,{name:"if",hash:{},fn:this.program(20,data,0),inverse:this.program(38,data,0),data:data}))!=null?stack1:"")+"\t</div>\n</div>"},useData:true});Handlebars.registerPartial("checklists/templates/ChecklistHeader",t);return t});define("jquery.appogee.userPicker",["jquery","appogee"],function($,appogee){var _cache={};$.fn.userPicker=function(options){options=options||{};if(options=="getKey")return $(this).data("userPickerKey");else if(options=="getUserKey")return $(this).data("userPickerUserKey");else if(options=="getEmail")return $(this).data("userPickerEmail");else if(options=="getName")return $(this).data("userPickerName");return this.each(function(){if(!$(this).hasClass("icon-user-lookup")){$(this).addClass("icon-user-lookup")}var picker=$(this).data("userPicker");if(!picker){picker=new appogee.UserPicker($(this),options.callback,options.params);if(options.url){picker.url=options.url;picker.urlParamType="param"}$(this).data("userPicker",picker)}})}});define("checklists/views/ChecklistHeader",["jquery","appogee","hbs!checklists/templates/ChecklistHeader","jquery.appogee.userPicker"],function($,appogee,tmpl){"use strict";var S,R={nfyUpdating:"Updating ...",nfyUpdated:"Successfully Updated",nfyUpdateFailed:"Update Failed"};var STATUS_ASSIGNED=0;var STATUS_IN_PROGRESS=1;var STATUS_COMPLETE=2;var STATUS_SUBMITTED=3;var STATUS_CLOSED=4;var STATUS_CANCELLED=5;var View=function($container,checklist){S=appogee.getStrings("ChecklistHeader",R);this.$container=$container;this.checklist=checklist;this.canEdit=false;this.editMode=false;this.dlgReassign=null;this.dlgNewDueDate=null;this.dlgNewTarget=null;this.$assigneePicker=null;this.$targetPicker=null;this.onUpdateCallback=null};View.prototype.onUpdate=function(callback){this.onUpdateCallback=callback};View.prototype.getCssStatus=function(){if(this.checklist.status==STATUS_IN_PROGRESS&&this.checklist.itemCount==this.checklist.completeCount){return 100}else{return this.checklist.status}};View.prototype.render=function(){var user=appogee.getCurrentUser();if(this.checklist&&(this.checklist.status==STATUS_CANCELLED||this.checklist.status==STATUS_COMPLETE)){this.canEdit=false}else{this.canEdit=user.canEditChecklist(this.checklist)}var cancelledDateFormatted=null;if(this.checklist.status==STATUS_CANCELLED&&this.checklist.cancelledDate){cancelledDateFormatted=user.formatDate(this.checklist.cancelledDate)}var data={canEdit:this.canEdit,checklist:this.checklist,cssStatus:this.getCssStatus(),editMode:this.editMode,cancelledDateFormatted:cancelledDateFormatted};this.$container.html(tmpl(data));var me=this;this.$assigneePicker=this.$container.find("#txtNewAssignee");this.$targetPicker=this.$container.find("#txtNewTarget");this.$assigneePicker.userPicker();this.$targetPicker.userPicker({params:{status:["joining","active","former"],aduTraverse:"down"}});var currentUser=appogee.getCurrentUser();var defaultDate=new Date;this.$container.find("#txtNewDueDate").datepicker({dateFormat:currentUser.jqueryDateFormatString,minDate:defaultDate});this.$container.find("#txtNewDueDate").datepicker("setDate",new Date(me.checklist.dueDate));this.$container.find("#btnSaveMeta").click(function(){var meta={assignedTo:me.checklist.assignedTo,targetEmployee:me.checklist.targetEmployee};var assignedToKey=me.$assigneePicker.userPicker("getKey");var assignedToEmail=me.$assigneePicker.val();var dueDate=$("#txtNewDueDate").datepicker("getDate");var targetEmployeeKey=me.$targetPicker.userPicker("getKey");var targetEmployeeEmail=me.$targetPicker.val();if(assignedToKey&&assignedToEmail){meta.assignedTo.key=assignedToKey;meta.assignedTo.email=assignedToEmail}var date=new Date(me.checklist.dueDate);if(dueDate&&dueDate.getTime()!=date.getTime()){meta.dueDate=dueDate}if(targetEmployeeKey&&targetEmployeeEmail){meta.targetEmployee={key:targetEmployeeKey,email:targetEmployeeEmail}}else if(!targetEmployeeEmail){meta.targetEmployee=null}var url="/checklists/{0}/meta".format(me.checklist.key);appogee.notify(S.nfyUpdating);appogee.api.post(url,meta,function(response){if(response.success){appogee.notifier.success(S.nfyUpdated);me.editMode=false;me.checklist=response.items[0];me.render();if(me.onUpdateCallback){me.onUpdateCallback()}}else{appogee.notifier.error(S.nfyUpdateFailed)}})});this.$container.find("#btnEditMeta").click(function(){me.editMode=true;me.render()});this.$container.find("#btnReadMeta").click(function(){me.editMode=false;me.render()});this.$container.find("#txtNewAssignee").change(function(){if($(this).val()){if($("#btnSaveMeta").is(":hidden")){me.$container.find("#btnSaveMeta").show()}}});this.$container.find("#txtNewDueDate").change(function(){if($("#btnSaveMeta").is(":hidden")){me.$container.find("#btnSaveMeta").show()}});this.$container.find("#txtNewTarget").change(function(){if($("#btnSaveMeta").is(":hidden")){me.$container.find("#btnSaveMeta").show()}})};View.prototype.renderDeleted=function(checklist){this.checklist=checklist;this.render()};View.prototype.getMetadata=function(){if(this.editMode){var assignedToKey=this.$assigneePicker.userPicker("getKey");var assignedToEmail=this.$assigneePicker.val();var dueDate=$("#txtNewDueDate").datepicker("getDate");var profileKey=this.$targetPicker.userPicker("getKey");var profileEmail=this.$targetPicker.val();if(assignedToKey&&assignedToEmail){this.checklist.assignedTo.key=assignedToKey;this.checklist.assignedTo.email=assignedToEmail}if(dueDate){this.checklist.dueDate=dueDate}if(profileEmail&&profileKey){this.checklist.profile={key:profileKey,email:profileEmail}}else if(!profileEmail&&!profileKey){this.checklist.profile=null}}var meta={assignedTo:this.checklist.assignedTo,dueDate:this.checklist.dueDate,profile:this.checklist.profile};return meta};View.prototype.update=function(checklist){this.checklist=checklist;this.render()};return View});define("hbs!templates/CommentsDialogTemplate",["hbs/handlebars"],function(Handlebars){var t=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var helper;return'<div class="form-group">\n\t<label class="control-label">'+this.escapeExpression((helper=(helper=helpers.msg||(depth0!=null?depth0.msg:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"msg",hash:{},data:data}):helper))+'</label>\n\t<textarea class="form-control"></textarea>\n</div>'},useData:true});Handlebars.registerPartial("templates/CommentsDialogTemplate",t);return t});define("views/CommentsDialog",["jquery","appogee","hbs!templates/CommentsDialogTemplate"],function($,appogee,tmpl){"use strict";var $dlg=null;return{show:function(title,msg,callback,options){if(!$dlg){$dlg=$("<div />").addClass("dialog")}if(!options){options={}}options.title=title;var me=this;options.okCallback=function(){var comments=$dlg.find("textarea").val();callback(comments);me.dlg.hide()};this.dlg=new appogee.Dialog($dlg,options);var data={msg:msg};$dlg.html(tmpl(data));this.dlg.show()}}});define("hbs!checklists/templates/ChecklistView",["hbs/handlebars","templates/helpers/ifequal","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({1:function(depth0,helpers,partials,data){var stack1;return'<div class="form-buttons-top">\n\t<div class="pull-right">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.mode:depth0,"editItems",{name:"ifequal",hash:{},fn:this.program(2,data,0),inverse:this.program(4,data,0),data:data}))!=null?stack1:"")+'\t</div>\n\t<div class="clearfix"></div>\n</div>\n'},2:function(depth0,helpers,partials,data){return'\t\t\t<button class="btn btn-danger btn-sm btnCancelEdit">\n\t\t\t\t<i class="glyphicon glyphicon-remove"></i>\n\t\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Cancel Changes",{name:"s",hash:{},data:data}))+'</span>\n\t\t\t</button>\n\t\t\t<button class="btn btn-success btn-sm btnSaveItems">\n\t\t\t\t<i class="glyphicon glyphicon-ok"></i>\n\t\t\t\t<span>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Save Changes",{name:"s",hash:{},data:data}))+"</span>\n\t\t\t</button>\n"},4:function(depth0,helpers,partials,data){return'\t\t\t\x3c!-- \n\t\t\t<button class="btn btn-default btnEditItems">\n\t\t\t\t<i class="glyphicon glyphicon-edit"></i>\n\t\t\t\t<span>Add / Remove Items</span>\n\t\t\t</button>\n\t\t\t--\x3e\n'},6:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'\t<table class="table table-bordered table-shaded checklist-view">\n\t<thead>\n\t\t<tr>\n\t\t\t<th></th>\n\t\t\t<th class="center">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"ID",{name:"s",hash:{},data:data}))+"</th>\n\t\t\t<th>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Cheklist Item",{name:"s",hash:{},data:data}))+'</th>\n\t\t\t<th class="center part-left">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Actions",{name:"s",hash:{},data:data}))+"</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n"+((stack1=helpers.each.call(depth0,depth0!=null?depth0.editItems:depth0,{name:"each",hash:{},fn:this.program(7,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t</tbody>\n\t</table>\n"},
7:function(depth0,helpers,partials,data,blockParams,depths){var stack1,helper;return'\t\t<tr data-index="'+this.escapeExpression((helper=(helper=helpers.index||data&&data.index)!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"index",hash:{},data:data}):helper))+'" data-id="'+this.escapeExpression((helper=(helper=helpers.id||(depth0!=null?depth0.id:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"id",hash:{},data:data}):helper))+'">\n\t\t\t<td class="sort-handle" title="Drag to re-order the rows"></td>\n\t\t\t<td class="col-sm-1 center">'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.id:depth0,{name:"if",hash:{},fn:this.program(8,data,0,blockParams,depths),inverse:this.program(10,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'</td>\n\t\t\t<td class="col-sm-10">\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.id:depth0,{name:"if",hash:{},fn:this.program(12,data,0,blockParams,depths),inverse:this.program(14,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'\t\t\t</td>\n\t\t\t<td class="col-sm-1 center part-left">\n\t\t\t\t<button type="button" class="btn btn-xs appogee-btn appogee-btn-default btnRemoveItem" '+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,(stack1=depths[1]!=null?depths[1].editItems:depths[1])!=null?stack1.length:stack1,1,{name:"ifequal",hash:{},fn:this.program(16,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+'>\n\t\t\t\t\t<i class="glyphicon glyphicon-remove"></i>\n\t\t\t\t</button>\n\t\t\t\t<button type="button" class="btn btn-xs appogee-btn appogee-btn-primary btnAddItem">\n\t\t\t\t\t<i class="glyphicon glyphicon-plus"></i>\n\t\t\t\t</button>\n\t\t\t</td>\n\t\t</tr>\n'},8:function(depth0,helpers,partials,data){var helper;return this.escapeExpression((helper=(helper=helpers.id||(depth0!=null?depth0.id:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"id",hash:{},data:data}):helper))},10:function(depth0,helpers,partials,data){return"NEW"},12:function(depth0,helpers,partials,data){var helper;return"\t\t\t\t\t"+this.escapeExpression((helper=(helper=helpers.item||(depth0!=null?depth0.item:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"item",hash:{},data:data}):helper))+"\n"},14:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t\t<textarea class="form-control input-sm txtNewItem" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Enter Your Text Here",{name:"s",hash:{},data:data}))+'">'+this.escapeExpression((helper=(helper=helpers.item||(depth0!=null?depth0.item:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"item",hash:{},data:data}):helper))+"</textarea>\n"},16:function(depth0,helpers,partials,data){return'disabled="disabled"'},18:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'\t<table class="table table-bordered table-shaded checklist-view">\n\t<thead>\n\t\t<tr>\n\t\t\t<th class="center">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"ID",{name:"s",hash:{},data:data}))+"</th>\n\t\t\t<th>"+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Checklist Item",{name:"s",hash:{},data:data}))+"</th>\n\t\t\t<th>"+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canComplete:depth0,{name:"if",hash:{},fn:this.program(19,data,0,blockParams,depths),inverse:this.program(21,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'</th>\n\t\t\t<th class="center">'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canComplete:depth0,{name:"if",hash:{},fn:this.program(23,data,0,blockParams,depths),inverse:this.program(25,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"</th>\n\t\t</tr>\n\t</thead>\n\t<tbody>\n"+((stack1=helpers.each.call(depth0,(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.items:stack1,{name:"each",hash:{},fn:this.program(27,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\t</tbody>\n\t</table>\n"},19:function(depth0,helpers,partials,data){return this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Add Comment",{name:"s",hash:{},data:data}))},21:function(depth0,helpers,partials,data){return this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Comments",{name:"s",hash:{},data:data}))},23:function(depth0,helpers,partials,data){return this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Complete",{name:"s",hash:{},data:data}))},25:function(depth0,helpers,partials,data){return this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Completed",{name:"s",hash:{},data:data}))},27:function(depth0,helpers,partials,data,blockParams,depths){var stack1,helper;return'\t\t<tr data-index="'+this.escapeExpression((helper=(helper=helpers.index||data&&data.index)!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"index",hash:{},data:data}):helper))+'">\n\t\t\t<td class="col-sm-1 center">'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.id:depth0,{name:"if",hash:{},fn:this.program(8,data,0,blockParams,depths),inverse:this.program(10,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'</td>\n\t\t\t<td class="col-sm-7">'+this.escapeExpression((helper=(helper=helpers.item||(depth0!=null?depth0.item:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"item",hash:{},data:data}):helper))+'</td>\n\t\t\t\n\t\t\t<td class="col-sm-3">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depths[1]!=null?depths[1].mode:depths[1],"edit",{name:"ifequal",hash:{},fn:this.program(28,data,0,blockParams,depths),inverse:this.program(30,data,0,blockParams,depths),data:data}))!=null?stack1:"")+'\t\t\t</td>\n\t\t\t\n\t\t\t<td class="center col-sm-1">\n'+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depths[1]!=null?depths[1].mode:depths[1],"edit",{name:"ifequal",hash:{},fn:this.program(32,data,0,blockParams,depths),inverse:this.program(37,data,0,blockParams,depths),data:data}))!=null?stack1:"")+"\t\t\t</td>\n\t\t</tr>\n"},28:function(depth0,helpers,partials,data){var helper;return'\t\t\t\t\t<textarea class="form-control input-sm" id="txtComment" placeholder="'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Enter Your Comments Here",{name:"s",hash:{},data:data}))+'">'+this.escapeExpression((helper=(helper=helpers.comments||(depth0!=null?depth0.comments:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"comments",hash:{},data:data}):helper))+"</textarea>\n"},30:function(depth0,helpers,partials,data){var helper;return"\t\t\t\t\t"+this.escapeExpression((helper=(helper=helpers.comments||(depth0!=null?depth0.comments:depth0))!=null?helper:helpers.helperMissing,typeof helper==="function"?helper.call(depth0,{name:"comments",hash:{},data:data}):helper))+"\n"},32:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.complete:depth0,{name:"if",hash:{},fn:this.program(33,data,0),inverse:this.program(35,data,0),data:data}))!=null?stack1:""},33:function(depth0,helpers,partials,data){return'\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-success btnItem">\n\t\t\t\t\t\t\t<i class="glyphicon glyphicon-ok"></i>\n\t\t\t\t\t\t</button>\n'},35:function(depth0,helpers,partials,data){return'\t\t\t\t\t\t<button type="button" class="btn btn-sm btn-default btnItem">\n\t\t\t\t\t\t\t<i class="glyphicon glyphicon-ban-circle"></i>\n\t\t\t\t\t\t</button>\n'},37:function(depth0,helpers,partials,data){var stack1;return(stack1=helpers["if"].call(depth0,depth0!=null?depth0.complete:depth0,{name:"if",hash:{},fn:this.program(38,data,0),inverse:this.noop,data:data}))!=null?stack1:""},38:function(depth0,helpers,partials,data){return'\t\t\t\t\t\t<i class="glyphicon glyphicon-ok"></i>\n'},compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data,blockParams,depths){var stack1;return'<div id="scrollToMe"></div>\n\n'+((stack1=helpers["if"].call(depth0,depth0!=null?depth0.canEdit:depth0,{name:"if",hash:{},fn:this.program(1,data,0,blockParams,depths),inverse:this.noop,data:data}))!=null?stack1:"")+"\n"+((stack1=(helpers.ifequal||depth0&&depth0.ifequal||helpers.helperMissing).call(depth0,depth0!=null?depth0.mode:depth0,"editItems",{name:"ifequal",hash:{},fn:this.program(6,data,0,blockParams,depths),inverse:this.program(18,data,0,blockParams,depths),data:data}))!=null?stack1:"")},useData:true,useDepths:true});Handlebars.registerPartial("checklists/templates/ChecklistView",t);return t});define("checklists/views/ChecklistView",["jquery","underscore","appogee","views/CommentsDialog","hbs!checklists/templates/ChecklistView"],function($,_,appogee,CommentsDialog,tmpl){"use strict";var S,R={errorNoChangesTitle:"No Changes",errorNoChangesMsg:"No changes have been made. To cancel edit mode, click the Cancel button.",errorNoItemsTitle:"Items Invalid",errorNoItemsMsg:"Please enter text for each new checklist item.",nfySaving:"Saving Changes ...",nfySaved:"Changed Saved successfully"};var STATUS_ASSIGNED=0;var STATUS_IN_PROGRESS=1;var STATUS_COMPLETE=2;var STATUS_SUBMITTED=3;var STATUS_CLOSED=4;var STATUS_CANCELLED=5;var MODE_READ="read";var MODE_EDIT="edit";var MODE_EDIT_ITEMS="editItems";var ChecklistView=function($container,checklist){S=appogee.getStrings("ChecklistView",R);this.$container=$container;this.checklist=checklist||{};this.currentUser=appogee.getCurrentUser();this.editItems=null;if(!this.currentUser){throw"appogee.currentUser not set"}this.mode=MODE_READ;this.previousMode=null;if(this.checklist.status<=STATUS_IN_PROGRESS&&this.currentUser.key==this.checklist.assignedTo.key){this.mode=MODE_EDIT}this.onUpdateItemHandler=null};ChecklistView.prototype.onUpdateItem=function(handler){this.onUpdateItemHandler=handler};ChecklistView.prototype.setMode=function(mode){if(mode==this.mode){return}if(mode==MODE_EDIT_ITEMS){if(!this.canEditItems()){console.log("Not permitted to set mode to editItems");return}this.previousMode=this.mode;this.editItems=this.checklist.items.slice(0)}else if(mode==MODE_EDIT){if(!this.canCompleteItems()){console.log("Not permitted to set mode to edit");return}}this.mode=mode;this.render()};ChecklistView.prototype.canCompleteItems=function(){return this.currentUser.canCompleteChecklist(this.checklist)&&this.checklist.status<=STATUS_IN_PROGRESS};ChecklistView.prototype.canEditItems=function(){return this.currentUser.canEditChecklist(this.checklist)&&this.checklist.status<=STATUS_IN_PROGRESS};ChecklistView.prototype.render=function(){var me=this;var data={checklist:this.checklist,editItems:this.editItems,mode:this.mode,canEdit:this.canEditItems(),canComplete:this.canCompleteItems()};this.$container.html(tmpl(data));if(this.mode==MODE_EDIT_ITEMS){this.$container.find(".btnCancelEdit").click(function(){me.mode=me.previousMode;me.previousMode=null;me.editItems=null;me.render()});this.$container.find(".btnSaveItems").click(function(){me.saveItems()});this.$container.find("tbody").sortable({axis:"y",cursor:"move",distance:"5",handle:".sort-handle",opacity:.5,tolerance:"intersect",items:"tr",update:function(event,ui){var oldIndex=ui.item.attr("data-index");var tableRows=me.$container.find("tbody tr");for(var i=0;i<tableRows.length;i++){var $row=$(tableRows[i]);var rowIndex=$row.attr("data-index");if(rowIndex===oldIndex){var temp=me.editItems[oldIndex];var newIndex=i;if(i>oldIndex){++newIndex}else{++oldIndex}me.editItems.splice(newIndex,0,temp);me.editItems.splice(oldIndex,1);me.render();break}}}});this.$container.find(".btnRemoveItem").click(function(){var index=$(this).closest("tr").attr("data-index");me.editItems.splice(index,1);me.render()});this.$container.find(".btnAddItem").click(function(){var index=parseInt($(this).closest("tr").attr("data-index"));var newItem={id:null,item:"",complete:false,comments:""};me.editItems.splice(index+1,0,newItem);me.render()});this.$container.find(".txtNewItem").blur(function(){var index=$(this).closest("tr").attr("data-index");var txt=$(this).val();me.editItems[index].item=txt})}else{this.$container.find("textarea").blur(function(){var index=$(this).closest("tr").data("index");var item=me.checklist.items[index];var comments=$(this).val();if(item.comments!=comments){item.comments=comments;me.updateItem(item)}});this.$container.find(".btnItem").click(function(){var index=$(this).closest("tr").data("index");var item=me.checklist.items[index];me.toggleItem(item)});this.$container.find(".btnEditItems").click(function(){me.setMode(MODE_EDIT_ITEMS)})}};ChecklistView.prototype.toggleItem=function(item){item.complete=!item.complete;this.updateItem(item)};ChecklistView.prototype.updateItem=function(item){var me=this;var url="/checklists/{0}/items/{1}".format(this.checklist.key,item.id);appogee.api.post(url,item,function(checklist){var newItem=_.findWhere(checklist.items,{id:item.id});item.complete=newItem.complete;me.checklist.status=checklist.status;me.checklist.itemCount=checklist.itemCount;me.checklist.completeCount=checklist.completeCount;me.render();if(me.onUpdateItemHandler){me.onUpdateItemHandler()}})};ChecklistView.prototype.saveItems=function(){var me=this;var origIds=_.pluck(this.checklist.items,"id");var newIds=_.pluck(this.editItems,"id");if(_.isEqual(origIds,newIds)){appogee.valert(S.errorNoChanges);return}for(var i=0;i<this.editItems.length;i++){if(this.editItems[i].item===""){appogee.valert(S.errorNoItems);return}}var data={items:me.editItems};this._saveItems(data)};ChecklistView.prototype._saveItems=function(data){var me=this;appogee.notify(S.nfySaving);var url="/checklists/{0}/items".format(this.checklist.key);appogee.api.post(url,data,function(checklist){appogee.notifier.success(S.nfySaved);me.checklist.status=checklist.status;me.checklist.itemCount=checklist.itemCount;me.checklist.completeCount=checklist.completeCount;for(var i=0;i<checklist.items.length;i++){me.editItems[i].id=checklist.items[i].id}me.checklist.items=me.editItems;me.editItems=null;me.mode=me.previousMode;me.previousMode=null;me.render();if(me.onUpdateItemHandler){me.onUpdateItemHandler()}})};return ChecklistView});define("hbs!checklists/dlg/RestoreDialogTemplate",["hbs/handlebars","templates/helpers/s"],function(Handlebars){var t=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(depth0,helpers,partials,data){var stack1;return'<input type="text" class="dummy" />\n\n<p>'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"This action will restore the checklist assigned to {email}",{name:"s",hash:{email:(stack1=(stack1=depth0!=null?depth0.checklist:depth0)!=null?stack1.assignedTo:stack1)!=null?stack1.email:stack1},data:data}))+'</p>\n\n<div class="form-group">\n\t<label class="control-label">'+this.escapeExpression((helpers.s||depth0&&depth0.s||helpers.helperMissing).call(depth0,"Please confirm the checklist due date",{name:"s",hash:{},data:data}))+'</label>\n\t<div class="right-inner-addon">\n\t\t<i class="glyphicon glyphicon-calendar"></i>\n\t\t<input type="text" class="form-control datepicker" />\n\t</div>\n\t<div class="clearfix"></div>\n</div>'},useData:true});Handlebars.registerPartial("checklists/dlg/RestoreDialogTemplate",t);return t});define("checklists/dlg/RestoreDialog",["jquery","appogee","hbs!checklists/dlg/RestoreDialogTemplate","jquery.appogee.datePicker"],function($,appogee,tmpl){"use strict";var S,R={btnRestoreChecklist:"Restore Checklist"};var $dlg=null;return{show:function(checklist,callback){if(!S){S=appogee.getStrings("RestoreDialog",R)}var me=this;this.checklist=checklist;this.callback=callback;if(!$dlg){$dlg=$("<div />").addClass("dialog")}this.$dlg=$dlg;this.dlg=new appogee.Dialog(this.$dlg,{title:S.btnRestoreChecklist,okText:S.btnRestoreChecklist,okCallback:function(){me.doOk()}});this.render();this.dlg.show()},render:function(){var data={checklist:this.checklist};this.$dlg.html(tmpl(data));var dueDate=new Date(this.checklist.dueDate);$dlg.find(".datepicker").appogeeDatePicker({minDate:new Date});$dlg.find(".datepicker").datepicker("setDate",dueDate);this.dlg.center()},doOk:function(){var dueDate=$dlg.find(".datepicker").datepicker("getDate");this.callback({dueDate:dueDate});this.dlg.hide()}}});define("checklists/checklist",["jquery","bootstrap","appogee","checklists/views/ChecklistHeader","checklists/views/ChecklistView","checklists/dlg/RestoreDialog"],function($,bootstrap,appogee,ChecklistHeader,ChecklistView,RestoreDialog){"use strict";var S,R={confirmCompleteTitle:"Checklist Complete",confirmCompleteMsg1:"All items in the checklist have been completed.",confirmCompleteMsg2:"Would you like to submit the checklist now?",confirmSubmitTitle:"Submit Checklist?",confirmSubmitMsg1:"This will submit the checklist. No further changes will be permitted.",confirmSubmitMsg2:"Do you wish to continue?",nfySubmitting:"Submitting Checklist ...",nfySubmitted:"Checklist Submitted",confirmCancelTitle:"Cancel Checklist?",confirmCancelMsg1:"This will cancel the checklist and notify the assignee.",confirmCancelMsg2:"Do you wish to continue?",nfyCancelling:"Cancelling Checklist...",nfyCancelled:"Checklist Cancelled",nfyRestoring:"Restoring Checklist...",nfyRestored:"Checklist Restored",confirmDeleteTitle:"Delete Checklist?",confirmDeleteMsg1:"This will delete the checklist.",confirmDeleteMsg2:"Do you wish to continue?",nfyDeleting:"Deleting Checklist",alertDeletedTitle:"Checklist Deleted",alertDeletedMsg:"The checklist has been deleted. You will now be redirected to <em>Assigned Checklists</em>"};var STATUS_ASSIGNED=0;var STATUS_IN_PROGRESS=1;var STATUS_COMPLETE=2;var STATUS_SUBMITTED=3;var STATUS_CLOSED=4;var STATUS_CANCELLED=5;var checklistKey=$("#txtKey").val();return{defaultStrings:R,floatingHeader:true,preventNotifier:true,checklist:null,currentUser:null,view:null,checklistPreviousStatus:null,loadUrls:{api:["/checklists/"+checklistKey]},initialize:function(){S=this.S;var me=this;$(".btnCancel").click(function(){me.cancelChecklist()});$("#btnComplete").click(function(){me.view.setMode("edit");$("#alertNonAssignee").fadeOut(function(){me.scrollToItems()})})},onLoad:function(checklist){var me=this;this.checklist=checklist;if(this.checklist&&(this.checklist.status==STATUS_CANCELLED||this.checklist.status==STATUS_COMPLETE)){this.canEdit=false}else{this.canEdit=this.currentUser.canEditChecklist(this.checklist)}$("#h2PageTitle").html("Assigned to {0}".format(this.checklist.assignedTo.email));this.view=new ChecklistView($("#checklistContainer"),this.checklist);this.view.render();this.header=new ChecklistHeader($("#checklistHeader"),this.checklist);this.header.onUpdate(function(){me.updateNonAssigneeeWarning()});this.header.render();this.renderFloatingHeader();this.renderButtons();this.view.onUpdateItem(function(){me.checkComplete();me.header.render();me.renderButtons();me.renderFloatingHeader();me.attachEvents()});this.attachEvents()},render:function(){this.view.render();this.header.render();this.renderFloatingHeader();this.renderButtons();this.attachEvents()},updateNonAssigneeeWarning:function(){$(".assign_to_email").html(this.checklist.assignedTo.email);if(this.currentUser.key==this.checklist.assignedTo.key){this.view.setMode("edit");$("#alertNonAssignee").hide()}},attachEvents:function(){var me=this;$(".btnSubmit").click(function(){me.submit()});$(".btnDelete").click(function(){me.doDelete()});$(".btnRestore").click(function(){me.restoreChecklist()});$(".btnEditItems").click(function(){me.view.setMode("editItems");me.scrollToItems()})},renderFloatingHeader:function(){$("#floatingHeaderMessage").removeClass("in_progress pending_submit complete");var msg=null;var cssClass=null;if(this.checklist.status==STATUS_ASSIGNED){cssClass="in_progress";msg="0% Complete"}else if(this.checklist.status==STATUS_IN_PROGRESS){cssClass="in_progress";var perc=(this.checklist.completeCount/this.checklist.itemCount*100).toFixed(0);msg="{0}% Complete".format(perc)}else if(this.checklist.status==STATUS_COMPLETE){}$("#floatingHeaderMessage").toggle(msg!==null).html(msg).addClass(cssClass)},renderButtons:function(){$(".btnBack").hide();var canComplete=this.currentUser.canCompleteChecklist(this.checklist);var canEdit=this.currentUser.canEditChecklist(this.checklist);var isInProgress=this.checklist.status==STATUS_IN_PROGRESS;var isCancelled=this.checklist.status==STATUS_CANCELLED;var allItemsComplete=this.checklist.itemCount==this.checklist.completeCount;$(".btnSubmit").toggle(canComplete&&isInProgress&&allItemsComplete);$(".btnCancel").toggle(canEdit&&this.checklist.status<STATUS_COMPLETE);$(".btnRestore").toggle(canEdit&&isCancelled);$(".btnDelete").toggle(canEdit&&isCancelled);$(".btnEditItems").toggle(canEdit&&this.checklist.status<STATUS_COMPLETE);$("#mnuOptions").toggle(canEdit&&this.checklist.status!=STATUS_COMPLETE);if(this.checklist.status>STATUS_IN_PROGRESS){$("#alertNonAssignee").hide()}},scrollToItems:function(){var offset=70;$("html, body").animate({scrollTop:$("#scrollToMe").offset().top-offset},500)},checkComplete:function(){var me=this;if(this.checklist.itemCount==this.checklist.completeCount){appogee.yesNo(S.confirmComplete,function(decision){if(decision=="yes"){me.doSubmit()}})}},submit:function(){var me=this;appogee.yesNo(S.confirmSubmit,function(decision){if(decision=="yes"){me.doSubmit()}})},doSubmit:function(){var me=this;var url="/checklists/{0}/submit".format(this.checklist.key);appogee.notify(S.nfySubmitting);appogee.api.post(url,null,function(checklist){appogee.notifier.success(S.nfySubmitted);me.checklist.status=checklist.status;me.view.setMode("read");me.render()})},cancelChecklist:function(){var me=this;appogee.yesNo(S.confirmCancel,function(decision){if(decision=="yes"){var url="/checklists/{0}/cancel".format(me.checklist.key);appogee.notify(S.nfyCancelling);appogee.api.post(url,null,function(checklist){appogee.notifier.success(S.cancelled);me.checklist.status=checklist.status;me.checklist.cancelledBy=checklist.cancelledBy;me.checklist.cancelledDate=checklist.cancelledDate;me.render()})}})},restoreChecklist:function(){var me=this;RestoreDialog.show(this.checklist,function(dlgData){var url="/checklists/{0}/restore".format(this.checklist.key);var data={dueDate:dlgData.dueDate.toISOString(dlgData.dueDate)};appogee.notify(S.nfyRestoring);appogee.api.post(url,data,function(checklist){appogee.notifier.success(S.nfyRestored);me.checklist.status=checklist.status;me.checklist.dueDate=checklist.dueDate;me.render()})})},doDelete:function(){var me=this;appogee.yesNo(S.confirmDelete,function(decision){if(decision=="yes"){var url="/checklists/{0}".format(me.checklist.key);appogee.notifier.notify(S.nfyDeleting);appogee.api.delete(url,function(){appogee.notifier.hide();appogee.alert("","",function(){if(location.href.indexOf("/mgmt")>-1){location.href="/mgmt/checklists"}else{location.href="/my/checklists"}})})}})}}});define("alerts/alerts",["jquery","appogee","admin/org/views/OrgSelector"],function($,appogee,OrgSelector){"use strict";var S,R={colAction:"Action",colAssignedTo:"Assigned To",colAssignedOn:"Assigned On",colDueOn:"Due On",colDismissed:"Dismissed?",colComments:"Comments",colNudge:"Nudge",colDate:"Date",colNotification:"Notification",colEmployee:"Employee",colDismissedOn:"Dismissed On",errorAlreadyDismissedTitle:"Already Dismissed",errorAlreadyDismissedMsg:"This notification has already been dismissed!"};var PAGE_ID_EMPLOYEE="myhr-alerts";var PAGE_ID_MANAGER="mgmt-alerts";return{defaultStrings:R,isEmployeePage:function(){return this.pageId==PAGE_ID_EMPLOYEE},isManagerPage:function(){return this.pageId==PAGE_ID_MANAGER},views:{actions:null,notifications:null},getLoadUrls:function(){var urls=[];if(this.isManagerPage()){var aduKey=this.currentUser.getActiveAduKey();var teamsUrl="/teams?aduKey={0}&projection=basic&includeVirtualTeams=true&limit=1000".format(aduKey);urls.push(teamsUrl)}return{api:urls}},initialize:function(args){S=this.S;this.classification="actions";this.pageId=args.pageId;this.initActionsView();this.initNotificationsView();var me=this;$("#notificationsContainer").hide();$("#ddlClassification").change(function(){me.classification=this.value;if(me.classification=="actions"){$("#notificationsContainer").fadeOut(function(){$("#alertsContainer").fadeIn()})}else{$("#alertsContainer").fadeOut(function(){$("#notificationsContainer").fadeIn()})}});$("#ddlStatus").change(function(){me.setStatusFilter()})},setStatusFilter:function(){var status=$("#ddlStatus").val();if(status=="active"){this.views.actions.addFilter("dismissed",false,true);this.views.notifications.addFilter("dismissed",false,true)}else if(status=="dismissed"){this.views.actions.addFilter("dismissed",true,true);this.views.notifications.addFilter("dismissed",true,true)}this.views[this.classification].fetch()},onLoad:function(teams){$("#h2PageTitle").html("");if(this.isEmployeePage()){this.views[this.classification].fetch()}else{this.initOrgSelector(teams.items)}},initOrgSelector:function(teams){var _this36=this;var showTeamAll=this.currentUser.isHrManager();this.orgSelector=new OrgSelector($("#orgSelector"),{teams:teams,showTeamAll:showTeamAll,showTeamSelect:false,showVTeams:true});this.orgSelector.onAduChange(function(adu){_this36.views.actions.addDefaultKeyFilter("adu_key",adu.key);_this36.views.actions.removeKeyFilter("adu_key",true);_this36.views.notifications.addDefaultKeyFilter("adu_key",adu.key);_this36.views.notifications.removeKeyFilter("adu_key",true);_this36.views[_this36.classification].fetch()});this.orgSelector.onTeamChange(function(team){if(team){_this36.views.actions.addKeyFilter("employee_team_keys",team.key);_this36.views.notifications.addKeyFilter("employee_team_keys",team.key)}else{_this36.views.actions.removeKeyFilter("employee_team_keys");_this36.views.notifications.removeKeyFilter("employee_team_keys")}});this.orgSelector.render()},initActionsView:function(){var me=this;var now=new Date;var now3=(new Date).setDate(now.getDate()+3);this.views.actions=new appogee.View($("#alertsContainer"),"actions",{showSearch:false});this.views.actions.addDefaultKeyFilter("adu_key",this.currentUser.getActiveAduKey());this.views.actions.addDefaultFilter("classification","action");this.views.actions.addFilter("dismissed",false,true);if(this.isEmployeePage()){this.views.actions.addDefaultKeyFilter("employee_key",this.currentUser.key)}else{}this.views.actions.setDateFormatString(this.currentUser.dateFormatString);this.views.actions.setDateTimeFormatString(this.currentUser.dateTimeFormatString);this.views.actions.addDateTimeFormatter("created");this.views.actions.addColumn({type:"text",label:S.colAction,width:400,field:"[summary]"});if(!this.isEmployeePage()){this.views.actions.addColumn({type:"text",label:S.colAssignedTo,width:125,field:"[employee.name]"})}this.views.actions.addColumn({type:"text",label:S.colAssignedOn,width:100,field:"[created]"});this.views.actions.addColumn({type:"custom",label:S.colDueOn,width:100,render:function(action){var date=new Date(action.dueDate);var flag="red";if(action.dismissed){var dismissDate=new Date(action.dismissDate);if(dismissDate<=date){flag="green"}}else{if(date<now){flag="red"}else if(date<now3){flag="yellow"}else{flag="green"}}var html='<div class="flag-{0} flag-left">{1}</div>'.format(flag,appogee.util.date.toString(action.dueDate,me.currentUser.dateFormatString));return html}});this.views.actions.addColumn({type:"custom",label:S.colDismissed,width:110,render:function(action){var html="";if(action.dismissed){html+='<i class="glyphicon glyphicon-ok"></i> ';html+=appogee.util.datetime.toString(action.dismissDate,me.currentUser.dateFormatString)}return html}});this.views.actions.addColumn({type:"text",label:S.colComments,field:"[comments]"});if(!this.isEmployeePage()){this.views.actions.addColumn({type:"js",label:S.colNudge,field:"nudge",cssClass:"btnNudge",onClick:function(action,el){me.nudge(action,el)},render:function(action,linkTemplate){if(action.nudgeable){linkTemplate='<a href="javascript: void(0);" class="btn btn-default btn-sm text-danger btnNudge" data-key={0}>'.format(action.key);linkTemplate+='<i class="fa fa-clock-o text-danger"></i> Nudge</a>';return linkTemplate}return""}})}this.views.actions.fetch()},initNotificationsView:function(){var me=this;this.views.notifications=new appogee.View($("#notificationsContainer"),"notifications",{showSearch:false});this.views.notifications.addDefaultKeyFilter("adu_key",this.currentUser.getActiveAduKey());this.views.notifications.addDefaultFilter("classification","notification");this.views.notifications.addFilter("dismissed",false,true);if(this.isEmployeePage()){this.views.notifications.addDefaultKeyFilter("employee_key",this.currentUser.key)}else{}this.views.notifications.setDateFormatString(this.currentUser.dateFormatString);this.views.notifications.setDateTimeFormatString(this.currentUser.dateTimeFormatString);this.views.notifications.addDateTimeFormatter("created");this.views.notifications.addColumn({type:"text",label:S.colDate,field:"[created]"});this.views.notifications.addColumn({type:"text",label:S.colNotification,field:"[summary]"});if(!this.isEmployeePage()){this.views.notifications.addColumn({type:"text",label:S.colEmployee,field:"[employee.name]"})}this.views.notifications.addColumn({type:"custom",label:S.colDismissedOn,render:function(notification){var html="";if(notification.dismissed){html+=appogee.util.datetime.toString(notification.dismissDate)}return html}});if(this.isEmployeePage()){this.views.notifications.addColumn({type:"js",label:"",field:"Dismiss",cssClass:"js_dismiss",onClick:function(notification){var html="";if(notification.dismissed){appogee.valert(S.errorAlreadyDismissed)}else{var url="/notifications/{0}/dismiss".format(notification.key);var body={};appogee.api.post(url,body,function(){me.views.notifications.fetch()})}return html}})}this.views.notifications.fetch()},nudge:function(action,el){var $td=$(el).parent();$td.html('<img src="/img/spinners/working_16.gif" />');var body={key:action.key};var url="/mgmt/alerts/xhr/nudge";appogee.xhr.post(url,body,function(){$td.html('<div class="text-success"><i class="glyphicon glyphicon-ok"></i> Nudged!</div>')},{artificialDelay:true})}}});define("myhr/app",["module","app","checklists/checklists","checklists/checklist","alerts/alerts"],function(m,App,Checklists,Checklist,Alerts){"use strict";var MODULES={"myhr-checklists":Checklists,"myhr-checklist":Checklist,"myhr-alerts":Alerts};var pageId=m.config().pageId;if(pageId in MODULES){var module=MODULES[pageId];var app=new App(pageId,module);return app}});require(["myhr/app"],function(App){"use strict";if(App.initialize){App.initialize()}});